{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/images/2019-03-25_180320.png","path":"images/2019-03-25_180320.png","modified":1,"renderable":0},{"_id":"source/images/container-layers.jpg","path":"images/container-layers.jpg","modified":1,"renderable":0},{"_id":"source/images/docker_versions.png","path":"images/docker_versions.png","modified":1,"renderable":0},{"_id":"source/images/favicon.ico","path":"images/favicon.ico","modified":1,"renderable":0},{"_id":"source/images/hostnetwork.jpg","path":"images/hostnetwork.jpg","modified":1,"renderable":0},{"_id":"source/images/kube-proxy-mode iptables .png","path":"images/kube-proxy-mode iptables .png","modified":1,"renderable":0},{"_id":"source/images/metallb.jpg","path":"images/metallb.jpg","modified":1,"renderable":0},{"_id":"source/images/node.png","path":"images/node.png","modified":1,"renderable":0},{"_id":"source/images/nodeport.jpg","path":"images/nodeport.jpg","modified":1,"renderable":0},{"_id":"source/images/sharing-layers.jpg","path":"images/sharing-layers.jpg","modified":1,"renderable":0},{"_id":"source/images/swarmcluster.png","path":"images/swarmcluster.png","modified":1,"renderable":0},{"_id":"source/images/user_edge.jpg","path":"images/user_edge.jpg","modified":1,"renderable":0},{"_id":"source/images/2018-03-27_115251.png","path":"images/2018-03-27_115251.png","modified":1,"renderable":0},{"_id":"source/images/2018061310290292.jpg","path":"images/2018061310290292.jpg","modified":1,"renderable":0},{"_id":"themes/next/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/avatar.png","path":"images/avatar.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/favicon.ico","path":"images/favicon.ico","modified":1,"renderable":1},{"_id":"themes/next/source/images/loading.gif","path":"images/loading.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/placeholder.gif","path":"images/placeholder.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/searchicon.png","path":"images/searchicon.png","modified":1,"renderable":1},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/affix.js","path":"js/src/affix.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/algolia-search.js","path":"js/src/algolia-search.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/bootstrap.js","path":"js/src/bootstrap.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/exturl.js","path":"js/src/exturl.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/hook-duoshuo.js","path":"js/src/hook-duoshuo.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/js.cookie.js","path":"js/src/js.cookie.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/motion.js","path":"js/src/motion.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/post-details.js","path":"js/src/post-details.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/scroll-cookie.js","path":"js/src/scroll-cookie.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/scrollspy.js","path":"js/src/scrollspy.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/utils.js","path":"js/src/utils.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","path":"lib/algolia-instant-search/instantsearch.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","path":"lib/canvas-nest/canvas-nest.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/canvas-ribbon/canvas-ribbon.js","path":"lib/canvas-ribbon/canvas-ribbon.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/LICENSE","path":"lib/fastclick/LICENSE","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/README.md","path":"lib/fastclick/README.md","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/bower.json","path":"lib/fastclick/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","path":"lib/font-awesome/HELP-US-OUT.txt","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/bower.json","path":"lib/font-awesome/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","path":"lib/jquery_lazyload/CONTRIBUTING.md","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","path":"lib/jquery_lazyload/README.md","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","path":"lib/jquery_lazyload/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","path":"lib/jquery_lazyload/jquery.lazyload.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","path":"lib/jquery_lazyload/jquery.scrollstop.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-barber-shop.min.css","path":"lib/pace/pace-theme-barber-shop.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-big-counter.min.css","path":"lib/pace/pace-theme-big-counter.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-bounce.min.css","path":"lib/pace/pace-theme-bounce.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-atom.min.css","path":"lib/pace/pace-theme-center-atom.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-circle.min.css","path":"lib/pace/pace-theme-center-circle.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-radar.min.css","path":"lib/pace/pace-theme-center-radar.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-simple.min.css","path":"lib/pace/pace-theme-center-simple.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-corner-indicator.min.css","path":"lib/pace/pace-theme-corner-indicator.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-fill-left.min.css","path":"lib/pace/pace-theme-fill-left.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-flash.min.css","path":"lib/pace/pace-theme-flash.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-loading-bar.min.css","path":"lib/pace/pace-theme-loading-bar.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-mac-osx.min.css","path":"lib/pace/pace-theme-mac-osx.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-minimal.min.css","path":"lib/pace/pace-theme-minimal.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace.min.js","path":"lib/pace/pace.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/three/canvas_lines.min.js","path":"lib/three/canvas_lines.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/three/canvas_sphere.min.js","path":"lib/three/canvas_sphere.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/three/three-waves.min.js","path":"lib/three/three-waves.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/bower.json","path":"lib/velocity/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","path":"lib/velocity/velocity.ui.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery/index.js","path":"lib/jquery/index.js","modified":1,"renderable":1},{"_id":"source/images/service_nodeport.jpg","path":"images/service_nodeport.jpg","modified":1,"renderable":0},{"_id":"themes/next/source/js/src/schemes/pisces.js","path":"js/src/schemes/pisces.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.min.js","path":"lib/Han/dist/han.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","path":"lib/fancybox/source/blank.gif","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","path":"lib/fancybox/source/fancybox_loading.gif","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","path":"lib/fancybox/source/fancybox_loading@2x.gif","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","path":"lib/fancybox/source/fancybox_overlay.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","path":"lib/fancybox/source/fancybox_sprite.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","path":"lib/fancybox/source/fancybox_sprite@2x.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","path":"lib/fancybox/source/jquery.fancybox.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","path":"lib/fancybox/source/jquery.fancybox.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","path":"lib/fancybox/source/jquery.fancybox.pack.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","path":"lib/fastclick/lib/fastclick.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","path":"lib/fastclick/lib/fastclick.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","path":"lib/font-awesome/css/font-awesome.css.map","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","path":"lib/ua-parser-js/dist/ua-parser.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","path":"lib/ua-parser-js/dist/ua-parser.pack.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.css","path":"lib/Han/dist/han.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.min.css","path":"lib/Han/dist/han.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.js","path":"lib/velocity/velocity.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han-space.otf","path":"lib/Han/dist/font/han-space.otf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han-space.woff","path":"lib/Han/dist/font/han-space.woff","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.otf","path":"lib/Han/dist/font/han.otf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.js","path":"lib/Han/dist/han.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","path":"lib/fancybox/source/helpers/fancybox_buttons.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","path":"lib/fancybox/source/helpers/jquery.fancybox-media.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","path":"lib/font-awesome/fonts/FontAwesome.otf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","path":"lib/font-awesome/fonts/fontawesome-webfont.ttf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.woff","path":"lib/Han/dist/font/han.woff","modified":1,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","path":"lib/algolia-instant-search/instantsearch.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/three/three.min.js","path":"lib/three/three.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","path":"lib/font-awesome/fonts/fontawesome-webfont.svg","modified":1,"renderable":1}],"Cache":[{"_id":"themes/next/.bowerrc","hash":"3228a58ed0ece9f85e1e3136352094080b8dece1","modified":1553168509298},{"_id":"themes/next/.editorconfig","hash":"792fd2bd8174ece1a75d5fd24ab16594886f3a7f","modified":1553168509298},{"_id":"themes/next/.hound.yml","hash":"b76daa84c9ca3ad292c78412603370a367cc2bc3","modified":1553168509298},{"_id":"themes/next/.javascript_ignore","hash":"8a224b381155f10e6eb132a4d815c5b52962a9d1","modified":1553168509298},{"_id":"themes/next/.jshintrc","hash":"9928f81bd822f6a8d67fdbc909b517178533bca9","modified":1553168509298},{"_id":"themes/next/.stylintrc","hash":"b28e24704a5d8de08346c45286574c8e76cc109f","modified":1553168509298},{"_id":"themes/next/.travis.yml","hash":"c42d9608c8c7fe90de7b1581a8dc3886e90c179e","modified":1553168509298},{"_id":"themes/next/LICENSE","hash":"f293bcfcdc06c0b77ba13570bb8af55eb5c059fd","modified":1553168509298},{"_id":"themes/next/README.en.md","hash":"32d6cdfec1447f54aae1d7f1365ce6733dfcec8f","modified":1553168509298},{"_id":"themes/next/README.md","hash":"500b5606eb6a09c979d16128f8b00f4bf9bc95ac","modified":1553168509299},{"_id":"themes/next/_config.yml","hash":"9c6bed25aa6ca6a25b69c82eaaaa07de024d541f","modified":1553248133953},{"_id":"themes/next/bower.json","hash":"7d7938f9da896fe710aa0e9120140e528bf058df","modified":1553168509299},{"_id":"themes/next/gulpfile.coffee","hash":"031bffc483e417b20e90eceb6cf358e7596d2e69","modified":1553168509299},{"_id":"themes/next/package.json","hash":"193dad6f59a588908fac082cc46fe067dac1b84d","modified":1553168509302},{"_id":"source/_posts/2019-03-21-docker-network-overlay.md","hash":"346ca36c8a1c9997842fa341267bd890c9c2bb0c","modified":1553171146633},{"_id":"source/_posts/2019-03-21-docker-storage.md","hash":"b2ebbc7a94cdfae5e0742068cf965b9c1e07fbc7","modified":1553170768918},{"_id":"source/_posts/2019-03-21-jenkins-docker-command-not-found.md","hash":"232f08a06fc42a1294a2717a50f6ca163ba0893d","modified":1553170380218},{"_id":"source/_posts/2019-03-21-pull-docker-images-failed.md","hash":"cb3753d027e783ed9d9407378f2789dd1f45bb4d","modified":1553168509289},{"_id":"source/_posts/2019-03-21-python-mulit-thread.md","hash":"39f7012a9a9ad5647a25fc252b1c97583628f514","modified":1553168509289},{"_id":"source/_posts/2019-03-25-algorithm-two-order-list-merge.md","hash":"11c41468e06e2753788acf767961e09a37063a7c","modified":1553502873291},{"_id":"source/_posts/2019-03-25-docker-network-bridge.md","hash":"f3ecda19ba989562572c90810742a8eeb7336586","modified":1553492706757},{"_id":"source/_posts/2019-03-25-grpc-introduction.md","hash":"41ebd2f1a00e98e9dead0b343d4946167440b29a","modified":1553508289228},{"_id":"source/_posts/2019-03-25-install-docker-yum.md","hash":"78a5bf98f7c4237527b11aafa78b57a568786dd4","modified":1553492222708},{"_id":"source/_posts/2019-03-25-nginx-ingress-controller-introduct.md","hash":"66661c5b12fa45e77a561b637e3ec8d685927417","modified":1553503041935},{"_id":"source/_posts/2019-03-25-oracle-sql-second-version-note.md","hash":"ba06bf418fd9f579eb571bb2c7b1d89755cb7486","modified":1553505673093},{"_id":"source/_posts/2019-03-25-oracle-sql-seconds-notes-sec-2-sql-exec.md","hash":"853d0f96bc4253845092b2587802448ea3769802","modified":1553493605626},{"_id":"source/_posts/2019-03-25-private-registry-docker.md","hash":"af7c6d9cdb57069e2531cd47f462f6774380fefb","modified":1553493039000},{"_id":"source/about/index.md","hash":"eb6ffa20e19dbcff21f70669a732c18d1228990e","modified":1553168509289},{"_id":"source/archives/index.md","hash":"67a4aab57d1119d6efc0fb93cac2a54410c10497","modified":1553168509289},{"_id":"source/categories/index.md","hash":"42e2a5053a5afe11bb23e35b98b873cf9bbe74d9","modified":1553168509289},{"_id":"source/images/2019-03-25_180320.png","hash":"a80c974fc0071094aeb8ff013cbf3f18e224ac36","modified":1553508346318},{"_id":"source/images/container-layers.jpg","hash":"c6354991c7892a38207dddf9f07b4328d3dbeed3","modified":1553502583851},{"_id":"source/images/docker_versions.png","hash":"f6dc2081688d582a3ef0ff29cf32a410c67393a6","modified":1553502584120},{"_id":"source/images/favicon.ico","hash":"c168c50a843b52342efeef22376bc2e74688a116","modified":1553171567836},{"_id":"source/images/hostnetwork.jpg","hash":"b0478a0fd5086c6a1452920252dca60069b73962","modified":1553502584995},{"_id":"source/images/kube-proxy-mode iptables .png","hash":"d91b3164dff6e387721fedf99cf3b3edb7050a1a","modified":1553502588291},{"_id":"source/images/metallb.jpg","hash":"1f9f9e9f8685321d9329716b2c11ebcf188e1d9e","modified":1553502589902},{"_id":"source/images/node.png","hash":"c1399721d686508989b821d65ccca33eea7c489e","modified":1553502590309},{"_id":"source/images/nodeport.jpg","hash":"9f9383454db303f5e60d23ba32c89ddb05f87d93","modified":1553502590711},{"_id":"source/images/sharing-layers.jpg","hash":"82b3e992947958d7935aeb52753c9e6a2f07e171","modified":1553502593130},{"_id":"source/images/swarmcluster.png","hash":"e8bfdf7b46713fff7c63fdda89bc0f4a754c70fb","modified":1553502593402},{"_id":"source/images/user_edge.jpg","hash":"309d632e807ba54ec13cad7e6c122eaa07956f49","modified":1553502593940},{"_id":"source/tags/index.md","hash":"682c04efc90349264811e4b400e19eb9f46aa67a","modified":1553168509289},{"_id":"themes/next/languages/de.yml","hash":"306db8c865630f32c6b6260ade9d3209fbec8011","modified":1553168509299},{"_id":"themes/next/languages/default.yml","hash":"4cc6aeb1ac09a58330e494c8771773758ab354af","modified":1553168509299},{"_id":"themes/next/languages/en.yml","hash":"e7def07a709ef55684490b700a06998c67f35f39","modified":1553168509299},{"_id":"themes/next/languages/fr-FR.yml","hash":"24180322c83587a153cea110e74e96eacc3355ad","modified":1553168509299},{"_id":"themes/next/languages/id.yml","hash":"2835ea80dadf093fcf47edd957680973f1fb6b85","modified":1553168509299},{"_id":"themes/next/languages/ja.yml","hash":"1c3a05ab80a6f8be63268b66da6f19da7aa2c638","modified":1553168509299},{"_id":"themes/next/languages/ko.yml","hash":"be150543379150f78329815af427bf152c0e9431","modified":1553168509299},{"_id":"themes/next/languages/pt-BR.yml","hash":"958e49571818a34fdf4af3232a07a024050f8f4e","modified":1553168509299},{"_id":"themes/next/languages/pt.yml","hash":"36c8f60dacbe5d27d84d0e0d6974d7679f928da0","modified":1553168509299},{"_id":"themes/next/languages/ru.yml","hash":"1549a7c2fe23caa7cbedcd0aa2b77c46e57caf27","modified":1553168509299},{"_id":"themes/next/languages/zh-Hans.yml","hash":"e85ea999bac9ed7f9b9482b9d6f7c6b6eb5ec737","modified":1553218375034},{"_id":"themes/next/languages/zh-hk.yml","hash":"1c917997413bf566cb79e0975789f3c9c9128ccd","modified":1553168509299},{"_id":"themes/next/languages/zh-tw.yml","hash":"0b2c18aa76570364003c8d1cd429fa158ae89022","modified":1553168509299},{"_id":"themes/next/layout/_layout.swig","hash":"06b1eab2e00273e0b94bd32dc682bd92c1e0a747","modified":1553168509299},{"_id":"themes/next/layout/archive.swig","hash":"383f64deab105724fd5512371963bd9e9aafbffd","modified":1553168509301},{"_id":"themes/next/layout/category.swig","hash":"4472255f4a3e3dd6d79201523a9526dcabdfbf18","modified":1553168509301},{"_id":"themes/next/layout/index.swig","hash":"03e8a2cda03bad42ac0cb827025eb81f95d496a2","modified":1553168509301},{"_id":"themes/next/layout/page.swig","hash":"37c874cd720acf0eda8d26e063278f2b6ae8d3a6","modified":1553168509302},{"_id":"themes/next/layout/post.swig","hash":"2d5f8d7f0a96b611e2d5a5e4d111fc17726a990f","modified":1553483072403},{"_id":"themes/next/layout/schedule.swig","hash":"d86f8de4e118f8c4d778b285c140474084a271db","modified":1553168509302},{"_id":"themes/next/layout/tag.swig","hash":"7e0a7d7d832883eddb1297483ad22c184e4368de","modified":1553168509302},{"_id":"themes/next/scripts/merge-configs.js","hash":"13c8b3a2d9fce06c2488820d9248d190c8100e0a","modified":1553168509302},{"_id":"themes/next/scripts/merge.js","hash":"9130dabe6a674c54b535f322b17d75fe6081472f","modified":1553168509302},{"_id":"themes/next/test/.jshintrc","hash":"19f93d13d1689fe033c82eb2d5f3ce30b6543cc0","modified":1553168509322},{"_id":"themes/next/test/helpers.js","hash":"a1f5de25154c3724ffc24a91ddc576cdbd60864f","modified":1553168509322},{"_id":"themes/next/test/intern.js","hash":"11fa8a4f5c3b4119a179ae0a2584c8187f907a73","modified":1553168509322},{"_id":"source/images/2018-03-27_115251.png","hash":"691c7fa5be387e11f7ab8faea59ea06124090272","modified":1553502581366},{"_id":"themes/next/source/fonts/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1553168509306},{"_id":"source/_posts/2019-03-21-jenkins-docker-command-not-found/example.png","hash":"f6dc2081688d582a3ef0ff29cf32a410c67393a6","modified":1553170044266},{"_id":"source/images/2018061310290292.jpg","hash":"eda3d80ff692b0b59edf7d10d4ef46ae7332308f","modified":1553502583310},{"_id":"themes/next/layout/_custom/header.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1553168509299},{"_id":"themes/next/layout/_custom/sidebar.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1553168509299},{"_id":"themes/next/layout/_macro/google_adsense.swig","hash":"03601ea39f4933e21b57214e5c9a6fce8aebeb25","modified":1553484268966},{"_id":"themes/next/layout/_macro/post-collapse.swig","hash":"31322a7f57936cf2dc62e824af5490da5354cf02","modified":1553168509299},{"_id":"themes/next/layout/_macro/post-copyright.swig","hash":"53d4f83b2b7fb4387dfc9fe81519abd56fbce4ae","modified":1553168509299},{"_id":"themes/next/layout/_macro/post.swig","hash":"84f3b7da78c4e4fdcf429a0c52eecac352c9b67c","modified":1553484227925},{"_id":"themes/next/layout/_macro/reward.swig","hash":"5d5f70deb6074cb4dd0438463e14ccf89213c282","modified":1553168509300},{"_id":"themes/next/layout/_macro/sidebar.swig","hash":"faa7886ccf986890cd776f4e9d70cb89fe9fda5f","modified":1553168509300},{"_id":"themes/next/layout/_macro/wechat-subscriber.swig","hash":"39852700e4084ecccffa6d4669168e5cc0514c9e","modified":1553168509300},{"_id":"themes/next/layout/_partials/comments.swig","hash":"ce7094ee05878161e7568a6dfae5b56ff3fbd6e1","modified":1553168509300},{"_id":"themes/next/layout/_partials/footer.swig","hash":"2c1756b65b383dfc1d90206bb7ef2a1adcd5dc95","modified":1553218883280},{"_id":"themes/next/layout/_partials/head.swig","hash":"1f14d3f494b2dbbcee802fd6f6d1abd5b7e2304c","modified":1553168509300},{"_id":"themes/next/layout/_partials/header.swig","hash":"a1ffbb691dfad3eaf2832a11766e58a179003b8b","modified":1553168509300},{"_id":"themes/next/layout/_partials/page-header.swig","hash":"1efd925d34a5d4ba2dc0838d9c86ba911e705fc9","modified":1553168509300},{"_id":"themes/next/layout/_partials/pagination.swig","hash":"9e8e21d194ef44d271b1cca0bc1448c14d7edf4f","modified":1553168509300},{"_id":"themes/next/layout/_partials/search.swig","hash":"9dbd378e94abfcb3f864a5b8dbbf18d212ca2ee0","modified":1553168509300},{"_id":"themes/next/layout/_scripts/boostrap.swig","hash":"03aaebe9d50f6acb007ec38cc04acd1cfceb404d","modified":1553168509300},{"_id":"themes/next/layout/_scripts/commons.swig","hash":"766b2bdda29523ed6cd8d7aa197f996022f8fd94","modified":1553168509300},{"_id":"themes/next/layout/_scripts/vendors.swig","hash":"9baf90f7c40b3b10f288e9268c3191e895890cea","modified":1553168509300},{"_id":"themes/next/layout/_third-party/duoshuo-hot-articles.swig","hash":"5d4638c46aef65bf32a01681495b62416ccc98db","modified":1553168509301},{"_id":"themes/next/layout/_third-party/exturl.swig","hash":"7c04a42319d728be356746363aff8ea247791d24","modified":1553168509301},{"_id":"themes/next/layout/_third-party/mathjax.swig","hash":"6d25596d6a7c57700d37b607f8d9a62d89708683","modified":1553168509301},{"_id":"themes/next/layout/_third-party/rating.swig","hash":"fc93b1a7e6aed0dddb1f3910142b48d8ab61174e","modified":1553168509301},{"_id":"themes/next/layout/_third-party/schedule.swig","hash":"22369026c87fc23893c35a7f250b42f3bb1b60f1","modified":1553168509301},{"_id":"themes/next/layout/_third-party/scroll-cookie.swig","hash":"1ddb2336a1a19b47af3017047012c01ec5f54529","modified":1553168509301},{"_id":"themes/next/scripts/tags/button.js","hash":"62e6dbeb53d07627a048132c79630b45d9a8f2cc","modified":1553168509302},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"535fc542781021c4326dec24d8495cbb1387634a","modified":1553168509302},{"_id":"themes/next/scripts/tags/exturl.js","hash":"8d7e60f60779bde050d20fd76f6fdc36fc85e06d","modified":1553168509302},{"_id":"themes/next/scripts/tags/full-image.js","hash":"8eeb3fb89540299bdbb799edfdfdac3743b50596","modified":1553168509302},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"49252824cd53184dc9b97b2f2d87ff28e1b3ef27","modified":1553168509302},{"_id":"themes/next/scripts/tags/label.js","hash":"2f8f41a7316372f0d1ed6b51190dc4acd3e16fff","modified":1553168509302},{"_id":"themes/next/scripts/tags/lazy-image.js","hash":"eeeabede68cf263de9e6593ecf682f620da16f0a","modified":1553168509302},{"_id":"themes/next/scripts/tags/note.js","hash":"64de4e9d01cf3b491ffc7d53afdf148ee5ad9779","modified":1553168509302},{"_id":"themes/next/scripts/tags/tabs.js","hash":"5786545d51c38e8ca38d1bfc7dd9e946fc70a316","modified":1553168509302},{"_id":"themes/next/source/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1553168509306},{"_id":"themes/next/source/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1553168509306},{"_id":"themes/next/source/images/avatar.png","hash":"e696f046e8385f0b71c71aaca7f61141b5893510","modified":1553168509306},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1553168509306},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1553168509306},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1553168509306},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1553168509306},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1553168509306},{"_id":"themes/next/source/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1553168509306},{"_id":"themes/next/source/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1553168509306},{"_id":"themes/next/source/images/favicon.ico","hash":"c168c50a843b52342efeef22376bc2e74688a116","modified":1553168509306},{"_id":"themes/next/source/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1553168509306},{"_id":"themes/next/source/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1553168509306},{"_id":"themes/next/source/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1553168509306},{"_id":"themes/next/source/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1553168509306},{"_id":"themes/next/source/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1553168509306},{"_id":"themes/next/source/css/main.styl","hash":"20702c48d6053c92c5bcdbc68e8d0ef1369848a0","modified":1553168509306},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1553168509300},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1553168509300},{"_id":"themes/next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1553168509305},{"_id":"themes/next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1553168509305},{"_id":"themes/next/source/css/_mixins/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1553168509305},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1553168509305},{"_id":"themes/next/source/css/_variables/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1553168509306},{"_id":"themes/next/layout/_partials/head/custom-head.swig","hash":"9e1b9666efa77f4cf8d8261bcfa445a9ac608e53","modified":1553168509300},{"_id":"themes/next/layout/_partials/head/external-fonts.swig","hash":"7ce76358411184482bb0934e70037949dd0da8ca","modified":1553168509300},{"_id":"themes/next/layout/_partials/search/localsearch.swig","hash":"957701729b85fb0c5bfcf2fb99c19d54582f91ed","modified":1553168509300},{"_id":"themes/next/layout/_partials/search/swiftype.swig","hash":"959b7e04a96a5596056e4009b73b6489c117597e","modified":1553168509300},{"_id":"themes/next/layout/_partials/search/tinysou.swig","hash":"eefe2388ff3d424694045eda21346989b123977c","modified":1553168509300},{"_id":"themes/next/layout/_partials/share/add-this.swig","hash":"23e23dc0f76ef3c631f24c65277adf7ea517b383","modified":1553168509300},{"_id":"themes/next/layout/_partials/share/baidushare.swig","hash":"1f1107468aaf03f7d0dcd7eb2b653e2813a675b4","modified":1553168509300},{"_id":"themes/next/layout/_partials/share/duoshuo_share.swig","hash":"89c5a5240ecb223acfe1d12377df5562a943fd5d","modified":1553168509300},{"_id":"themes/next/layout/_partials/share/jiathis.swig","hash":"63315fcf210799f894208c9f512737096df84962","modified":1553168509300},{"_id":"themes/next/layout/_scripts/pages/post-details.swig","hash":"069d1357c717572256e5cdee09574ebce529cbae","modified":1553168509300},{"_id":"themes/next/layout/_scripts/schemes/gemini.swig","hash":"a44acf9b0d0f44ef3dfc767376a95c984cc127de","modified":1553168509300},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","hash":"a44acf9b0d0f44ef3dfc767376a95c984cc127de","modified":1553168509300},{"_id":"themes/next/layout/_third-party/analytics/application-insights.swig","hash":"60426bf73f8a89ba61fb1be2df3ad5398e32c4ef","modified":1553168509300},{"_id":"themes/next/layout/_third-party/analytics/baidu-analytics.swig","hash":"deda6a814ed48debc694c4e0c466f06c127163d0","modified":1553168509301},{"_id":"themes/next/layout/_third-party/analytics/busuanzi-counter.swig","hash":"18e7bef8923d83ea42df6c97405e515a876cede4","modified":1553168509301},{"_id":"themes/next/layout/_third-party/analytics/cnzz-analytics.swig","hash":"8160b27bee0aa372c7dc7c8476c05bae57f58d0f","modified":1553168509301},{"_id":"themes/next/layout/_third-party/analytics/facebook-sdk.swig","hash":"a234c5cd1f75ca5731e814d0dbb92fdcf9240d1b","modified":1553168509301},{"_id":"themes/next/layout/_third-party/analytics/google-analytics.swig","hash":"5d9943d74cc2e0a91badcf4f755c6de77eab193a","modified":1553168509301},{"_id":"themes/next/layout/_third-party/analytics/index.swig","hash":"3358d11b9a26185a2d36c96049e4340e701646e4","modified":1553168509301},{"_id":"themes/next/layout/_third-party/analytics/lean-analytics.swig","hash":"fc65b9c98a0a8ab43a5e7aabff6c5f03838e09c8","modified":1553168509301},{"_id":"themes/next/layout/_third-party/analytics/tencent-analytics.swig","hash":"3658414379e0e8a34c45c40feadc3edc8dc55f88","modified":1553168509301},{"_id":"themes/next/layout/_third-party/analytics/tencent-mta.swig","hash":"0ddc94ed4ba0c19627765fdf1abc4d8efbe53d5a","modified":1553168509301},{"_id":"themes/next/layout/_third-party/analytics/vkontakte-api.swig","hash":"c3971fd154d781088e1cc665035f8561a4098f4c","modified":1553168509301},{"_id":"themes/next/layout/_third-party/comments/changyan.swig","hash":"0e3378f7c39b2b0f69638290873ede6b6b6825c0","modified":1553168509301},{"_id":"themes/next/layout/_third-party/comments/disqus.swig","hash":"c316758546dc9ba6c60cb4d852c17ca6bb6d6724","modified":1553168509301},{"_id":"themes/next/layout/_third-party/comments/duoshuo.swig","hash":"a356b2185d40914447fde817eb3d358ab6b3e4c3","modified":1553168509301},{"_id":"themes/next/layout/_third-party/comments/hypercomments.swig","hash":"3e8dc5c6c912628a37e3b5f886bec7b2e5ed14ea","modified":1553168509301},{"_id":"themes/next/layout/_third-party/comments/index.swig","hash":"ee63aa2e49507b884a2d56778479cf01c723d751","modified":1553168509301},{"_id":"themes/next/layout/_third-party/comments/livere.swig","hash":"8a2e393d2e49f7bf560766d8a07cd461bf3fce4f","modified":1553168509301},{"_id":"themes/next/layout/_third-party/comments/youyan.swig","hash":"8b6650f77fe0a824c8075b2659e0403e0c78a705","modified":1553168509301},{"_id":"themes/next/layout/_third-party/search/index.swig","hash":"c747fb5c6b1f500e8f0c583e44195878b66e4e29","modified":1553168509301},{"_id":"themes/next/layout/_third-party/search/localsearch.swig","hash":"385c066af96bee30be2459dbec8aae1f15d382f5","modified":1553168509301},{"_id":"themes/next/layout/_third-party/search/tinysou.swig","hash":"cb3a5d36dbe1630bab84e03a52733a46df7c219b","modified":1553168509301},{"_id":"themes/next/layout/_third-party/seo/baidu-push.swig","hash":"c057b17f79e8261680fbae8dc4e81317a127c799","modified":1553168509301},{"_id":"themes/next/source/css/_custom/custom.styl","hash":"328d9a9696cc2ccf59c67d3c26000d569f46344c","modified":1553168509305},{"_id":"themes/next/source/css/_mixins/Gemini.styl","hash":"2aa5b7166a85a8aa34b17792ae4f58a5a96df6cc","modified":1553168509305},{"_id":"themes/next/source/css/_mixins/Pisces.styl","hash":"eaedfaf06dae94ba77a8f4893e2e434bf8859bac","modified":1553168509305},{"_id":"themes/next/source/css/_mixins/base.styl","hash":"82f9055955920ed88a2ab6a20ab02169abb2c634","modified":1553168509305},{"_id":"themes/next/source/css/_variables/Gemini.styl","hash":"49b5210fa62d6cbc6a98f57d89d5067a06ab3561","modified":1553168509305},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"c8d35a6b9e3bff6d8fdb66de853065af9d37562d","modified":1553168509305},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"cfee25d790e4f9b7d57f0dc7e2ea9c1649f08f11","modified":1553168509306},{"_id":"themes/next/source/css/_variables/base.styl","hash":"d477196c5699c8261b08e993a77ef67054d86166","modified":1553168509306},{"_id":"themes/next/source/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1553168509306},{"_id":"themes/next/source/js/src/algolia-search.js","hash":"b172f697ed339a24b1e80261075232978d164c35","modified":1553168509307},{"_id":"themes/next/source/js/src/bootstrap.js","hash":"6117f97b4984b8e33f21c726132da64ba678e4ed","modified":1553168509307},{"_id":"themes/next/source/js/src/exturl.js","hash":"e42e2aaab7bf4c19a0c8e779140e079c6aa5c0b1","modified":1553168509307},{"_id":"themes/next/source/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1553168509307},{"_id":"themes/next/source/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1553168509307},{"_id":"themes/next/source/js/src/motion.js","hash":"dc0365b2fb315a8b43d3ef19b59d3a82a366fcc1","modified":1553168509307},{"_id":"themes/next/source/js/src/post-details.js","hash":"0693695a9512641daff63d99da772625a058ab18","modified":1553168509307},{"_id":"themes/next/source/js/src/scroll-cookie.js","hash":"09dc828cbf5f31158ff6250d2bf7c3cde6365c67","modified":1553168509307},{"_id":"themes/next/source/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1553168509307},{"_id":"themes/next/source/js/src/utils.js","hash":"2917c39c75b14b6dab7e1c46ab4d87b4df9fcd5d","modified":1553168509307},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1553168509308},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1553168509311},{"_id":"themes/next/source/lib/canvas-ribbon/canvas-ribbon.js","hash":"7fd2f3e2773555392ef40df40cae3bedb884f17a","modified":1553168509311},{"_id":"themes/next/source/lib/fancybox/.bower.json","hash":"cc40a9b11e52348e554c84e4a5c058056f6b7aeb","modified":1553168509311},{"_id":"themes/next/source/lib/fancybox/.gitattributes","hash":"2db21acfbd457452462f71cc4048a943ee61b8e0","modified":1553168509311},{"_id":"themes/next/source/lib/fastclick/.bower.json","hash":"93ebd5b35e632f714dcf1753e1f6db77ec74449b","modified":1553168509311},{"_id":"themes/next/source/lib/fastclick/LICENSE","hash":"dcd5b6b43095d9e90353a28b09cb269de8d4838e","modified":1553168509311},{"_id":"themes/next/source/lib/fastclick/README.md","hash":"1decd8e1adad2cd6db0ab50cf56de6035156f4ea","modified":1553168509312},{"_id":"themes/next/source/lib/fastclick/bower.json","hash":"13379463c7463b4b96d13556b46faa4cc38d81e6","modified":1553168509312},{"_id":"themes/next/source/lib/font-awesome/.bower.json","hash":"a2aaaf12378db56bd10596ba3daae30950eac051","modified":1553168509312},{"_id":"themes/next/source/lib/font-awesome/.gitignore","hash":"69d152fa46b517141ec3b1114dd6134724494d83","modified":1553168509312},{"_id":"themes/next/source/lib/font-awesome/.npmignore","hash":"dcf470ab3a358103bb896a539cc03caeda10fa8b","modified":1553168509312},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1553168509312},{"_id":"themes/next/source/lib/font-awesome/bower.json","hash":"279a8a718ab6c930a67c41237f0aac166c1b9440","modified":1553168509312},{"_id":"themes/next/source/lib/jquery/.bower.json","hash":"91745c2cc6c946c7275f952b2b0760b880cea69e","modified":1553168509316},{"_id":"themes/next/source/lib/jquery_lazyload/.bower.json","hash":"b7638afc93e9cd350d0783565ee9a7da6805ad8e","modified":1553168509316},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","hash":"4891864c24c28efecd81a6a8d3f261145190f901","modified":1553168509316},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","hash":"895d50fa29759af7835256522e9dd7dac597765c","modified":1553168509316},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","hash":"65bc85d12197e71c40a55c0cd7f6823995a05222","modified":1553168509316},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1553168509316},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1553168509316},{"_id":"themes/next/source/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1553168509316},{"_id":"themes/next/source/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1553168509316},{"_id":"themes/next/source/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1553168509316},{"_id":"themes/next/source/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1553168509316},{"_id":"themes/next/source/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1553168509317},{"_id":"themes/next/source/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1553168509317},{"_id":"themes/next/source/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1553168509317},{"_id":"themes/next/source/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1553168509317},{"_id":"themes/next/source/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1553168509317},{"_id":"themes/next/source/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1553168509317},{"_id":"themes/next/source/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1553168509317},{"_id":"themes/next/source/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1553168509317},{"_id":"themes/next/source/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1553168509317},{"_id":"themes/next/source/lib/pace/pace.min.js","hash":"9944dfb7814b911090e96446cea4d36e2b487234","modified":1553168509317},{"_id":"themes/next/source/lib/three/canvas_lines.min.js","hash":"dce4a3b65f8bf958f973690caa7ec4952f353b0c","modified":1553168509317},{"_id":"themes/next/source/lib/three/canvas_sphere.min.js","hash":"d8ea241a53c135a650f7335d2b6982b899fd58a9","modified":1553168509317},{"_id":"themes/next/source/lib/three/three-waves.min.js","hash":"d968cba6b3a50b3626a02d67b544f349d83b147c","modified":1553168509317},{"_id":"themes/next/source/lib/velocity/.bower.json","hash":"05f960846f1c7a93dab1d3f9a1121e86812e8c88","modified":1553168509320},{"_id":"themes/next/source/lib/velocity/bower.json","hash":"2ec99573e84c7117368beccb9e94b6bf35d2db03","modified":1553168509320},{"_id":"themes/next/source/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1553168509321},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1553168509321},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1553168509321},{"_id":"themes/next/source/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1553168509316},{"_id":"source/images/service_nodeport.jpg","hash":"15d79cd10d5e82d1ca2011bea7e92193af3fbcbe","modified":1553502592591},{"_id":"themes/next/layout/_third-party/search/algolia-search/assets.swig","hash":"28ff4ed6714c59124569ffcbd10f1173d53ca923","modified":1553168509301},{"_id":"themes/next/layout/_third-party/search/algolia-search/dom.swig","hash":"ba698f49dd3a868c95b240d802f5b1b24ff287e4","modified":1553168509301},{"_id":"themes/next/source/css/_common/components/back-to-top-sidebar.styl","hash":"d026c8489f66ab6c12ad04bd37f1d5b6f2f3f0d1","modified":1553168509302},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"31050fc7a25784805b4843550151c93bfa55c9c8","modified":1553168509302},{"_id":"themes/next/source/css/_common/components/buttons.styl","hash":"0dfb4b3ba3180d7285e66f270e1d3fa0f132c3d2","modified":1553168509302},{"_id":"themes/next/source/css/_common/components/comments.styl","hash":"471f1627891aca5c0e1973e09fbcb01e1510d193","modified":1553168509302},{"_id":"themes/next/source/css/_common/components/components.styl","hash":"a6bb5256be6195e76addbda12f4ed7c662d65e7a","modified":1553168509302},{"_id":"themes/next/source/css/_common/components/pagination.styl","hash":"711c8830886619d4f4a0598b0cde5499dce50c62","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/tag-cloud.styl","hash":"dd8a3b22fc2f222ac6e6c05bd8a773fb039169c0","modified":1553168509304},{"_id":"themes/next/source/css/_common/outline/outline.styl","hash":"2186be20e317505cd31886f1291429cc21f76703","modified":1553168509304},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"2915df7152ea095a6290ef69157fd67669e0e793","modified":1553168509304},{"_id":"themes/next/source/css/_common/scaffolding/helpers.styl","hash":"9c25c75311e1bd4d68df031d3f2ae6d141a90766","modified":1553168509304},{"_id":"themes/next/source/css/_common/scaffolding/mobile.styl","hash":"86b6fd7f1b1be3ae98f8af6b23a6b1299c670ce9","modified":1553168509304},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"ece571f38180febaf02ace8187ead8318a300ea7","modified":1553168509305},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","hash":"a280a583b7615e939aaddbf778f5c108ef8a2a6c","modified":1553168509305},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"64f5d56c08d74a338813df1265580ca0cbf0190b","modified":1553168509305},{"_id":"themes/next/source/css/_schemes/Gemini/index.styl","hash":"bc8c388553bbcf95897459a466ba35bffd5ec5f0","modified":1553168509305},{"_id":"themes/next/source/css/_schemes/Mist/_base.styl","hash":"c2d079788d6fc2e9a191ccdae94e50d55bf849dc","modified":1553168509305},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"5ae7906dc7c1d9468c7f4b4a6feddddc555797a1","modified":1553168509305},{"_id":"themes/next/source/css/_schemes/Mist/_logo.styl","hash":"38e5df90c8689a71c978fd83ba74af3d4e4e5386","modified":1553168509305},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"b0dcca862cd0cc6e732e33d975b476d744911742","modified":1553168509305},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expanded.styl","hash":"fda14bc35be2e1b332809b55b3d07155a833dbf4","modified":1553168509305},{"_id":"themes/next/source/css/_schemes/Mist/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1553168509305},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"9a5581a770af8964064fef7afd3e16963e45547f","modified":1553168509305},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"0efa036a15c18f5abb058b7c0fad1dd9ac5eed4c","modified":1553168509305},{"_id":"themes/next/source/css/_schemes/Muse/_logo.styl","hash":"8829bc556ca38bfec4add4f15a2f028092ac6d46","modified":1553168509305},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"82bbaa6322764779a1ac2e2c8390ce901c7972e2","modified":1553168509305},{"_id":"themes/next/source/css/_schemes/Muse/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1553168509305},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"a0e2030a606c934fb2c5c7373aaae04a1caac4c5","modified":1553168509305},{"_id":"themes/next/source/css/_schemes/Pisces/_brand.styl","hash":"c4ed249798296f60bda02351fe6404fb3ef2126f","modified":1553168509305},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"5b93958239d3d2bf9aeaede44eced2434d784462","modified":1553168509305},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"215de948be49bcf14f06d500cef9f7035e406a43","modified":1553168509305},{"_id":"themes/next/source/css/_schemes/Pisces/_posts.styl","hash":"2f878213cb24c5ddc18877f6d15ec5c5f57745ac","modified":1553168509305},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"e3e23751d4ad24e8714b425d768cf68e37de7ded","modified":1553168509305},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"69ecd6c97e7cdfd822ac8102b45ad0ede85050db","modified":1553168509305},{"_id":"themes/next/source/js/src/schemes/pisces.js","hash":"79da92119bc246fe05d1626ac98426a83ec90a94","modified":1553168509307},{"_id":"themes/next/source/lib/Han/dist/han.min.js","hash":"f559c68a25065a14f47da954a7617d87263e409d","modified":1553168509308},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1553168509311},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1553168509311},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1553168509311},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1553168509311},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1553168509311},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1553168509311},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1553168509311},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1553168509311},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1553168509311},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1553168509312},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1553168509312},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1553168509312},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1553168509312},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1553168509312},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1553168509320},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1553168509320},{"_id":"themes/next/source/lib/Han/dist/han.css","hash":"bd40da3fba8735df5850956814e312bd7b3193d7","modified":1553168509307},{"_id":"themes/next/source/lib/Han/dist/han.min.css","hash":"a0c9e32549a8b8cf327ab9227b037f323cdb60ee","modified":1553168509308},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1553168509315},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1553168509316},{"_id":"themes/next/source/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1553168509321},{"_id":"themes/next/source/css/_common/components/footer/footer.styl","hash":"8994ffcce84deac0471532f270f97c44fea54dc0","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/header/header.styl","hash":"ae1ca14e51de67b07dba8f61ec79ee0e2e344574","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/header/headerband.styl","hash":"d27448f199fc2f9980b601bc22b87f08b5d64dd1","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/header/menu.styl","hash":"8a2421cb9005352905fae9d41a847ae56957247e","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/header/site-meta.styl","hash":"6c00f6e0978f4d8f9a846a15579963728aaa6a17","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/header/site-nav.styl","hash":"49c2b2c14a1e7fcc810c6be4b632975d0204c281","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/highlight/diff.styl","hash":"96f32ea6c3265a3889e6abe57587f6e2a2a40dfb","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/highlight/highlight.styl","hash":"740d37f428b8f4574a76fc95cc25e50e0565f45e","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/highlight/theme.styl","hash":"b76387934fb6bb75212b23c1a194486892cc495e","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/pages/archive.styl","hash":"7778920dd105fa4de3a7ab206eeba30b1a7bac45","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"4eff5b252d7b614e500fc7d52c97ce325e57d3ab","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","hash":"2039590632bba3943c39319d80ef630af7928185","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/pages/post-detail.styl","hash":"9bf4362a4d0ae151ada84b219d39fbe5bb8c790e","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"a82afbb72d83ee394aedc7b37ac0008a9823b4f4","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/post/post-button.styl","hash":"beccb53dcd658136fb91a0c5678dea8f37d6e0b6","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"0f7f522cc6bfb3401d5afd62b0fcdf48bb2d604b","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/post/post-copyright.styl","hash":"f54367c0feda6986c030cc4d15a0ca6ceea14bcb","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","hash":"2cdc094ecf907a02fce25ad4a607cd5c40da0f2b","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","hash":"88c7d75646b66b168213190ee4cd874609afd5e3","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"387ce23bba52b22a586b2dfb4ec618fe1ffd3926","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/post/post-meta.styl","hash":"ed88c8b51d0517759c777e71a6bfbe2907bcd994","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"a5d8617a24d7cb6c5ad91ea621183ca2c0917331","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"ee554b1031ef0070a5916477939021800e3c9d27","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/post/post-rtl.styl","hash":"017074ef58166e2d69c53bb7590a0e7a8947a1ed","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","hash":"a352ae5b1f8857393bf770d2e638bf15f0c9585d","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/post/post-title.styl","hash":"963105a531403d7aad6d9e5e23e3bfabb8ec065a","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/post/post-type.styl","hash":"10251257aceecb117233c9554dcf8ecfef8e2104","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/post/post-widgets.styl","hash":"08a500b2984f109b751f3697ca33172d1340591a","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/post/post-wordcount.styl","hash":"4fda5d38c6c8d910e3bf5c74a48a8d4a3f3dc73d","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/post/post.styl","hash":"51eca243220cf57133a4becae9b78514bcfdc723","modified":1553168509303},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author-links.styl","hash":"65a64d5662637b66e2f039a5f58217afe7a6e800","modified":1553168509304},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author.styl","hash":"920343e41c124221a17f050bbb989494d44f7a24","modified":1553168509304},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-blogroll.styl","hash":"5f6ea57aabfa30a437059bf8352f1ad829dbd4ff","modified":1553168509304},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-dimmer.styl","hash":"efa5e5022e205b52786ce495d4879f5e7b8f84b2","modified":1553168509304},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-feed-link.styl","hash":"9486ddd2cb255227db102d09a7df4cae0fabad72","modified":1553168509304},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-nav.styl","hash":"45fa7193435a8eae9960267438750b4c9fa9587f","modified":1553168509304},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toc.styl","hash":"77c92a449ce84d558d26d052681f2e0dd77c70c9","modified":1553168509304},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toggle.styl","hash":"f7784aba0c1cd20d824c918c120012d57a5eaa2a","modified":1553168509304},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar.styl","hash":"57d2c8a060f5e4e1a0aef9aae11a0016cf7ac5ba","modified":1553168509304},{"_id":"themes/next/source/css/_common/components/sidebar/site-state.styl","hash":"3623e7fa4324ec1307370f33d8f287a9e20a5578","modified":1553168509304},{"_id":"themes/next/source/css/_common/components/tags/blockquote-center.styl","hash":"c2abe4d87148e23e15d49ee225bc650de60baf46","modified":1553168509304},{"_id":"themes/next/source/css/_common/components/tags/exturl.styl","hash":"1b3cc9f4e5a7f6e05b4100e9990b37b20d4a2005","modified":1553168509304},{"_id":"themes/next/source/css/_common/components/tags/full-image.styl","hash":"b8969e1654eec89a0fd10d88b337fee9cb03cd44","modified":1553168509304},{"_id":"themes/next/source/css/_common/components/tags/group-pictures.styl","hash":"4851b981020c5cbc354a1af9b831a2dcb3cf9d39","modified":1553168509304},{"_id":"themes/next/source/css/_common/components/tags/label.styl","hash":"4a457d265d62f287c63d48764ce45d9bcfc9ec5a","modified":1553168509304},{"_id":"themes/next/source/css/_common/components/tags/note-modern.styl","hash":"45df0cf4c97b47e05573bcd41028ee50f3fdf432","modified":1553168509304},{"_id":"themes/next/source/css/_common/components/tags/note.styl","hash":"32c9156bea5bac9e9ad0b4c08ffbca8b3d9aac4b","modified":1553168509304},{"_id":"themes/next/source/css/_common/components/tags/tabs.styl","hash":"4ab5deed8c3b0c338212380f678f8382672e1bcb","modified":1553168509304},{"_id":"themes/next/source/css/_common/components/tags/tags.styl","hash":"ead0d0f2321dc71505788c7f689f92257cf14947","modified":1553168509304},{"_id":"themes/next/source/css/_common/components/third-party/algolia-search.styl","hash":"fd42777b9125fd8969dc39d4f15473e2b91b4142","modified":1553168509304},{"_id":"themes/next/source/css/_common/components/third-party/baidushare.styl","hash":"93b08815c4d17e2b96fef8530ec1f1064dede6ef","modified":1553168509304},{"_id":"themes/next/source/css/_common/components/third-party/busuanzi-counter.styl","hash":"d4e6d8d7b34dc69994593c208f875ae8f7e8a3ae","modified":1553168509304},{"_id":"themes/next/source/css/_common/components/third-party/duoshuo.styl","hash":"2340dd9b3202c61d73cc708b790fac5adddbfc7f","modified":1553168509304},{"_id":"themes/next/source/css/_common/components/third-party/han.styl","hash":"cce6772e2cdb4db85d35486ae4c6c59367fbdd40","modified":1553168509304},{"_id":"themes/next/source/css/_common/components/third-party/jiathis.styl","hash":"327b5f63d55ec26f7663185c1a778440588d9803","modified":1553168509304},{"_id":"themes/next/source/css/_common/components/third-party/localsearch.styl","hash":"d89c4b562b528e4746696b2ad8935764d133bdae","modified":1553168509304},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","hash":"aeff0e6e23725e8baea27c890ccbbf466024f767","modified":1553168509304},{"_id":"themes/next/source/css/_schemes/Mist/outline/outline.styl","hash":"5dc4859c66305f871e56cba78f64bfe3bf1b5f01","modified":1553168509305},{"_id":"themes/next/source/css/_schemes/Mist/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1553168509305},{"_id":"themes/next/source/css/_schemes/Muse/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1553168509305},{"_id":"themes/next/source/lib/Han/dist/font/han-space.otf","hash":"07436f011b44051f61b8329c99de4bec64e86f4b","modified":1553168509307},{"_id":"themes/next/source/lib/Han/dist/font/han-space.woff","hash":"7a635062b10bf5662ae1d218ba0980171005d060","modified":1553168509307},{"_id":"themes/next/source/lib/Han/dist/font/han.otf","hash":"f1f6bb8f461f5672e000380195d3d2358a28494c","modified":1553168509307},{"_id":"themes/next/source/lib/Han/dist/han.js","hash":"e345397e0585c9fed1449e614ec13e0224acf2ab","modified":1553168509308},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1553168509311},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1553168509311},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1553168509311},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1553168509311},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1553168509311},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1553168509311},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1553168509313},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1553168509314},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1553168509315},{"_id":"themes/next/source/lib/Han/dist/font/han.woff","hash":"f38ff9b2eecaa17b50b66aa2dae87e9e7436d195","modified":1553168509307},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","hash":"9ccc6f8144f54e86df9a3fd33a18368d81cf3a4f","modified":1553168509310},{"_id":"themes/next/source/lib/three/three.min.js","hash":"73f4cdc17e51a72b9bf5b9291f65386d615c483b","modified":1553168509320},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"98a8aa5cf7d62c2eff5f07ede8d844b874ef06ed","modified":1553168509315},{"_id":"public/atom.xml","hash":"c6b5d1285038756fcb7f79e27c3fe96eee9c7cfc","modified":1553508370000},{"_id":"public/about/index.html","hash":"6bfc5760f80e5cc27d3e08897f099d98448daca8","modified":1553508370039},{"_id":"public/categories/index.html","hash":"e281e1212baa9ec5b2cba765bcd8abb589de53cf","modified":1553508370039},{"_id":"public/tags/index.html","hash":"7d39ca0ec59ad6024bd686eb116bc73fe72a4a98","modified":1553508370039},{"_id":"public/archives/2016/index.html","hash":"1b0354ade0f1e925bd8c015e8a2a4c8e343e57dc","modified":1553508370039},{"_id":"public/archives/2016/12/index.html","hash":"fd09869281503b7d38f9be8ab014c95274394784","modified":1553508370039},{"_id":"public/archives/2017/index.html","hash":"b02e21710fac51505e00e85c69084819accde75f","modified":1553508370039},{"_id":"public/archives/2017/08/index.html","hash":"dc78baff3ae65f9c1c0596b97cf57a99055f983d","modified":1553508370039},{"_id":"public/archives/2018/index.html","hash":"53385005a7954e932c179d667a6e9ede4bffbe6b","modified":1553508370039},{"_id":"public/archives/2018/03/index.html","hash":"c9897e2d16585211b0fe0d78b692e897992ccd83","modified":1553508370040},{"_id":"public/archives/2018/09/index.html","hash":"91bc196056b5dd7d47c51ba2d43f1469c2b8f890","modified":1553508370040},{"_id":"public/archives/2019/01/index.html","hash":"4a57af7e013c786b0e9161a944c52ebb8288e226","modified":1553508370040},{"_id":"public/categories//index.html","hash":"0cb3ca3c61188de966df07471dd7352bea210391","modified":1553508370040},{"_id":"public/categories/gRPC/index.html","hash":"27632f84603d4054801234531dc19c995ce7fabb","modified":1553508370040},{"_id":"public/categories/Oracle/index.html","hash":"7bd17e8a688d6733205f01c13157003d5e69304b","modified":1553508370040},{"_id":"public/categories//kubernetes/index.html","hash":"e3a4749e432e7cd9b3ca9a5168458ee361e19327","modified":1553508370040},{"_id":"public/tags/jenkins/index.html","hash":"fb108f287f5bf38863e7197d21088771e936f47b","modified":1553508370040},{"_id":"public/tags/Python/index.html","hash":"8fa3df3c147c402f11832205fd179c75e3831f84","modified":1553508370040},{"_id":"public/tags/thread/index.html","hash":"46e85e90c05bb13169e077251eb071d7f6c3103e","modified":1553508370040},{"_id":"public/tags//index.html","hash":"cd20ac6a87efed3c88fee3b328715f6c862a9ddc","modified":1553508370040},{"_id":"public/tags/gRPC/index.html","hash":"0d4e915bc98c32d05810f834262fefe7261249bf","modified":1553508370040},{"_id":"public/tags/Oracle/index.html","hash":"dc80baf1b16d2ebe821856e195e6c91d1f339264","modified":1553508370040},{"_id":"public/tags/storage/index.html","hash":"3a9ba69b82377364ce91612d080afedfd57fe955","modified":1553508370040},{"_id":"public/tags/kubernetes/index.html","hash":"d9f9f52bcc442400f82d23cba00a18c98d8b3d98","modified":1553508370040},{"_id":"public/archives/index.html","hash":"0358012113a3878f364f2fb127b45f51448571c9","modified":1553508370040},{"_id":"public/2019/03/26/grpc-introduction/index.html","hash":"0c485223556a98231e0399e04f86cecbc4459921","modified":1553508370040},{"_id":"public/2019/03/25/algorithm-two-order-list-merge/index.html","hash":"bf8bfb60c9faf687bdae81a4d0a2884f0d70ffe5","modified":1553508370040},{"_id":"public/2019/03/25/install-docker-yum/index.html","hash":"045fadd6d71bbdb290406a39f4527a775202b9b3","modified":1553508370040},{"_id":"public/2019/03/25/docker-network-bridge/index.html","hash":"3dba6b34364d3c36b6a6a7027441e80945d2a25b","modified":1553508370040},{"_id":"public/2019/03/22/docker-network-overlay/index.html","hash":"5041aa40604e377b8c2f63ada9b2ac488d938c1f","modified":1553508370040},{"_id":"public/2019/03/21/python-mulit-thread/index.html","hash":"ddd433262102d8b2838af7b263fbec429f98dcfe","modified":1553508370041},{"_id":"public/2019/03/21/pull-docker-images-failed/index.html","hash":"beb77b8750d4643c136021c9d718a5e603319601","modified":1553508370041},{"_id":"public/2019/03/21/docker-storage/index.html","hash":"fdf87c9a9887b60b1b3a0c1855e2c98ab19a942b","modified":1553508370041},{"_id":"public/2019/01/26/nginx-ingress-controller-introduct/index.html","hash":"bf89cc0d3b592e12ec1d87b2535b1488b896c7c3","modified":1553508370041},{"_id":"public/2018/09/13/private-registry-docker/index.html","hash":"f859164116ba5ef86a3015bd881e9665c910da05","modified":1553508370041},{"_id":"public/2018/03/22/jenkins-docker-command-not-found/index.html","hash":"de775f71a3e42bfc5543584ac6a73b74b7545701","modified":1553508370041},{"_id":"public/2017/08/17/oracle-sql-seconds-notes-sec-2-sql-exec/index.html","hash":"ae096443d45aa1902a6b86f835d1d70a063e1c46","modified":1553508370041},{"_id":"public/2016/12/05/oracle-sql-second-version-note/index.html","hash":"565fda54976f05fbff66cd01369391f3c9fa767b","modified":1553508370041},{"_id":"public/archives/page/2/index.html","hash":"d3b83750172c55dffafc09f756f9c8484149b79f","modified":1553508370041},{"_id":"public/archives/2019/index.html","hash":"a9360d2d0a5aaf78f569d32b23ca8704fc00f4e9","modified":1553508370041},{"_id":"public/archives/2019/03/index.html","hash":"56c21ddc2ed9f2d2b6a8830378c6ffd5555badce","modified":1553508370041},{"_id":"public/categories//index.html","hash":"b1c70543b6fd1786884822bf7f797d3cab616e5d","modified":1553508370041},{"_id":"public/categories//docker/index.html","hash":"0ed31587fd337cb9800c15420f8d476841527313","modified":1553508370041},{"_id":"public/index.html","hash":"28fc0bbff2e69b17aefd8b264eaa8c5111c8135c","modified":1553508370041},{"_id":"public/page/2/index.html","hash":"3a95e05040fe863e55657bc5eef66d22e6297fe5","modified":1553508370041},{"_id":"public/tags/docker/index.html","hash":"e66be148d674e4ce24e9418febe1566615357fad","modified":1553508370041},{"_id":"public/images/docker_versions.png","hash":"f6dc2081688d582a3ef0ff29cf32a410c67393a6","modified":1553508370041},{"_id":"public/images/favicon.ico","hash":"c168c50a843b52342efeef22376bc2e74688a116","modified":1553508370041},{"_id":"public/images/2019-03-25_180320.png","hash":"a80c974fc0071094aeb8ff013cbf3f18e224ac36","modified":1553508370059},{"_id":"public/images/container-layers.jpg","hash":"c6354991c7892a38207dddf9f07b4328d3dbeed3","modified":1553508370059},{"_id":"public/images/hostnetwork.jpg","hash":"b0478a0fd5086c6a1452920252dca60069b73962","modified":1553508370059},{"_id":"public/images/kube-proxy-mode iptables .png","hash":"d91b3164dff6e387721fedf99cf3b3edb7050a1a","modified":1553508370059},{"_id":"public/images/metallb.jpg","hash":"1f9f9e9f8685321d9329716b2c11ebcf188e1d9e","modified":1553508370059},{"_id":"public/images/node.png","hash":"c1399721d686508989b821d65ccca33eea7c489e","modified":1553508370059},{"_id":"public/images/nodeport.jpg","hash":"9f9383454db303f5e60d23ba32c89ddb05f87d93","modified":1553508370059},{"_id":"public/images/sharing-layers.jpg","hash":"82b3e992947958d7935aeb52753c9e6a2f07e171","modified":1553508370059},{"_id":"public/images/swarmcluster.png","hash":"e8bfdf7b46713fff7c63fdda89bc0f4a754c70fb","modified":1553508370059},{"_id":"public/images/user_edge.jpg","hash":"309d632e807ba54ec13cad7e6c122eaa07956f49","modified":1553508370059},{"_id":"public/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1553508370059},{"_id":"public/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1553508370059},{"_id":"public/images/avatar.png","hash":"e696f046e8385f0b71c71aaca7f61141b5893510","modified":1553508370060},{"_id":"public/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1553508370060},{"_id":"public/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1553508370060},{"_id":"public/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1553508370060},{"_id":"public/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1553508370060},{"_id":"public/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1553508370060},{"_id":"public/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1553508370060},{"_id":"public/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1553508370060},{"_id":"public/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1553508370060},{"_id":"public/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1553508370060},{"_id":"public/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1553508370060},{"_id":"public/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1553508370060},{"_id":"public/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1553508370060},{"_id":"public/lib/fastclick/LICENSE","hash":"dcd5b6b43095d9e90353a28b09cb269de8d4838e","modified":1553508370060},{"_id":"public/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1553508370060},{"_id":"public/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1553508370060},{"_id":"public/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1553508370060},{"_id":"public/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1553508370060},{"_id":"public/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1553508370060},{"_id":"public/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1553508370060},{"_id":"public/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1553508370060},{"_id":"public/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1553508370060},{"_id":"public/lib/Han/dist/font/han-space.otf","hash":"07436f011b44051f61b8329c99de4bec64e86f4b","modified":1553508370060},{"_id":"public/lib/Han/dist/font/han-space.woff","hash":"7a635062b10bf5662ae1d218ba0980171005d060","modified":1553508370060},{"_id":"public/lib/Han/dist/font/han.otf","hash":"f1f6bb8f461f5672e000380195d3d2358a28494c","modified":1553508370060},{"_id":"public/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1553508370060},{"_id":"public/lib/Han/dist/font/han.woff","hash":"f38ff9b2eecaa17b50b66aa2dae87e9e7436d195","modified":1553508370061},{"_id":"public/2018/03/22/jenkins-docker-command-not-found/example.png","hash":"f6dc2081688d582a3ef0ff29cf32a410c67393a6","modified":1553508370061},{"_id":"public/images/2018-03-27_115251.png","hash":"691c7fa5be387e11f7ab8faea59ea06124090272","modified":1553508370617},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1553508370620},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1553508370622},{"_id":"public/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1553508370639},{"_id":"public/js/src/algolia-search.js","hash":"b172f697ed339a24b1e80261075232978d164c35","modified":1553508370639},{"_id":"public/js/src/bootstrap.js","hash":"6117f97b4984b8e33f21c726132da64ba678e4ed","modified":1553508370640},{"_id":"public/js/src/exturl.js","hash":"e42e2aaab7bf4c19a0c8e779140e079c6aa5c0b1","modified":1553508370640},{"_id":"public/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1553508370640},{"_id":"public/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1553508370640},{"_id":"public/js/src/post-details.js","hash":"0693695a9512641daff63d99da772625a058ab18","modified":1553508370640},{"_id":"public/js/src/scroll-cookie.js","hash":"09dc828cbf5f31158ff6250d2bf7c3cde6365c67","modified":1553508370640},{"_id":"public/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1553508370640},{"_id":"public/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1553508370640},{"_id":"public/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1553508370640},{"_id":"public/lib/canvas-ribbon/canvas-ribbon.js","hash":"7fd2f3e2773555392ef40df40cae3bedb884f17a","modified":1553508370640},{"_id":"public/lib/fastclick/bower.json","hash":"4dcecf83afddba148464d5339c93f6d0aa9f42e9","modified":1553508370640},{"_id":"public/lib/font-awesome/bower.json","hash":"64394a2a9aa00f8e321d8daa5e51a420f0e96dad","modified":1553508370640},{"_id":"public/lib/jquery_lazyload/bower.json","hash":"ae3c3b61e6e7f9e1d7e3585ad854380ecc04cf53","modified":1553508370640},{"_id":"public/lib/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1553508370640},{"_id":"public/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1553508370640},{"_id":"public/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1553508370640},{"_id":"public/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1553508370640},{"_id":"public/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1553508370640},{"_id":"public/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1553508370640},{"_id":"public/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1553508370640},{"_id":"public/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1553508370640},{"_id":"public/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1553508370640},{"_id":"public/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1553508370640},{"_id":"public/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1553508370640},{"_id":"public/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1553508370640},{"_id":"public/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1553508370640},{"_id":"public/lib/velocity/bower.json","hash":"0ef14e7ccdfba5db6eb3f8fc6aa3b47282c36409","modified":1553508370640},{"_id":"public/js/src/schemes/pisces.js","hash":"79da92119bc246fe05d1626ac98426a83ec90a94","modified":1553508370640},{"_id":"public/lib/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1553508370640},{"_id":"public/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1553508370640},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1553508370640},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1553508370641},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1553508370641},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1553508370641},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1553508370641},{"_id":"public/lib/fastclick/README.html","hash":"da3c74d484c73cc7df565e8abbfa4d6a5a18d4da","modified":1553508370641},{"_id":"public/lib/jquery_lazyload/CONTRIBUTING.html","hash":"a6358170d346af13b1452ac157b60505bec7015c","modified":1553508370641},{"_id":"public/lib/jquery_lazyload/README.html","hash":"bde24335f6bc09d8801c0dcd7274f71b466552bd","modified":1553508370641},{"_id":"public/css/main.css","hash":"171a3f8b5613015d8821e7d08637662a18032bb8","modified":1553508370641},{"_id":"public/lib/font-awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1553508370641},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1553508370641},{"_id":"public/js/src/motion.js","hash":"dc0365b2fb315a8b43d3ef19b59d3a82a366fcc1","modified":1553508370643},{"_id":"public/js/src/utils.js","hash":"2917c39c75b14b6dab7e1c46ab4d87b4df9fcd5d","modified":1553508370644},{"_id":"public/lib/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1553508370644},{"_id":"public/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1553508370644},{"_id":"public/lib/pace/pace.min.js","hash":"9944dfb7814b911090e96446cea4d36e2b487234","modified":1553508370644},{"_id":"public/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1553508370644},{"_id":"public/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1553508370644},{"_id":"public/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1553508370644},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1553508370644},{"_id":"public/lib/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1553508370651},{"_id":"public/images/2018061310290292.jpg","hash":"eda3d80ff692b0b59edf7d10d4ef46ae7332308f","modified":1553508370651},{"_id":"public/lib/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1553508370654},{"_id":"public/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1553508370656},{"_id":"public/lib/three/canvas_lines.min.js","hash":"dce4a3b65f8bf958f973690caa7ec4952f353b0c","modified":1553508370656},{"_id":"public/lib/three/canvas_sphere.min.js","hash":"d8ea241a53c135a650f7335d2b6982b899fd58a9","modified":1553508370659},{"_id":"public/lib/three/three-waves.min.js","hash":"d968cba6b3a50b3626a02d67b544f349d83b147c","modified":1553508370659},{"_id":"public/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1553508370659},{"_id":"public/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1553508370659},{"_id":"public/lib/Han/dist/han.min.js","hash":"f559c68a25065a14f47da954a7617d87263e409d","modified":1553508370659},{"_id":"public/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1553508370666},{"_id":"public/lib/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1553508370667},{"_id":"public/lib/Han/dist/han.min.css","hash":"a0c9e32549a8b8cf327ab9227b037f323cdb60ee","modified":1553508370674},{"_id":"public/images/service_nodeport.jpg","hash":"15d79cd10d5e82d1ca2011bea7e92193af3fbcbe","modified":1553508370674},{"_id":"public/lib/Han/dist/han.css","hash":"bd40da3fba8735df5850956814e312bd7b3193d7","modified":1553508370678},{"_id":"public/lib/Han/dist/han.js","hash":"e345397e0585c9fed1449e614ec13e0224acf2ab","modified":1553508370684},{"_id":"public/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1553508370684},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"98a8aa5cf7d62c2eff5f07ede8d844b874ef06ed","modified":1553508370700},{"_id":"public/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1553508370703},{"_id":"public/lib/algolia-instant-search/instantsearch.min.js","hash":"9ccc6f8144f54e86df9a3fd33a18368d81cf3a4f","modified":1553508370710},{"_id":"public/lib/three/three.min.js","hash":"73f4cdc17e51a72b9bf5b9291f65386d615c483b","modified":1553508370713}],"Category":[{"name":"","_id":"cjto6rqkr0004hqxunbffcjgv"},{"name":"","_id":"cjto6rqle000fhqxup4x5rdrs"},{"name":"docker","parent":"cjto6rqkr0004hqxunbffcjgv","_id":"cjto6rqli000lhqxuwzld3nbc"},{"name":"gRPC","_id":"cjto6rqlk000qhqxuj0bh420y"},{"name":"Oracle","_id":"cjto6rqlp0013hqxug51q5hdp"},{"name":"kubernetes","parent":"cjto6rqkr0004hqxunbffcjgv","_id":"cjto6rqtd001shqxumd5pk0om"}],"Data":[],"Page":[{"title":"about","date":"2019-03-21T15:51:19.000Z","_content":"","source":"about/index.md","raw":"---\ntitle: about\ndate: 2019-03-21 15:51:19\n---\n","updated":"2019-03-21T11:41:49.289Z","path":"about/index.html","comments":1,"layout":"page","_id":"cjto6rqko0001hqxu1sr7yfc0","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"archives","date":"2019-03-21T15:50:07.000Z","type":"archives","_content":"","source":"archives/index.md","raw":"---\ntitle: archives\ndate: 2019-03-21 15:50:07\ntype: \"archives\"\n---\n","updated":"2019-03-21T11:41:49.289Z","path":"archives/index.html","comments":1,"layout":"page","_id":"cjto6rqkq0003hqxugbbhmxpj","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"categories","date":"2019-03-21T15:51:42.000Z","type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2019-03-21 15:51:42\ntype: \"categories\"\n---\n","updated":"2019-03-21T11:41:49.289Z","path":"categories/index.html","comments":1,"layout":"page","_id":"cjto6rqku0007hqxurjf0s3x0","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"tags","date":"2019-03-21T15:49:53.000Z","type":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2019-03-21 15:49:53\ntype: \"tags\"\n---\n","updated":"2019-03-21T11:41:49.289Z","path":"tags/index.html","comments":1,"layout":"page","_id":"cjto6rqkx0009hqxun731a0g4","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"Dockerjenkinsjenkinsdocker docker command not found","date":"2018-03-21T20:04:07.000Z","_content":"\n\ndockerjenkins`jenkins:2.60.3`\n[Running Docker in Jenkins (in Docker)](https://container-solutions.com/running-docker-in-jenkins-in-docker/)\n\nDockerfile\n```\nFROM jenkins:2.60.3\n\nUSER root\nRUN echo '' > /etc/apt/sources.list.d/jessie-backports.list \\\n  && echo \"deb http://mirrors.aliyun.com/debian jessie main contrib non-free\" > /etc/apt/sources.list \\\n  && echo \"deb http://mirrors.aliyun.com/debian jessie-updates main contrib non-free\" >> /etc/apt/sources.list \\\n  && echo \"deb http://mirrors.aliyun.com/debian-security jessie/updates main contrib non-free\" >> /etc/apt/sources.list\n\nRUN apt-get update       && apt-get install -y sudo       && apt-get install -y libltdl7       && rm -rf /var/lib/apt/lists/*\nRUN echo \"jenkins ALL=NOPASSWD: ALL\" >> /etc/sudoers\n\nUSER jenkins\nCOPY plugins.txt /usr/share/jenkins/plugins.txt\nRUN /usr/local/bin/plugins.sh /usr/share/jenkins/plugins.txt\n\n```\n\n\n\ndocker`docker: error while loading shared libraries: libltdl.so.7: cannot open shared object file: No such file or directory`[](https://www.cnblogs.com/leolztang/p/6934694.html)\n\n```\nRUN echo '' > /etc/apt/sources.list.d/jessie-backports.list \\\n  && echo \"deb http://mirrors.aliyun.com/debian jessie main contrib non-free\" > /etc/apt/sources.list \\\n  && echo \"deb http://mirrors.aliyun.com/debian jessie-updates main contrib non-free\" >> /etc/apt/sources.list \\\n  && echo \"deb http://mirrors.aliyun.com/debian-security jessie/updates main contrib non-free\" >> /etc/apt/sources.list\n```\nplugins.txtjenkins\n```\n\nscm-api:latest\ngit-client:latest\ngit:latest\ngreenballs:latest\n\n```\njenkinsjenkins\n\n```\ndocker run -d -v /var/run/docker.sock:/var/run/docker.sock -v $(which docker):/usr/bin/docker -v $PWD:/var/jenkins_home -p 8080:8080 jenkins:v2.6\n```\n`-v /var/run/docker.sock:/var/run/docker.sock -v $(which docker):/usr/bin/docker`docker\n`-v $PWD:/var/jenkins_home`jenkins\nip:8080jenkins\npipelineJenkinsfile\n\n```\npipeline {\n    agent any\n    stages {\n        stage('Test') {\n            steps {\n                sh 'docker images'\n            }\n        }\n    }\n}\n```\npipeline`docker images`\n```\n+ docker images\nGot permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get http://%2Fvar%2Frun%2Fdocker.sock/v1.37/images/json: dial unix /var/run/docker.sock: connect: permission denied\n```\njenkinsfile`unix:///var/run/docker.sock`jenkinspipelinejenkinspipelinesdocker`sudo `\n\n```\n[test_pipeline] Running shell script\n+ sudo docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\njenkins             v2.6.3              7c6cba7c8a03        18 minutes ago      705MB\njenkins             v2.6                bb042102b598        3 hours ago         705MB\njenkins             2.60.3              cd14cecfdb3a        2 days ago          696MB\nbusybox             latest              22c2dd5ee85d        3 days ago          1.16MB\n```\n","source":"_posts/2019-03-21-jenkins-docker-command-not-found.md","raw":"---\ntitle: Dockerjenkinsjenkinsdocker docker command not found\ndate: 2018-03-21 20:04:07\ntags:\n  - docker\n  - jenkins\ncategories:\n  - \n  - docker\n---\n\n\ndockerjenkins`jenkins:2.60.3`\n[Running Docker in Jenkins (in Docker)](https://container-solutions.com/running-docker-in-jenkins-in-docker/)\n\nDockerfile\n```\nFROM jenkins:2.60.3\n\nUSER root\nRUN echo '' > /etc/apt/sources.list.d/jessie-backports.list \\\n  && echo \"deb http://mirrors.aliyun.com/debian jessie main contrib non-free\" > /etc/apt/sources.list \\\n  && echo \"deb http://mirrors.aliyun.com/debian jessie-updates main contrib non-free\" >> /etc/apt/sources.list \\\n  && echo \"deb http://mirrors.aliyun.com/debian-security jessie/updates main contrib non-free\" >> /etc/apt/sources.list\n\nRUN apt-get update       && apt-get install -y sudo       && apt-get install -y libltdl7       && rm -rf /var/lib/apt/lists/*\nRUN echo \"jenkins ALL=NOPASSWD: ALL\" >> /etc/sudoers\n\nUSER jenkins\nCOPY plugins.txt /usr/share/jenkins/plugins.txt\nRUN /usr/local/bin/plugins.sh /usr/share/jenkins/plugins.txt\n\n```\n\n\n\ndocker`docker: error while loading shared libraries: libltdl.so.7: cannot open shared object file: No such file or directory`[](https://www.cnblogs.com/leolztang/p/6934694.html)\n\n```\nRUN echo '' > /etc/apt/sources.list.d/jessie-backports.list \\\n  && echo \"deb http://mirrors.aliyun.com/debian jessie main contrib non-free\" > /etc/apt/sources.list \\\n  && echo \"deb http://mirrors.aliyun.com/debian jessie-updates main contrib non-free\" >> /etc/apt/sources.list \\\n  && echo \"deb http://mirrors.aliyun.com/debian-security jessie/updates main contrib non-free\" >> /etc/apt/sources.list\n```\nplugins.txtjenkins\n```\n\nscm-api:latest\ngit-client:latest\ngit:latest\ngreenballs:latest\n\n```\njenkinsjenkins\n\n```\ndocker run -d -v /var/run/docker.sock:/var/run/docker.sock -v $(which docker):/usr/bin/docker -v $PWD:/var/jenkins_home -p 8080:8080 jenkins:v2.6\n```\n`-v /var/run/docker.sock:/var/run/docker.sock -v $(which docker):/usr/bin/docker`docker\n`-v $PWD:/var/jenkins_home`jenkins\nip:8080jenkins\npipelineJenkinsfile\n\n```\npipeline {\n    agent any\n    stages {\n        stage('Test') {\n            steps {\n                sh 'docker images'\n            }\n        }\n    }\n}\n```\npipeline`docker images`\n```\n+ docker images\nGot permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get http://%2Fvar%2Frun%2Fdocker.sock/v1.37/images/json: dial unix /var/run/docker.sock: connect: permission denied\n```\njenkinsfile`unix:///var/run/docker.sock`jenkinspipelinejenkinspipelinesdocker`sudo `\n\n```\n[test_pipeline] Running shell script\n+ sudo docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\njenkins             v2.6.3              7c6cba7c8a03        18 minutes ago      705MB\njenkins             v2.6                bb042102b598        3 hours ago         705MB\njenkins             2.60.3              cd14cecfdb3a        2 days ago          696MB\nbusybox             latest              22c2dd5ee85d        3 days ago          1.16MB\n```\n","slug":"jenkins-docker-command-not-found","published":1,"updated":"2019-03-21T12:13:00.218Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjto6rqkj0000hqxucsmeexuw","content":"<p>dockerjenkins<code>jenkins:2.60.3</code><br><a href=\"https://container-solutions.com/running-docker-in-jenkins-in-docker/\" target=\"_blank\" rel=\"noopener\">Running Docker in Jenkins (in Docker)</a></p>\n<p>Dockerfile<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FROM jenkins:2.60.3</span><br><span class=\"line\"></span><br><span class=\"line\">USER root</span><br><span class=\"line\">RUN echo &apos;&apos; &gt; /etc/apt/sources.list.d/jessie-backports.list \\</span><br><span class=\"line\">  &amp;&amp; echo &quot;deb http://mirrors.aliyun.com/debian jessie main contrib non-free&quot; &gt; /etc/apt/sources.list \\</span><br><span class=\"line\">  &amp;&amp; echo &quot;deb http://mirrors.aliyun.com/debian jessie-updates main contrib non-free&quot; &gt;&gt; /etc/apt/sources.list \\</span><br><span class=\"line\">  &amp;&amp; echo &quot;deb http://mirrors.aliyun.com/debian-security jessie/updates main contrib non-free&quot; &gt;&gt; /etc/apt/sources.list</span><br><span class=\"line\"></span><br><span class=\"line\">RUN apt-get update       &amp;&amp; apt-get install -y sudo       &amp;&amp; apt-get install -y libltdl7       &amp;&amp; rm -rf /var/lib/apt/lists/*</span><br><span class=\"line\">RUN echo &quot;jenkins ALL=NOPASSWD: ALL&quot; &gt;&gt; /etc/sudoers</span><br><span class=\"line\"></span><br><span class=\"line\">USER jenkins</span><br><span class=\"line\">COPY plugins.txt /usr/share/jenkins/plugins.txt</span><br><span class=\"line\">RUN /usr/local/bin/plugins.sh /usr/share/jenkins/plugins.txt</span><br></pre></td></tr></table></figure></p>\n<p>docker<code>docker: error while loading shared libraries: libltdl.so.7: cannot open shared object file: No such file or directory</code><a href=\"https://www.cnblogs.com/leolztang/p/6934694.html\" target=\"_blank\" rel=\"noopener\"></a><br><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">RUN echo &apos;&apos; &gt; /etc/apt/sources.list.d/jessie-backports.list \\</span><br><span class=\"line\">  &amp;&amp; echo &quot;deb http://mirrors.aliyun.com/debian jessie main contrib non-free&quot; &gt; /etc/apt/sources.list \\</span><br><span class=\"line\">  &amp;&amp; echo &quot;deb http://mirrors.aliyun.com/debian jessie-updates main contrib non-free&quot; &gt;&gt; /etc/apt/sources.list \\</span><br><span class=\"line\">  &amp;&amp; echo &quot;deb http://mirrors.aliyun.com/debian-security jessie/updates main contrib non-free&quot; &gt;&gt; /etc/apt/sources.list</span><br></pre></td></tr></table></figure></p>\n<p>plugins.txtjenkins<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">scm-api:latest</span><br><span class=\"line\">git-client:latest</span><br><span class=\"line\">git:latest</span><br><span class=\"line\">greenballs:latest</span><br></pre></td></tr></table></figure></p>\n<p>jenkinsjenkins</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -d -v /var/run/docker.sock:/var/run/docker.sock -v $(which docker):/usr/bin/docker -v $PWD:/var/jenkins_home -p 8080:8080 jenkins:v2.6</span><br></pre></td></tr></table></figure>\n<p><code>-v /var/run/docker.sock:/var/run/docker.sock -v $(which docker):/usr/bin/docker</code>docker<br><code>-v $PWD:/var/jenkins_home</code>jenkins<br>ip:8080jenkins<br>pipelineJenkinsfile</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pipeline &#123;</span><br><span class=\"line\">    agent any</span><br><span class=\"line\">    stages &#123;</span><br><span class=\"line\">        stage(&apos;Test&apos;) &#123;</span><br><span class=\"line\">            steps &#123;</span><br><span class=\"line\">                sh &apos;docker images&apos;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>pipeline<code>docker images</code><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">+ docker images</span><br><span class=\"line\">Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get http://%2Fvar%2Frun%2Fdocker.sock/v1.37/images/json: dial unix /var/run/docker.sock: connect: permission denied</span><br></pre></td></tr></table></figure></p>\n<p>jenkinsfile<code>unix:///var/run/docker.sock</code>jenkinspipelinejenkinspipelinesdocker<code>sudo</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[test_pipeline] Running shell script</span><br><span class=\"line\">+ sudo docker images</span><br><span class=\"line\">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class=\"line\">jenkins             v2.6.3              7c6cba7c8a03        18 minutes ago      705MB</span><br><span class=\"line\">jenkins             v2.6                bb042102b598        3 hours ago         705MB</span><br><span class=\"line\">jenkins             2.60.3              cd14cecfdb3a        2 days ago          696MB</span><br><span class=\"line\">busybox             latest              22c2dd5ee85d        3 days ago          1.16MB</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<p>dockerjenkins<code>jenkins:2.60.3</code><br><a href=\"https://container-solutions.com/running-docker-in-jenkins-in-docker/\" target=\"_blank\" rel=\"noopener\">Running Docker in Jenkins (in Docker)</a></p>\n<p>Dockerfile<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FROM jenkins:2.60.3</span><br><span class=\"line\"></span><br><span class=\"line\">USER root</span><br><span class=\"line\">RUN echo &apos;&apos; &gt; /etc/apt/sources.list.d/jessie-backports.list \\</span><br><span class=\"line\">  &amp;&amp; echo &quot;deb http://mirrors.aliyun.com/debian jessie main contrib non-free&quot; &gt; /etc/apt/sources.list \\</span><br><span class=\"line\">  &amp;&amp; echo &quot;deb http://mirrors.aliyun.com/debian jessie-updates main contrib non-free&quot; &gt;&gt; /etc/apt/sources.list \\</span><br><span class=\"line\">  &amp;&amp; echo &quot;deb http://mirrors.aliyun.com/debian-security jessie/updates main contrib non-free&quot; &gt;&gt; /etc/apt/sources.list</span><br><span class=\"line\"></span><br><span class=\"line\">RUN apt-get update       &amp;&amp; apt-get install -y sudo       &amp;&amp; apt-get install -y libltdl7       &amp;&amp; rm -rf /var/lib/apt/lists/*</span><br><span class=\"line\">RUN echo &quot;jenkins ALL=NOPASSWD: ALL&quot; &gt;&gt; /etc/sudoers</span><br><span class=\"line\"></span><br><span class=\"line\">USER jenkins</span><br><span class=\"line\">COPY plugins.txt /usr/share/jenkins/plugins.txt</span><br><span class=\"line\">RUN /usr/local/bin/plugins.sh /usr/share/jenkins/plugins.txt</span><br></pre></td></tr></table></figure></p>\n<p>docker<code>docker: error while loading shared libraries: libltdl.so.7: cannot open shared object file: No such file or directory</code><a href=\"https://www.cnblogs.com/leolztang/p/6934694.html\" target=\"_blank\" rel=\"noopener\"></a><br><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">RUN echo &apos;&apos; &gt; /etc/apt/sources.list.d/jessie-backports.list \\</span><br><span class=\"line\">  &amp;&amp; echo &quot;deb http://mirrors.aliyun.com/debian jessie main contrib non-free&quot; &gt; /etc/apt/sources.list \\</span><br><span class=\"line\">  &amp;&amp; echo &quot;deb http://mirrors.aliyun.com/debian jessie-updates main contrib non-free&quot; &gt;&gt; /etc/apt/sources.list \\</span><br><span class=\"line\">  &amp;&amp; echo &quot;deb http://mirrors.aliyun.com/debian-security jessie/updates main contrib non-free&quot; &gt;&gt; /etc/apt/sources.list</span><br></pre></td></tr></table></figure></p>\n<p>plugins.txtjenkins<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">scm-api:latest</span><br><span class=\"line\">git-client:latest</span><br><span class=\"line\">git:latest</span><br><span class=\"line\">greenballs:latest</span><br></pre></td></tr></table></figure></p>\n<p>jenkinsjenkins</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -d -v /var/run/docker.sock:/var/run/docker.sock -v $(which docker):/usr/bin/docker -v $PWD:/var/jenkins_home -p 8080:8080 jenkins:v2.6</span><br></pre></td></tr></table></figure>\n<p><code>-v /var/run/docker.sock:/var/run/docker.sock -v $(which docker):/usr/bin/docker</code>docker<br><code>-v $PWD:/var/jenkins_home</code>jenkins<br>ip:8080jenkins<br>pipelineJenkinsfile</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pipeline &#123;</span><br><span class=\"line\">    agent any</span><br><span class=\"line\">    stages &#123;</span><br><span class=\"line\">        stage(&apos;Test&apos;) &#123;</span><br><span class=\"line\">            steps &#123;</span><br><span class=\"line\">                sh &apos;docker images&apos;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>pipeline<code>docker images</code><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">+ docker images</span><br><span class=\"line\">Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get http://%2Fvar%2Frun%2Fdocker.sock/v1.37/images/json: dial unix /var/run/docker.sock: connect: permission denied</span><br></pre></td></tr></table></figure></p>\n<p>jenkinsfile<code>unix:///var/run/docker.sock</code>jenkinspipelinejenkinspipelinesdocker<code>sudo</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[test_pipeline] Running shell script</span><br><span class=\"line\">+ sudo docker images</span><br><span class=\"line\">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class=\"line\">jenkins             v2.6.3              7c6cba7c8a03        18 minutes ago      705MB</span><br><span class=\"line\">jenkins             v2.6                bb042102b598        3 hours ago         705MB</span><br><span class=\"line\">jenkins             2.60.3              cd14cecfdb3a        2 days ago          696MB</span><br><span class=\"line\">busybox             latest              22c2dd5ee85d        3 days ago          1.16MB</span><br></pre></td></tr></table></figure>\n"},{"title":"gcr.ioquay.io","date":"2019-03-21T11:17:18.000Z","_content":"\nk8smanifestyamlpod`spec.containers.image`\n```\nquay.io/coreos/example_\ngcr.io/google_containers/example_\n```\nquay.iogcr.io quay-mirror.qiniu.com  registry.aliyuncs.com\n- \n    ****`quay.io/coreos/flannel:v0.10.0-s390x`\n    `quay-mirror.qiniu.com/coreos/flannel:v0.10.0-s390x`\n    \n    ****`gcr.io/google_containers/kube-proxy`\n     `registry.aliyuncs.com/google_containers/kube-proxy`\n\n\n\n","source":"_posts/2019-03-21-pull-docker-images-failed.md","raw":"---\ntitle: gcr.ioquay.io\ndate: 2019-03-21 11:17:18\ntags:\n  - docker\ncategories:\n  - \n  - docker\n---\n\nk8smanifestyamlpod`spec.containers.image`\n```\nquay.io/coreos/example_\ngcr.io/google_containers/example_\n```\nquay.iogcr.io quay-mirror.qiniu.com  registry.aliyuncs.com\n- \n    ****`quay.io/coreos/flannel:v0.10.0-s390x`\n    `quay-mirror.qiniu.com/coreos/flannel:v0.10.0-s390x`\n    \n    ****`gcr.io/google_containers/kube-proxy`\n     `registry.aliyuncs.com/google_containers/kube-proxy`\n\n\n\n","slug":"pull-docker-images-failed","published":1,"updated":"2019-03-21T11:41:49.289Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjto6rqko0002hqxuomxpid3y","content":"<p>k8smanifestyamlpod<code>spec.containers.image</code><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">quay.io/coreos/example_</span><br><span class=\"line\">gcr.io/google_containers/example_</span><br></pre></td></tr></table></figure></p>\n<p>quay.iogcr.io quay-mirror.qiniu.com  registry.aliyuncs.com</p>\n<ul>\n<li><p><br>  <strong></strong><code>quay.io/coreos/flannel:v0.10.0-s390x</code><br>  <code>quay-mirror.qiniu.com/coreos/flannel:v0.10.0-s390x</code></p>\n<p>  <strong></strong><code>gcr.io/google_containers/kube-proxy</code><br>   <code>registry.aliyuncs.com/google_containers/kube-proxy</code></p>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<p>k8smanifestyamlpod<code>spec.containers.image</code><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">quay.io/coreos/example_</span><br><span class=\"line\">gcr.io/google_containers/example_</span><br></pre></td></tr></table></figure></p>\n<p>quay.iogcr.io quay-mirror.qiniu.com  registry.aliyuncs.com</p>\n<ul>\n<li><p><br>  <strong></strong><code>quay.io/coreos/flannel:v0.10.0-s390x</code><br>  <code>quay-mirror.qiniu.com/coreos/flannel:v0.10.0-s390x</code></p>\n<p>  <strong></strong><code>gcr.io/google_containers/kube-proxy</code><br>   <code>registry.aliyuncs.com/google_containers/kube-proxy</code></p>\n</li>\n</ul>\n"},{"title":"python ","date":"2019-03-21T15:56:07.000Z","_content":"\n### Lock\n- \n\n\n\n- \n\n```\nimport threading\n_lock = threading.lock() #  _local\n\n_lock.accquire()  # \n# TODO do something\ndo_somthing(share_var)   # \n_lock.release()  #\n\n```\n\n- \n  \n  \n\n  `R_A`, `R_B``T_A`, `T_B` `T_A`  `R_A``T_B`  `R_B`   `T_A`  `T_B`  `R_B`   `T_B`  `T_A`  `R_A` \n\n\n### RLock\n\n- \n\n  RLock Reentrant Lock `Lock` \n  1. ABA `Lock` \n  2. acquire\n  3. RLockacquirereleaseacquirereleasereleaseRLockunlocked\n  4.  `Rlock`  `Lock` \n- \n  \n   `Rlock` \n  ```\n  import threading  \n  rLock = threading.RLock()  #RLock  \n  rLock.acquire()  \n  rLock.acquire() #  \n  rLock.release()  \n  rLock.release()  \n\n  ```\n  \n   `Lock` \n\n  ```\n  import threading  \n  lock = threading.Lock() #Lock  \n  lock.acquire()  \n  lock.acquire()  #  \n  lock.release()  \n  lock.release()  \n  ```\n  \n\n- \n \n  \n### semaphore\n\n- \n\n  ********\n\n   ****   **** \n\n\n- \n\n  ```\n  semaphore = threading.Semaphore(0)\n\n  # Thread1:\n  def thread1_method():\n      semaphore.acquire()  # 1 \n  \n\n  # Thread2:\n  def thread2_method():\n    semaphore.release()  # 2 \n\n  ```\n  \n   release()  1 0 acquire() release()0 -1 \n  \n\n- \n  \n  \n\n  `t1`  `t2``s1` , `s2`  `t1`  `s1`  `s2`  `t2`  `s2`  `s1`  `t1`  `s2`  `t2`  `s1` \n\n\n### Condition - \n\n- \n  \n  ****\n\n- \n\n  ```\n  import threading\n\n  condition = threading.Condition()\n  \n  #  \n  def thread1_method():\n    condition.acquire()\n    # \n    if (condition_var == False)  #        \n        condition.wait()  # \n    \n    # TODO do something\n\n    condition.notify()  # \n    condition.release()  # \n\n  # \n  def thread2_method():\n     \n    condition.accquire()\n    # \n    if (condition_var == False)  #        \n         condition.wait()  # \n\n    # \n    # TODO  do something\n\n    condition.notify()  # \n    condition.release()   # \n\n  ```\n  `wait` timeout\n  \n  `notify` `notify()` `release()` \n\n\n- \n  \n\n### Event - \n\n- \n- \n\n  ```\n  import threading\n  event = threading.Event()\n  \n\n  ```\n\n- \n\n\n\n\n\n****\n\n- [](https://python-parallel-programmning-cookbook.readthedocs.io/zh_CN/latest/chapter2/index.html)\n\n- [What is the difference between Lock and RLock\n](https://stackoverflow.com/questions/22885775/what-is-the-difference-between-lock-and-rlock)\n\n\n","source":"_posts/2019-03-21-python-mulit-thread.md","raw":"---\ntitle: python \ndate: 2019-03-21 15:56:07\ntags:\n  - Python\n  - thread\n---\n\n### Lock\n- \n\n\n\n- \n\n```\nimport threading\n_lock = threading.lock() #  _local\n\n_lock.accquire()  # \n# TODO do something\ndo_somthing(share_var)   # \n_lock.release()  #\n\n```\n\n- \n  \n  \n\n  `R_A`, `R_B``T_A`, `T_B` `T_A`  `R_A``T_B`  `R_B`   `T_A`  `T_B`  `R_B`   `T_B`  `T_A`  `R_A` \n\n\n### RLock\n\n- \n\n  RLock Reentrant Lock `Lock` \n  1. ABA `Lock` \n  2. acquire\n  3. RLockacquirereleaseacquirereleasereleaseRLockunlocked\n  4.  `Rlock`  `Lock` \n- \n  \n   `Rlock` \n  ```\n  import threading  \n  rLock = threading.RLock()  #RLock  \n  rLock.acquire()  \n  rLock.acquire() #  \n  rLock.release()  \n  rLock.release()  \n\n  ```\n  \n   `Lock` \n\n  ```\n  import threading  \n  lock = threading.Lock() #Lock  \n  lock.acquire()  \n  lock.acquire()  #  \n  lock.release()  \n  lock.release()  \n  ```\n  \n\n- \n \n  \n### semaphore\n\n- \n\n  ********\n\n   ****   **** \n\n\n- \n\n  ```\n  semaphore = threading.Semaphore(0)\n\n  # Thread1:\n  def thread1_method():\n      semaphore.acquire()  # 1 \n  \n\n  # Thread2:\n  def thread2_method():\n    semaphore.release()  # 2 \n\n  ```\n  \n   release()  1 0 acquire() release()0 -1 \n  \n\n- \n  \n  \n\n  `t1`  `t2``s1` , `s2`  `t1`  `s1`  `s2`  `t2`  `s2`  `s1`  `t1`  `s2`  `t2`  `s1` \n\n\n### Condition - \n\n- \n  \n  ****\n\n- \n\n  ```\n  import threading\n\n  condition = threading.Condition()\n  \n  #  \n  def thread1_method():\n    condition.acquire()\n    # \n    if (condition_var == False)  #        \n        condition.wait()  # \n    \n    # TODO do something\n\n    condition.notify()  # \n    condition.release()  # \n\n  # \n  def thread2_method():\n     \n    condition.accquire()\n    # \n    if (condition_var == False)  #        \n         condition.wait()  # \n\n    # \n    # TODO  do something\n\n    condition.notify()  # \n    condition.release()   # \n\n  ```\n  `wait` timeout\n  \n  `notify` `notify()` `release()` \n\n\n- \n  \n\n### Event - \n\n- \n- \n\n  ```\n  import threading\n  event = threading.Event()\n  \n\n  ```\n\n- \n\n\n\n\n\n****\n\n- [](https://python-parallel-programmning-cookbook.readthedocs.io/zh_CN/latest/chapter2/index.html)\n\n- [What is the difference between Lock and RLock\n](https://stackoverflow.com/questions/22885775/what-is-the-difference-between-lock-and-rlock)\n\n\n","slug":"python-mulit-thread","published":1,"updated":"2019-03-21T11:41:49.289Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjto6rqkt0006hqxulpkpfwp0","content":"<h3 id=\"Lock\"><a href=\"#Lock\" class=\"headerlink\" title=\"Lock\"></a>Lock</h3><ul>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import threading</span><br><span class=\"line\">_lock = threading.lock() #  _local</span><br><span class=\"line\"></span><br><span class=\"line\">_lock.accquire()  # </span><br><span class=\"line\"># TODO do something</span><br><span class=\"line\">do_somthing(share_var)   # </span><br><span class=\"line\">_lock.release()  #</span><br></pre></td></tr></table></figure>\n<ul>\n<li><p></p>\n<p></p>\n<p><code>R_A</code>, <code>R_B</code><code>T_A</code>, <code>T_B</code> <code>T_A</code>  <code>R_A</code><code>T_B</code>  <code>R_B</code>   <code>T_A</code>  <code>T_B</code>  <code>R_B</code>   <code>T_B</code>  <code>T_A</code>  <code>R_A</code> </p>\n</li>\n</ul>\n<h3 id=\"RLock\"><a href=\"#RLock\" class=\"headerlink\" title=\"RLock\"></a>RLock</h3><ul>\n<li><p></p>\n<p>RLock Reentrant Lock <code>Lock</code> </p>\n<ol>\n<li>ABA <code>Lock</code> </li>\n<li>acquire</li>\n<li>RLockacquirereleaseacquirereleasereleaseRLockunlocked</li>\n<li> <code>Rlock</code>  <code>Lock</code> </li>\n</ol>\n</li>\n<li><p></p>\n<p> <code>Rlock</code> </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import threading  </span><br><span class=\"line\">rLock = threading.RLock()  #RLock  </span><br><span class=\"line\">rLock.acquire()  </span><br><span class=\"line\">rLock.acquire() #  </span><br><span class=\"line\">rLock.release()  </span><br><span class=\"line\">rLock.release()</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>   <code>Lock</code> </p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import threading  </span><br><span class=\"line\">lock = threading.Lock() #Lock  </span><br><span class=\"line\">lock.acquire()  </span><br><span class=\"line\">lock.acquire()  #  </span><br><span class=\"line\">lock.release()  </span><br><span class=\"line\">lock.release()</span><br></pre></td></tr></table></figure>\n<ul>\n<li></li>\n</ul>\n<h3 id=\"semaphore\"><a href=\"#semaphore\" class=\"headerlink\" title=\"semaphore\"></a>semaphore</h3><ul>\n<li><p></p>\n<p><strong></strong><strong></strong></p>\n<p> <strong></strong>   <strong></strong> </p>\n</li>\n</ul>\n<ul>\n<li><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">semaphore = threading.Semaphore(0)</span><br><span class=\"line\"></span><br><span class=\"line\"># Thread1:</span><br><span class=\"line\">def thread1_method():</span><br><span class=\"line\">    semaphore.acquire()  # 1 </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"># Thread2:</span><br><span class=\"line\">def thread2_method():</span><br><span class=\"line\">  semaphore.release()  # 2 </span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>   release()  1 0 acquire() release()0 -1 </p>\n<ul>\n<li><p></p>\n<p></p>\n<p><code>t1</code>  <code>t2</code><code>s1</code> , <code>s2</code>  <code>t1</code>  <code>s1</code>  <code>s2</code>  <code>t2</code>  <code>s2</code>  <code>s1</code>  <code>t1</code>  <code>s2</code>  <code>t2</code>  <code>s1</code> </p>\n</li>\n</ul>\n<h3 id=\"Condition-\"><a href=\"#Condition-\" class=\"headerlink\" title=\"Condition - \"></a>Condition - </h3><ul>\n<li><p></p>\n<p><strong></strong></p>\n</li>\n<li><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import threading</span><br><span class=\"line\"></span><br><span class=\"line\">condition = threading.Condition()</span><br><span class=\"line\"></span><br><span class=\"line\">#  </span><br><span class=\"line\">def thread1_method():</span><br><span class=\"line\">  condition.acquire()</span><br><span class=\"line\">  # </span><br><span class=\"line\">  if (condition_var == False)  #        </span><br><span class=\"line\">      condition.wait()  # </span><br><span class=\"line\">  </span><br><span class=\"line\">  # TODO do something</span><br><span class=\"line\"></span><br><span class=\"line\">  condition.notify()  # </span><br><span class=\"line\">  condition.release()  # </span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">def thread2_method():</span><br><span class=\"line\">   </span><br><span class=\"line\">  condition.accquire()</span><br><span class=\"line\">  # </span><br><span class=\"line\">  if (condition_var == False)  #        </span><br><span class=\"line\">       condition.wait()  # </span><br><span class=\"line\"></span><br><span class=\"line\">  # </span><br><span class=\"line\">  # TODO  do something</span><br><span class=\"line\"></span><br><span class=\"line\">  condition.notify()  # </span><br><span class=\"line\">  condition.release()   # </span><br></pre></td></tr></table></figure>\n<p><code>wait</code> timeout</p>\n<p><code>notify</code> <code>notify()</code> <code>release()</code> </p>\n</li>\n</ul>\n<ul>\n<li></li>\n</ul>\n<h3 id=\"Event-\"><a href=\"#Event-\" class=\"headerlink\" title=\"Event - \"></a>Event - </h3><ul>\n<li></li>\n<li><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import threading</span><br><span class=\"line\">event = threading.Event()</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n</li>\n</ul>\n<p><strong></strong></p>\n<ul>\n<li><p><a href=\"https://python-parallel-programmning-cookbook.readthedocs.io/zh_CN/latest/chapter2/index.html\" target=\"_blank\" rel=\"noopener\"></a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/22885775/what-is-the-difference-between-lock-and-rlock\" target=\"_blank\" rel=\"noopener\">What is the difference between Lock and RLock\n</a></p>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"Lock\"><a href=\"#Lock\" class=\"headerlink\" title=\"Lock\"></a>Lock</h3><ul>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import threading</span><br><span class=\"line\">_lock = threading.lock() #  _local</span><br><span class=\"line\"></span><br><span class=\"line\">_lock.accquire()  # </span><br><span class=\"line\"># TODO do something</span><br><span class=\"line\">do_somthing(share_var)   # </span><br><span class=\"line\">_lock.release()  #</span><br></pre></td></tr></table></figure>\n<ul>\n<li><p></p>\n<p></p>\n<p><code>R_A</code>, <code>R_B</code><code>T_A</code>, <code>T_B</code> <code>T_A</code>  <code>R_A</code><code>T_B</code>  <code>R_B</code>   <code>T_A</code>  <code>T_B</code>  <code>R_B</code>   <code>T_B</code>  <code>T_A</code>  <code>R_A</code> </p>\n</li>\n</ul>\n<h3 id=\"RLock\"><a href=\"#RLock\" class=\"headerlink\" title=\"RLock\"></a>RLock</h3><ul>\n<li><p></p>\n<p>RLock Reentrant Lock <code>Lock</code> </p>\n<ol>\n<li>ABA <code>Lock</code> </li>\n<li>acquire</li>\n<li>RLockacquirereleaseacquirereleasereleaseRLockunlocked</li>\n<li> <code>Rlock</code>  <code>Lock</code> </li>\n</ol>\n</li>\n<li><p></p>\n<p> <code>Rlock</code> </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import threading  </span><br><span class=\"line\">rLock = threading.RLock()  #RLock  </span><br><span class=\"line\">rLock.acquire()  </span><br><span class=\"line\">rLock.acquire() #  </span><br><span class=\"line\">rLock.release()  </span><br><span class=\"line\">rLock.release()</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>   <code>Lock</code> </p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import threading  </span><br><span class=\"line\">lock = threading.Lock() #Lock  </span><br><span class=\"line\">lock.acquire()  </span><br><span class=\"line\">lock.acquire()  #  </span><br><span class=\"line\">lock.release()  </span><br><span class=\"line\">lock.release()</span><br></pre></td></tr></table></figure>\n<ul>\n<li></li>\n</ul>\n<h3 id=\"semaphore\"><a href=\"#semaphore\" class=\"headerlink\" title=\"semaphore\"></a>semaphore</h3><ul>\n<li><p></p>\n<p><strong></strong><strong></strong></p>\n<p> <strong></strong>   <strong></strong> </p>\n</li>\n</ul>\n<ul>\n<li><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">semaphore = threading.Semaphore(0)</span><br><span class=\"line\"></span><br><span class=\"line\"># Thread1:</span><br><span class=\"line\">def thread1_method():</span><br><span class=\"line\">    semaphore.acquire()  # 1 </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"># Thread2:</span><br><span class=\"line\">def thread2_method():</span><br><span class=\"line\">  semaphore.release()  # 2 </span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>   release()  1 0 acquire() release()0 -1 </p>\n<ul>\n<li><p></p>\n<p></p>\n<p><code>t1</code>  <code>t2</code><code>s1</code> , <code>s2</code>  <code>t1</code>  <code>s1</code>  <code>s2</code>  <code>t2</code>  <code>s2</code>  <code>s1</code>  <code>t1</code>  <code>s2</code>  <code>t2</code>  <code>s1</code> </p>\n</li>\n</ul>\n<h3 id=\"Condition-\"><a href=\"#Condition-\" class=\"headerlink\" title=\"Condition - \"></a>Condition - </h3><ul>\n<li><p></p>\n<p><strong></strong></p>\n</li>\n<li><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import threading</span><br><span class=\"line\"></span><br><span class=\"line\">condition = threading.Condition()</span><br><span class=\"line\"></span><br><span class=\"line\">#  </span><br><span class=\"line\">def thread1_method():</span><br><span class=\"line\">  condition.acquire()</span><br><span class=\"line\">  # </span><br><span class=\"line\">  if (condition_var == False)  #        </span><br><span class=\"line\">      condition.wait()  # </span><br><span class=\"line\">  </span><br><span class=\"line\">  # TODO do something</span><br><span class=\"line\"></span><br><span class=\"line\">  condition.notify()  # </span><br><span class=\"line\">  condition.release()  # </span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">def thread2_method():</span><br><span class=\"line\">   </span><br><span class=\"line\">  condition.accquire()</span><br><span class=\"line\">  # </span><br><span class=\"line\">  if (condition_var == False)  #        </span><br><span class=\"line\">       condition.wait()  # </span><br><span class=\"line\"></span><br><span class=\"line\">  # </span><br><span class=\"line\">  # TODO  do something</span><br><span class=\"line\"></span><br><span class=\"line\">  condition.notify()  # </span><br><span class=\"line\">  condition.release()   # </span><br></pre></td></tr></table></figure>\n<p><code>wait</code> timeout</p>\n<p><code>notify</code> <code>notify()</code> <code>release()</code> </p>\n</li>\n</ul>\n<ul>\n<li></li>\n</ul>\n<h3 id=\"Event-\"><a href=\"#Event-\" class=\"headerlink\" title=\"Event - \"></a>Event - </h3><ul>\n<li></li>\n<li><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import threading</span><br><span class=\"line\">event = threading.Event()</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n</li>\n</ul>\n<p><strong></strong></p>\n<ul>\n<li><p><a href=\"https://python-parallel-programmning-cookbook.readthedocs.io/zh_CN/latest/chapter2/index.html\" target=\"_blank\" rel=\"noopener\"></a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/22885775/what-is-the-difference-between-lock-and-rlock\" target=\"_blank\" rel=\"noopener\">What is the difference between Lock and RLock\n</a></p>\n</li>\n</ul>\n"},{"title":"java","date":"2019-03-25T14:03:49.000Z","_content":"### \n\n\n\n\n```\n/**\n * @function arr1[] arr2[]\n * @author PC\n *\n */\npublic class MergeOrderList {\n\tpublic static void merge(int [] arr1,int [] arr2){\n\t\tint len1 = arr1.length;//1\n\t\tint len2 = arr2.length;//2\n\t\tint len = len1 + len2;//\n\t\tint arr[] = new int[len];//\n\t\tint j = len1-1;\n\t\tint i = len2-1;\n\t\tlen--;\n\t\twhile(i>=0&&j>=0){//\n\t\t\tif(arr2[i]>arr1[j]){//iarr\n\t\t\t\tarr[len--] = arr2[i];\n\t\t\t\ti--;//\n\t\t\t}else if(arr2[i]<=arr1[j]){//iarr\n\t\t\t\tarr[len--] = arr1[j];\n\t\t\t\tj--;//\n\t\t\t}\n\t\t}\n\t\tif(i>j){//12arr\n\t\t\twhile(i>=0){\n\t\t\t\tarr[len--] = arr2[i--];\n\t\t\t}\n\t\t}else{\n\t\t\twhile(j>=0){\n\t\t\t\tarr[len--] = arr1[j--];\n\t\t\t}\n\t\t}\n\t\tfor (int k = 0; k < arr.length; k++) {\n\t\t\tSystem.out.print(arr[k]+\" \");\n\t\t}\n\t}\n\tpublic static void main(String[] args) {\n\t\tint arr1[] = {1,4,5,7,10,11,15};\n\t\tint arr2[] = {2,3,6,8,9,13,14,17};\n\t\tmerge(arr1,arr2);\n\t}\n}\n\n```\n","source":"_posts/2019-03-25-algorithm-two-order-list-merge.md","raw":"---\ntitle: java\ndate: 2019-03-25 14:03:49\ntags:\n  - \ncategories:\n  - \n---\n### \n\n\n\n\n```\n/**\n * @function arr1[] arr2[]\n * @author PC\n *\n */\npublic class MergeOrderList {\n\tpublic static void merge(int [] arr1,int [] arr2){\n\t\tint len1 = arr1.length;//1\n\t\tint len2 = arr2.length;//2\n\t\tint len = len1 + len2;//\n\t\tint arr[] = new int[len];//\n\t\tint j = len1-1;\n\t\tint i = len2-1;\n\t\tlen--;\n\t\twhile(i>=0&&j>=0){//\n\t\t\tif(arr2[i]>arr1[j]){//iarr\n\t\t\t\tarr[len--] = arr2[i];\n\t\t\t\ti--;//\n\t\t\t}else if(arr2[i]<=arr1[j]){//iarr\n\t\t\t\tarr[len--] = arr1[j];\n\t\t\t\tj--;//\n\t\t\t}\n\t\t}\n\t\tif(i>j){//12arr\n\t\t\twhile(i>=0){\n\t\t\t\tarr[len--] = arr2[i--];\n\t\t\t}\n\t\t}else{\n\t\t\twhile(j>=0){\n\t\t\t\tarr[len--] = arr1[j--];\n\t\t\t}\n\t\t}\n\t\tfor (int k = 0; k < arr.length; k++) {\n\t\t\tSystem.out.print(arr[k]+\" \");\n\t\t}\n\t}\n\tpublic static void main(String[] args) {\n\t\tint arr1[] = {1,4,5,7,10,11,15};\n\t\tint arr2[] = {2,3,6,8,9,13,14,17};\n\t\tmerge(arr1,arr2);\n\t}\n}\n\n```\n","slug":"algorithm-two-order-list-merge","published":1,"updated":"2019-03-25T08:34:33.291Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjto6rqkv0008hqxubomg75xx","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/**</span><br><span class=\"line\"> * @function arr1[] arr2[]</span><br><span class=\"line\"> * @author PC</span><br><span class=\"line\"> *</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class MergeOrderList &#123;</span><br><span class=\"line\">\tpublic static void merge(int [] arr1,int [] arr2)&#123;</span><br><span class=\"line\">\t\tint len1 = arr1.length;//1</span><br><span class=\"line\">\t\tint len2 = arr2.length;//2</span><br><span class=\"line\">\t\tint len = len1 + len2;//</span><br><span class=\"line\">\t\tint arr[] = new int[len];//</span><br><span class=\"line\">\t\tint j = len1-1;</span><br><span class=\"line\">\t\tint i = len2-1;</span><br><span class=\"line\">\t\tlen--;</span><br><span class=\"line\">\t\twhile(i&gt;=0&amp;&amp;j&gt;=0)&#123;//</span><br><span class=\"line\">\t\t\tif(arr2[i]&gt;arr1[j])&#123;//iarr</span><br><span class=\"line\">\t\t\t\tarr[len--] = arr2[i];</span><br><span class=\"line\">\t\t\t\ti--;//</span><br><span class=\"line\">\t\t\t&#125;else if(arr2[i]&lt;=arr1[j])&#123;//iarr</span><br><span class=\"line\">\t\t\t\tarr[len--] = arr1[j];</span><br><span class=\"line\">\t\t\t\tj--;//</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tif(i&gt;j)&#123;//12arr</span><br><span class=\"line\">\t\t\twhile(i&gt;=0)&#123;</span><br><span class=\"line\">\t\t\t\tarr[len--] = arr2[i--];</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;else&#123;</span><br><span class=\"line\">\t\t\twhile(j&gt;=0)&#123;</span><br><span class=\"line\">\t\t\t\tarr[len--] = arr1[j--];</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tfor (int k = 0; k &lt; arr.length; k++) &#123;</span><br><span class=\"line\">\t\t\tSystem.out.print(arr[k]+&quot; &quot;);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tpublic static void main(String[] args) &#123;</span><br><span class=\"line\">\t\tint arr1[] = &#123;1,4,5,7,10,11,15&#125;;</span><br><span class=\"line\">\t\tint arr2[] = &#123;2,3,6,8,9,13,14,17&#125;;</span><br><span class=\"line\">\t\tmerge(arr1,arr2);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/**</span><br><span class=\"line\"> * @function arr1[] arr2[]</span><br><span class=\"line\"> * @author PC</span><br><span class=\"line\"> *</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class MergeOrderList &#123;</span><br><span class=\"line\">\tpublic static void merge(int [] arr1,int [] arr2)&#123;</span><br><span class=\"line\">\t\tint len1 = arr1.length;//1</span><br><span class=\"line\">\t\tint len2 = arr2.length;//2</span><br><span class=\"line\">\t\tint len = len1 + len2;//</span><br><span class=\"line\">\t\tint arr[] = new int[len];//</span><br><span class=\"line\">\t\tint j = len1-1;</span><br><span class=\"line\">\t\tint i = len2-1;</span><br><span class=\"line\">\t\tlen--;</span><br><span class=\"line\">\t\twhile(i&gt;=0&amp;&amp;j&gt;=0)&#123;//</span><br><span class=\"line\">\t\t\tif(arr2[i]&gt;arr1[j])&#123;//iarr</span><br><span class=\"line\">\t\t\t\tarr[len--] = arr2[i];</span><br><span class=\"line\">\t\t\t\ti--;//</span><br><span class=\"line\">\t\t\t&#125;else if(arr2[i]&lt;=arr1[j])&#123;//iarr</span><br><span class=\"line\">\t\t\t\tarr[len--] = arr1[j];</span><br><span class=\"line\">\t\t\t\tj--;//</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tif(i&gt;j)&#123;//12arr</span><br><span class=\"line\">\t\t\twhile(i&gt;=0)&#123;</span><br><span class=\"line\">\t\t\t\tarr[len--] = arr2[i--];</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;else&#123;</span><br><span class=\"line\">\t\t\twhile(j&gt;=0)&#123;</span><br><span class=\"line\">\t\t\t\tarr[len--] = arr1[j--];</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tfor (int k = 0; k &lt; arr.length; k++) &#123;</span><br><span class=\"line\">\t\t\tSystem.out.print(arr[k]+&quot; &quot;);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tpublic static void main(String[] args) &#123;</span><br><span class=\"line\">\t\tint arr1[] = &#123;1,4,5,7,10,11,15&#125;;</span><br><span class=\"line\">\t\tint arr2[] = &#123;2,3,6,8,9,13,14,17&#125;;</span><br><span class=\"line\">\t\tmerge(arr1,arr2);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"gRPCgRPC","date":"2019-03-25T18:00:58.000Z","_content":"\n\n## RPC\n\n`RPC` Remote Procedure Call RPC \n\n`RPC` `Client`  `Server`  `RPC`  `RPC`  `Thrift` FacebookApache `gRPC`Google  `RPC``Dubbo` (Alibaba), `Motan` (sina)  `gRPC`  `Dubbo` Java\n\n `RPC`  `gRPC` \n\n## gRPC\n`gRPC` `protocol buffer``Interface Definition Language, IDL`\n\n gRPC  `RPC` `gRPC` (`service`) `gRPC` (`Stub`)\n\n`gRPC` \n\n - `gRPC Stub`, : \n - `gRPC server`, HTTP\n - `gRPC client`,  `gRPC`  `gRPC`  `gRPC`  `gRPC` \n\n\n![](/images/2019-03-25_180320.png)\n\n\n\n### Protocol Buffer\n\n `gRPC`  `JSON`  `XML` Google `ProtocolBuffers`  30  20 30-80 \n\n`gRPC``Protocol Buffers`GoogleJSON\n\n********\n\n`Protocol Buffers``proto``.proto``Protocol Buffer` `messages` `message` `key-value`field\n\n```\nmessage Person {\n    string name = 1;\n    int32 id = 2;\n    bool has_ponycopter = 3;\n}\n\n```\n\n`Protocol Buffer``protocol buffer``protoc` `proto file` `name()``set_name()``C++``Person``Person`\n\n`proto``grpc` `rpc` \n\n```\nsyntax=''\n\n//  greeter service\nservice Greeter {\n  //  greeter\n  rpc SayHello (HelloRequest) returns (HelloReply) {}\n}\n\n// ()  request message\nmessage HelloRequest {\n  string name = 1;\n}\n\n// () response  message\nmessage HelloReply {\n  string message = 1;\n}\n```\n\n\n\n\n`gRPC``protoc``.proto`\n\n**`Protocol buffer` **\n\n`proto2` `proto3`  `gRPC`  `gRPC`  `proto2` `proto3`\n\n## RPC vs RESTful\n\n1. RPC TCPUDPHTTPRESTfulHTTP.\n2. RPC ********RESTful****RESTfulCRUD\n3.  `RPC`  `RESTful` (resource)\n4. RPCRPC over TCP RESTfulHTTPkeep-alive request-response\n\n\n## \n - [gRPC](https://grpc.io/docs/)\n - [gRPC ](https://doc.oschina.net/grpc)\n - [MicroServices on gRPC](https://technokeeda.com/programming/microservices-on-grpc/)\n","source":"_posts/2019-03-25-grpc-introduction.md","raw":"---\ntitle: gRPCgRPC\ndate: 2019-03-25 18:00:58\ntags:\n  - gRPC\ncategories:\n  - gRPC\n---\n\n\n## RPC\n\n`RPC` Remote Procedure Call RPC \n\n`RPC` `Client`  `Server`  `RPC`  `RPC`  `Thrift` FacebookApache `gRPC`Google  `RPC``Dubbo` (Alibaba), `Motan` (sina)  `gRPC`  `Dubbo` Java\n\n `RPC`  `gRPC` \n\n## gRPC\n`gRPC` `protocol buffer``Interface Definition Language, IDL`\n\n gRPC  `RPC` `gRPC` (`service`) `gRPC` (`Stub`)\n\n`gRPC` \n\n - `gRPC Stub`, : \n - `gRPC server`, HTTP\n - `gRPC client`,  `gRPC`  `gRPC`  `gRPC`  `gRPC` \n\n\n![](/images/2019-03-25_180320.png)\n\n\n\n### Protocol Buffer\n\n `gRPC`  `JSON`  `XML` Google `ProtocolBuffers`  30  20 30-80 \n\n`gRPC``Protocol Buffers`GoogleJSON\n\n********\n\n`Protocol Buffers``proto``.proto``Protocol Buffer` `messages` `message` `key-value`field\n\n```\nmessage Person {\n    string name = 1;\n    int32 id = 2;\n    bool has_ponycopter = 3;\n}\n\n```\n\n`Protocol Buffer``protocol buffer``protoc` `proto file` `name()``set_name()``C++``Person``Person`\n\n`proto``grpc` `rpc` \n\n```\nsyntax=''\n\n//  greeter service\nservice Greeter {\n  //  greeter\n  rpc SayHello (HelloRequest) returns (HelloReply) {}\n}\n\n// ()  request message\nmessage HelloRequest {\n  string name = 1;\n}\n\n// () response  message\nmessage HelloReply {\n  string message = 1;\n}\n```\n\n\n\n\n`gRPC``protoc``.proto`\n\n**`Protocol buffer` **\n\n`proto2` `proto3`  `gRPC`  `gRPC`  `proto2` `proto3`\n\n## RPC vs RESTful\n\n1. RPC TCPUDPHTTPRESTfulHTTP.\n2. RPC ********RESTful****RESTfulCRUD\n3.  `RPC`  `RESTful` (resource)\n4. RPCRPC over TCP RESTfulHTTPkeep-alive request-response\n\n\n## \n - [gRPC](https://grpc.io/docs/)\n - [gRPC ](https://doc.oschina.net/grpc)\n - [MicroServices on gRPC](https://technokeeda.com/programming/microservices-on-grpc/)\n","slug":"grpc-introduction","published":1,"updated":"2019-03-25T10:04:49.228Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjto6rqky000ahqxu3sr1ye1u","content":"<h2 id=\"RPC\"><a href=\"#RPC\" class=\"headerlink\" title=\"RPC\"></a>RPC</h2><p><code>RPC</code> Remote Procedure Call RPC </p>\n<p><code>RPC</code> <code>Client</code>  <code>Server</code>  <code>RPC</code>  <code>RPC</code>  <code>Thrift</code> FacebookApache <code>gRPC</code>Google  <code>RPC</code><code>Dubbo</code> (Alibaba), <code>Motan</code> (sina)  <code>gRPC</code>  <code>Dubbo</code> Java</p>\n<p> <code>RPC</code>  <code>gRPC</code> </p>\n<h2 id=\"gRPC\"><a href=\"#gRPC\" class=\"headerlink\" title=\"gRPC\"></a>gRPC</h2><p><code>gRPC</code> <code>protocol buffer</code><code>Interface Definition Language, IDL</code></p>\n<p> gRPC  <code>RPC</code> <code>gRPC</code> (<code>service</code>) <code>gRPC</code> (<code>Stub</code>)</p>\n<p><code>gRPC</code> </p>\n<ul>\n<li><code>gRPC Stub</code>, : </li>\n<li><code>gRPC server</code>, HTTP</li>\n<li><code>gRPC client</code>,  <code>gRPC</code>  <code>gRPC</code>  <code>gRPC</code>  <code>gRPC</code> </li>\n</ul>\n<p><img src=\"/images/2019-03-25_180320.png\" alt></p>\n<h3 id=\"Protocol-Buffer\"><a href=\"#Protocol-Buffer\" class=\"headerlink\" title=\"Protocol Buffer\"></a>Protocol Buffer</h3><p> <code>gRPC</code>  <code>JSON</code>  <code>XML</code> Google <code>ProtocolBuffers</code>  30  20 30-80 </p>\n<p><code>gRPC</code><code>Protocol Buffers</code>GoogleJSON</p>\n<p><strong></strong><strong></strong></p>\n<p><code>Protocol Buffers</code><code>proto</code><code>.proto</code><code>Protocol Buffer</code> <code>messages</code> <code>message</code> <code>key-value</code>field</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">message Person &#123;</span><br><span class=\"line\">    string name = 1;</span><br><span class=\"line\">    int32 id = 2;</span><br><span class=\"line\">    bool has_ponycopter = 3;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>Protocol Buffer</code><code>protocol buffer</code><code>protoc</code> <code>proto file</code> <code>name()</code><code>set_name()</code><code>C++</code><code>Person</code><code>Person</code></p>\n<p><code>proto</code><code>grpc</code> <code>rpc</code> </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">syntax=&apos;&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">//  greeter service</span><br><span class=\"line\">service Greeter &#123;</span><br><span class=\"line\">  //  greeter</span><br><span class=\"line\">  rpc SayHello (HelloRequest) returns (HelloReply) &#123;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// ()  request message</span><br><span class=\"line\">message HelloRequest &#123;</span><br><span class=\"line\">  string name = 1;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// () response  message</span><br><span class=\"line\">message HelloReply &#123;</span><br><span class=\"line\">  string message = 1;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>gRPC</code><code>protoc</code><code>.proto</code></p>\n<p><strong><code>Protocol buffer</code> </strong></p>\n<p><code>proto2</code> <code>proto3</code>  <code>gRPC</code>  <code>gRPC</code>  <code>proto2</code> <code>proto3</code></p>\n<h2 id=\"RPC-vs-RESTful\"><a href=\"#RPC-vs-RESTful\" class=\"headerlink\" title=\"RPC vs RESTful\"></a>RPC vs RESTful</h2><ol>\n<li>RPC TCPUDPHTTPRESTfulHTTP.</li>\n<li>RPC <strong></strong><strong></strong>RESTful<strong></strong>RESTfulCRUD</li>\n<li> <code>RPC</code>  <code>RESTful</code> (resource)</li>\n<li>RPCRPC over TCP RESTfulHTTPkeep-alive request-response</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"https://grpc.io/docs/\" target=\"_blank\" rel=\"noopener\">gRPC</a></li>\n<li><a href=\"https://doc.oschina.net/grpc\" target=\"_blank\" rel=\"noopener\">gRPC </a></li>\n<li><a href=\"https://technokeeda.com/programming/microservices-on-grpc/\" target=\"_blank\" rel=\"noopener\">MicroServices on gRPC</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"RPC\"><a href=\"#RPC\" class=\"headerlink\" title=\"RPC\"></a>RPC</h2><p><code>RPC</code> Remote Procedure Call RPC </p>\n<p><code>RPC</code> <code>Client</code>  <code>Server</code>  <code>RPC</code>  <code>RPC</code>  <code>Thrift</code> FacebookApache <code>gRPC</code>Google  <code>RPC</code><code>Dubbo</code> (Alibaba), <code>Motan</code> (sina)  <code>gRPC</code>  <code>Dubbo</code> Java</p>\n<p> <code>RPC</code>  <code>gRPC</code> </p>\n<h2 id=\"gRPC\"><a href=\"#gRPC\" class=\"headerlink\" title=\"gRPC\"></a>gRPC</h2><p><code>gRPC</code> <code>protocol buffer</code><code>Interface Definition Language, IDL</code></p>\n<p> gRPC  <code>RPC</code> <code>gRPC</code> (<code>service</code>) <code>gRPC</code> (<code>Stub</code>)</p>\n<p><code>gRPC</code> </p>\n<ul>\n<li><code>gRPC Stub</code>, : </li>\n<li><code>gRPC server</code>, HTTP</li>\n<li><code>gRPC client</code>,  <code>gRPC</code>  <code>gRPC</code>  <code>gRPC</code>  <code>gRPC</code> </li>\n</ul>\n<p><img src=\"/images/2019-03-25_180320.png\" alt></p>\n<h3 id=\"Protocol-Buffer\"><a href=\"#Protocol-Buffer\" class=\"headerlink\" title=\"Protocol Buffer\"></a>Protocol Buffer</h3><p> <code>gRPC</code>  <code>JSON</code>  <code>XML</code> Google <code>ProtocolBuffers</code>  30  20 30-80 </p>\n<p><code>gRPC</code><code>Protocol Buffers</code>GoogleJSON</p>\n<p><strong></strong><strong></strong></p>\n<p><code>Protocol Buffers</code><code>proto</code><code>.proto</code><code>Protocol Buffer</code> <code>messages</code> <code>message</code> <code>key-value</code>field</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">message Person &#123;</span><br><span class=\"line\">    string name = 1;</span><br><span class=\"line\">    int32 id = 2;</span><br><span class=\"line\">    bool has_ponycopter = 3;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>Protocol Buffer</code><code>protocol buffer</code><code>protoc</code> <code>proto file</code> <code>name()</code><code>set_name()</code><code>C++</code><code>Person</code><code>Person</code></p>\n<p><code>proto</code><code>grpc</code> <code>rpc</code> </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">syntax=&apos;&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">//  greeter service</span><br><span class=\"line\">service Greeter &#123;</span><br><span class=\"line\">  //  greeter</span><br><span class=\"line\">  rpc SayHello (HelloRequest) returns (HelloReply) &#123;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// ()  request message</span><br><span class=\"line\">message HelloRequest &#123;</span><br><span class=\"line\">  string name = 1;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// () response  message</span><br><span class=\"line\">message HelloReply &#123;</span><br><span class=\"line\">  string message = 1;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>gRPC</code><code>protoc</code><code>.proto</code></p>\n<p><strong><code>Protocol buffer</code> </strong></p>\n<p><code>proto2</code> <code>proto3</code>  <code>gRPC</code>  <code>gRPC</code>  <code>proto2</code> <code>proto3</code></p>\n<h2 id=\"RPC-vs-RESTful\"><a href=\"#RPC-vs-RESTful\" class=\"headerlink\" title=\"RPC vs RESTful\"></a>RPC vs RESTful</h2><ol>\n<li>RPC TCPUDPHTTPRESTfulHTTP.</li>\n<li>RPC <strong></strong><strong></strong>RESTful<strong></strong>RESTfulCRUD</li>\n<li> <code>RPC</code>  <code>RESTful</code> (resource)</li>\n<li>RPCRPC over TCP RESTfulHTTPkeep-alive request-response</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"https://grpc.io/docs/\" target=\"_blank\" rel=\"noopener\">gRPC</a></li>\n<li><a href=\"https://doc.oschina.net/grpc\" target=\"_blank\" rel=\"noopener\">gRPC </a></li>\n<li><a href=\"https://technokeeda.com/programming/microservices-on-grpc/\" target=\"_blank\" rel=\"noopener\">MicroServices on gRPC</a></li>\n</ul>\n"},{"title":"Centos  docker","date":"2019-03-25T13:35:59.000Z","_content":"\n>dockerdockerdocker\n\n#### docker\ndocker\n```\n$ yum remove -y docker docker-client \\\n   docker-client-latest  \\\n   docker-common \\\n   docker-latest \\\n   docker-latest-logrotate \\\n   docker-logrotate \\\n   docker-selinux \\\n   docker-engine-selinux \\\n   docker-engine\n```\n#### \n```\n$ yum install -y yum-utils \\\n    device-mapper-persistent-data \\\n    lvm2\n```\n#### yumyum\n```\n$ yum-config-manager \\\n--add-repo \\\nhttps://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\n```\n\n#### yumdocker-ce\n```\n$ yum list docker-ce showduplicates | sort -r\n\ndocker-ce.x86_64            3:18.09.0-3.el7                    docker-ce-stable \ndocker-ce.x86_64            18.06.1.ce-3.el7                   docker-ce-stable \ndocker-ce.x86_64            18.06.1.ce-3.el7                   @docker-ce-stable\ndocker-ce.x86_64            18.06.0.ce-3.el7                   docker-ce-stable \ndocker-ce.x86_64            18.03.1.ce-1.el7.centos            docker-ce-stable \ndocker-ce.x86_64            18.03.0.ce-1.el7.centos            docker-ce-stable \ndocker-ce.x86_64            17.12.1.ce-1.el7.centos            docker-ce-stable \ndocker-ce.x86_64            17.12.0.ce-1.el7.centos            docker-ce-stable \ndocker-ce.x86_64            17.09.1.ce-1.el7.centos            docker-ce-stable \ndocker-ce.x86_64            17.09.0.ce-1.el7.centos            docker-ce-stable \ndocker-ce.x86_64            17.06.2.ce-1.el7.centos            docker-ce-stable \ndocker-ce.x86_64            17.06.1.ce-1.el7.centos            docker-ce-stable \ndocker-ce.x86_64            17.06.0.ce-1.el7.centos            docker-ce-stable \ndocker-ce.x86_64            17.03.3.ce-1.el7                   docker-ce-stable \ndocker-ce.x86_64            17.03.2.ce-1.el7.centos            docker-ce-stable \ndocker-ce.x86_64            17.03.1.ce-1.el7.centos            docker-ce-stable \ndocker-ce.x86_64            17.03.0.ce-1.el7.centos            docker-ce-stable\n```\n\n docker-cedocker-ce\n docker-ce 18.06\n\n - docker-ce 18.06\n\n   `$ yum install docker-ce-18.06.1.ce -y`\n\n - docker\n\n   `$ systemctl start docker`\n\n - \n\n   `$ systemctl enable docker`\n\n - \n   \n   docker\n\n   `$ sudo usermod -aG docker $USER`\n\n- \n\n  aliyun\n\n  daemon/etc/docker/daemon.json\n   ```\n   $ sudo mkdir -p /etc/docker\n   $ sudo tee /etc/docker/daemon.json <<-'EOF' {\n       \"registry-mirrors\":[\"https://xxxxxx.mirror.aliyuncs.com\"] }\n     EOF\n   ```\n\n    https://xxxxxx.mirror.aliyuncs.com \n   https://hjjs2fuv.mirror.aliyuncs.com\n\n- docker service\n\n  `$ systemctl daemon-reload`\n\n  `$ systemctl restart docker`\n\n\n","source":"_posts/2019-03-25-install-docker-yum.md","raw":"---\ntitle: Centos  docker\ndate: 2019-03-25 13:35:59\ntags:\n  - docker\ncategories:\n  - \n  - docker\n---\n\n>dockerdockerdocker\n\n#### docker\ndocker\n```\n$ yum remove -y docker docker-client \\\n   docker-client-latest  \\\n   docker-common \\\n   docker-latest \\\n   docker-latest-logrotate \\\n   docker-logrotate \\\n   docker-selinux \\\n   docker-engine-selinux \\\n   docker-engine\n```\n#### \n```\n$ yum install -y yum-utils \\\n    device-mapper-persistent-data \\\n    lvm2\n```\n#### yumyum\n```\n$ yum-config-manager \\\n--add-repo \\\nhttps://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\n```\n\n#### yumdocker-ce\n```\n$ yum list docker-ce showduplicates | sort -r\n\ndocker-ce.x86_64            3:18.09.0-3.el7                    docker-ce-stable \ndocker-ce.x86_64            18.06.1.ce-3.el7                   docker-ce-stable \ndocker-ce.x86_64            18.06.1.ce-3.el7                   @docker-ce-stable\ndocker-ce.x86_64            18.06.0.ce-3.el7                   docker-ce-stable \ndocker-ce.x86_64            18.03.1.ce-1.el7.centos            docker-ce-stable \ndocker-ce.x86_64            18.03.0.ce-1.el7.centos            docker-ce-stable \ndocker-ce.x86_64            17.12.1.ce-1.el7.centos            docker-ce-stable \ndocker-ce.x86_64            17.12.0.ce-1.el7.centos            docker-ce-stable \ndocker-ce.x86_64            17.09.1.ce-1.el7.centos            docker-ce-stable \ndocker-ce.x86_64            17.09.0.ce-1.el7.centos            docker-ce-stable \ndocker-ce.x86_64            17.06.2.ce-1.el7.centos            docker-ce-stable \ndocker-ce.x86_64            17.06.1.ce-1.el7.centos            docker-ce-stable \ndocker-ce.x86_64            17.06.0.ce-1.el7.centos            docker-ce-stable \ndocker-ce.x86_64            17.03.3.ce-1.el7                   docker-ce-stable \ndocker-ce.x86_64            17.03.2.ce-1.el7.centos            docker-ce-stable \ndocker-ce.x86_64            17.03.1.ce-1.el7.centos            docker-ce-stable \ndocker-ce.x86_64            17.03.0.ce-1.el7.centos            docker-ce-stable\n```\n\n docker-cedocker-ce\n docker-ce 18.06\n\n - docker-ce 18.06\n\n   `$ yum install docker-ce-18.06.1.ce -y`\n\n - docker\n\n   `$ systemctl start docker`\n\n - \n\n   `$ systemctl enable docker`\n\n - \n   \n   docker\n\n   `$ sudo usermod -aG docker $USER`\n\n- \n\n  aliyun\n\n  daemon/etc/docker/daemon.json\n   ```\n   $ sudo mkdir -p /etc/docker\n   $ sudo tee /etc/docker/daemon.json <<-'EOF' {\n       \"registry-mirrors\":[\"https://xxxxxx.mirror.aliyuncs.com\"] }\n     EOF\n   ```\n\n    https://xxxxxx.mirror.aliyuncs.com \n   https://hjjs2fuv.mirror.aliyuncs.com\n\n- docker service\n\n  `$ systemctl daemon-reload`\n\n  `$ systemctl restart docker`\n\n\n","slug":"install-docker-yum","published":1,"updated":"2019-03-25T05:37:02.708Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjto6rql1000dhqxu6tyw14qu","content":"<blockquote>\n<p>dockerdockerdocker</p>\n</blockquote>\n<h4 id=\"docker\"><a href=\"#docker\" class=\"headerlink\" title=\"docker\"></a>docker</h4><p>docker<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ yum remove -y docker docker-client \\</span><br><span class=\"line\">   docker-client-latest  \\</span><br><span class=\"line\">   docker-common \\</span><br><span class=\"line\">   docker-latest \\</span><br><span class=\"line\">   docker-latest-logrotate \\</span><br><span class=\"line\">   docker-logrotate \\</span><br><span class=\"line\">   docker-selinux \\</span><br><span class=\"line\">   docker-engine-selinux \\</span><br><span class=\"line\">   docker-engine</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ yum install -y yum-utils \\</span><br><span class=\"line\">    device-mapper-persistent-data \\</span><br><span class=\"line\">    lvm2</span><br></pre></td></tr></table></figure>\n<h4 id=\"yumyum\"><a href=\"#yumyum\" class=\"headerlink\" title=\"yumyum\"></a>yumyum</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ yum-config-manager \\</span><br><span class=\"line\">--add-repo \\</span><br><span class=\"line\">https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure>\n<h4 id=\"yumdocker-ce\"><a href=\"#yumdocker-ce\" class=\"headerlink\" title=\"yumdocker-ce\"></a>yumdocker-ce</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ yum list docker-ce showduplicates | sort -r</span><br><span class=\"line\"></span><br><span class=\"line\">docker-ce.x86_64            3:18.09.0-3.el7                    docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            18.06.1.ce-3.el7                   docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            18.06.1.ce-3.el7                   @docker-ce-stable</span><br><span class=\"line\">docker-ce.x86_64            18.06.0.ce-3.el7                   docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            18.03.1.ce-1.el7.centos            docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            18.03.0.ce-1.el7.centos            docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            17.12.1.ce-1.el7.centos            docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            17.12.0.ce-1.el7.centos            docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            17.09.1.ce-1.el7.centos            docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            17.09.0.ce-1.el7.centos            docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            17.06.2.ce-1.el7.centos            docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            17.06.1.ce-1.el7.centos            docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            17.06.0.ce-1.el7.centos            docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            17.03.3.ce-1.el7                   docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            17.03.2.ce-1.el7.centos            docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            17.03.1.ce-1.el7.centos            docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            17.03.0.ce-1.el7.centos            docker-ce-stable</span><br></pre></td></tr></table></figure>\n<p> docker-cedocker-ce<br> docker-ce 18.06</p>\n<ul>\n<li><p>docker-ce 18.06</p>\n<p><code>$ yum install docker-ce-18.06.1.ce -y</code></p>\n</li>\n<li><p>docker</p>\n<p><code>$ systemctl start docker</code></p>\n</li>\n<li><p></p>\n<p><code>$ systemctl enable docker</code></p>\n</li>\n<li><p></p>\n<p>docker</p>\n<p><code>$ sudo usermod -aG docker $USER</code></p>\n</li>\n</ul>\n<ul>\n<li><p></p>\n<p>aliyun</p>\n<p>daemon/etc/docker/daemon.json</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo mkdir -p /etc/docker</span><br><span class=\"line\">$ sudo tee /etc/docker/daemon.json &lt;&lt;-&apos;EOF&apos; &#123;</span><br><span class=\"line\">    &quot;registry-mirrors&quot;:[&quot;https://xxxxxx.mirror.aliyuncs.com&quot;] &#125;</span><br><span class=\"line\">  EOF</span><br></pre></td></tr></table></figure>\n<p>  <a href=\"https://xxxxxx.mirror.aliyuncs.com\" target=\"_blank\" rel=\"noopener\">https://xxxxxx.mirror.aliyuncs.com</a> <br> <a href=\"https://hjjs2fuv.mirror.aliyuncs.com\" target=\"_blank\" rel=\"noopener\">https://hjjs2fuv.mirror.aliyuncs.com</a></p>\n</li>\n<li><p>docker service</p>\n<p><code>$ systemctl daemon-reload</code></p>\n<p><code>$ systemctl restart docker</code></p>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p>dockerdockerdocker</p>\n</blockquote>\n<h4 id=\"docker\"><a href=\"#docker\" class=\"headerlink\" title=\"docker\"></a>docker</h4><p>docker<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ yum remove -y docker docker-client \\</span><br><span class=\"line\">   docker-client-latest  \\</span><br><span class=\"line\">   docker-common \\</span><br><span class=\"line\">   docker-latest \\</span><br><span class=\"line\">   docker-latest-logrotate \\</span><br><span class=\"line\">   docker-logrotate \\</span><br><span class=\"line\">   docker-selinux \\</span><br><span class=\"line\">   docker-engine-selinux \\</span><br><span class=\"line\">   docker-engine</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ yum install -y yum-utils \\</span><br><span class=\"line\">    device-mapper-persistent-data \\</span><br><span class=\"line\">    lvm2</span><br></pre></td></tr></table></figure>\n<h4 id=\"yumyum\"><a href=\"#yumyum\" class=\"headerlink\" title=\"yumyum\"></a>yumyum</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ yum-config-manager \\</span><br><span class=\"line\">--add-repo \\</span><br><span class=\"line\">https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure>\n<h4 id=\"yumdocker-ce\"><a href=\"#yumdocker-ce\" class=\"headerlink\" title=\"yumdocker-ce\"></a>yumdocker-ce</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ yum list docker-ce showduplicates | sort -r</span><br><span class=\"line\"></span><br><span class=\"line\">docker-ce.x86_64            3:18.09.0-3.el7                    docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            18.06.1.ce-3.el7                   docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            18.06.1.ce-3.el7                   @docker-ce-stable</span><br><span class=\"line\">docker-ce.x86_64            18.06.0.ce-3.el7                   docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            18.03.1.ce-1.el7.centos            docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            18.03.0.ce-1.el7.centos            docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            17.12.1.ce-1.el7.centos            docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            17.12.0.ce-1.el7.centos            docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            17.09.1.ce-1.el7.centos            docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            17.09.0.ce-1.el7.centos            docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            17.06.2.ce-1.el7.centos            docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            17.06.1.ce-1.el7.centos            docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            17.06.0.ce-1.el7.centos            docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            17.03.3.ce-1.el7                   docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            17.03.2.ce-1.el7.centos            docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            17.03.1.ce-1.el7.centos            docker-ce-stable </span><br><span class=\"line\">docker-ce.x86_64            17.03.0.ce-1.el7.centos            docker-ce-stable</span><br></pre></td></tr></table></figure>\n<p> docker-cedocker-ce<br> docker-ce 18.06</p>\n<ul>\n<li><p>docker-ce 18.06</p>\n<p><code>$ yum install docker-ce-18.06.1.ce -y</code></p>\n</li>\n<li><p>docker</p>\n<p><code>$ systemctl start docker</code></p>\n</li>\n<li><p></p>\n<p><code>$ systemctl enable docker</code></p>\n</li>\n<li><p></p>\n<p>docker</p>\n<p><code>$ sudo usermod -aG docker $USER</code></p>\n</li>\n</ul>\n<ul>\n<li><p></p>\n<p>aliyun</p>\n<p>daemon/etc/docker/daemon.json</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo mkdir -p /etc/docker</span><br><span class=\"line\">$ sudo tee /etc/docker/daemon.json &lt;&lt;-&apos;EOF&apos; &#123;</span><br><span class=\"line\">    &quot;registry-mirrors&quot;:[&quot;https://xxxxxx.mirror.aliyuncs.com&quot;] &#125;</span><br><span class=\"line\">  EOF</span><br></pre></td></tr></table></figure>\n<p>  <a href=\"https://xxxxxx.mirror.aliyuncs.com\" target=\"_blank\" rel=\"noopener\">https://xxxxxx.mirror.aliyuncs.com</a> <br> <a href=\"https://hjjs2fuv.mirror.aliyuncs.com\" target=\"_blank\" rel=\"noopener\">https://hjjs2fuv.mirror.aliyuncs.com</a></p>\n</li>\n<li><p>docker service</p>\n<p><code>$ systemctl daemon-reload</code></p>\n<p><code>$ systemctl restart docker</code></p>\n</li>\n</ul>\n"},{"title":"Oracle SQL   -   SQL","date":"2016-12-05T13:52:54.000Z","_content":"\n\nracle SQL\n##  SQL\n### \n> 1.:\n> Oracle**OCI**,**OCI**  **Oracle***Oracle JDBC-OCIODD.NetOracle Oracle ODBCOracle C++ OCCI*\n\n### SQL*Plus\n>$ORACLE_HOME/network/admin/tnsnames.ora \n\n\n### \n> * sqlplus /nolog: sqlplus\n\n> * help index \n\n> * help set sqlpluslogin.sqlsqlplus\n\n### login.sql\n\n> sql* plus1.**$ORACLE_HOME/sqlplus/admin**  **glogin.sql****login.sql** **login.sql**glogin.sqlOracle logsqlplussqlplusconnect\n\n### \n>sql* plus**sql**  **SQL * Plus**\n\n>SQL****  **/** \n\n -  1.  \n -  2.  /\n>sqlplus\n>sqlplus *.sql 1. *.sql,2.@START *\n\n### SQL(SELECT, INSERT, UPDATE, DELETE, MERGE)\n#### 1. SELECT \n##### Oracle(Cost-Based Optimizer,CBO)\n##### - select\n> **From****From****FROM**\n\n##### - From\n> \n\n##### - HAVING\n> GROUP BY  HAVING GROUP BY \n\n##### - ORDER BY\n> Oracle\n\n#### 2. INSERT \n##### Insert\n\tINSERT ALL WHEN 1 THEN INTO table1\n\t\t\t   WHEN 2 THEN INTO table2\n\t\t\t   WHEN 3 THEN INTO table3\n\t\t\t\t...\n\t\t\t   SELECT ** FROM table4;\n> **ALL****FIRST****WHEN**\t\n\n#### 3. UPDATE \t\t\n\n#####  **UPDATESETWHERE** \t\n\n#### 4. DELETE \n\n#####  DELETEWHEREFROM \n\n#### 5. MERGE \n\n##### MERGE  1 \n\n\n","source":"_posts/2019-03-25-oracle-sql-second-version-note.md","raw":"---\ntitle: Oracle SQL   -   SQL\ndate: 2016-12-05 13:52:54\ntags:\n  - Oracle\ncategories:\n  - Oracle\n---\n\n\nracle SQL\n##  SQL\n### \n> 1.:\n> Oracle**OCI**,**OCI**  **Oracle***Oracle JDBC-OCIODD.NetOracle Oracle ODBCOracle C++ OCCI*\n\n### SQL*Plus\n>$ORACLE_HOME/network/admin/tnsnames.ora \n\n\n### \n> * sqlplus /nolog: sqlplus\n\n> * help index \n\n> * help set sqlpluslogin.sqlsqlplus\n\n### login.sql\n\n> sql* plus1.**$ORACLE_HOME/sqlplus/admin**  **glogin.sql****login.sql** **login.sql**glogin.sqlOracle logsqlplussqlplusconnect\n\n### \n>sql* plus**sql**  **SQL * Plus**\n\n>SQL****  **/** \n\n -  1.  \n -  2.  /\n>sqlplus\n>sqlplus *.sql 1. *.sql,2.@START *\n\n### SQL(SELECT, INSERT, UPDATE, DELETE, MERGE)\n#### 1. SELECT \n##### Oracle(Cost-Based Optimizer,CBO)\n##### - select\n> **From****From****FROM**\n\n##### - From\n> \n\n##### - HAVING\n> GROUP BY  HAVING GROUP BY \n\n##### - ORDER BY\n> Oracle\n\n#### 2. INSERT \n##### Insert\n\tINSERT ALL WHEN 1 THEN INTO table1\n\t\t\t   WHEN 2 THEN INTO table2\n\t\t\t   WHEN 3 THEN INTO table3\n\t\t\t\t...\n\t\t\t   SELECT ** FROM table4;\n> **ALL****FIRST****WHEN**\t\n\n#### 3. UPDATE \t\t\n\n#####  **UPDATESETWHERE** \t\n\n#### 4. DELETE \n\n#####  DELETEWHEREFROM \n\n#### 5. MERGE \n\n##### MERGE  1 \n\n\n","slug":"oracle-sql-second-version-note","published":1,"updated":"2019-03-25T09:21:13.093Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjto6rql3000ehqxuigyvaeu6","content":"<p>racle SQL</p>\n<h2 id=\"-SQL\"><a href=\"#-SQL\" class=\"headerlink\" title=\" SQL\"></a> SQL</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p>1.:<br>Oracle<strong>OCI</strong>,<strong>OCI</strong>  <strong>Oracle</strong><em>Oracle JDBC-OCIODD.NetOracle Oracle ODBCOracle C++ OCCI</em></p>\n</blockquote>\n<h3 id=\"SQL-Plus\"><a href=\"#SQL-Plus\" class=\"headerlink\" title=\"SQL*Plus\"></a>SQL*Plus</h3><blockquote>\n<p>$ORACLE_HOME/network/admin/tnsnames.ora </p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<ul>\n<li>sqlplus /nolog: sqlplus</li>\n</ul>\n</blockquote>\n<blockquote>\n<ul>\n<li>help index </li>\n</ul>\n</blockquote>\n<blockquote>\n<ul>\n<li>help set sqlpluslogin.sqlsqlplus</li>\n</ul>\n</blockquote>\n<h3 id=\"login-sql\"><a href=\"#login-sql\" class=\"headerlink\" title=\"login.sql\"></a>login.sql</h3><blockquote>\n<p>sql* plus1.<strong>$ORACLE_HOME/sqlplus/admin</strong>  <strong>glogin.sql</strong><strong>login.sql</strong> <strong>login.sql</strong>glogin.sqlOracle logsqlplussqlplusconnect</p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p>sql<em> plus<strong>sql</strong>  **SQL </em> Plus**</p>\n</blockquote>\n<blockquote>\n<p>SQL<strong></strong>  <strong>/</strong> </p>\n</blockquote>\n<ul>\n<li><ol>\n<li></li>\n</ol>\n</li>\n<li><ol start=\"2\">\n<li>/<blockquote>\n<p>sqlplus<br>sqlplus <em>.sql 1. </em>.sql,2.@START *</p>\n</blockquote>\n</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"SQL-SELECT-INSERT-UPDATE-DELETE-MERGE\"><a href=\"#SQL-SELECT-INSERT-UPDATE-DELETE-MERGE\" class=\"headerlink\" title=\"SQL(SELECT, INSERT, UPDATE, DELETE, MERGE)\"></a>SQL(SELECT, INSERT, UPDATE, DELETE, MERGE)</h3><h4 id=\"1-SELECT-\"><a href=\"#1-SELECT-\" class=\"headerlink\" title=\"1. SELECT \"></a>1. SELECT </h4><h5 id=\"Oracle-Cost-Based-Optimizer-CBO-\"><a href=\"#Oracle-Cost-Based-Optimizer-CBO-\" class=\"headerlink\" title=\"Oracle(Cost-Based Optimizer,CBO)\"></a>Oracle(Cost-Based Optimizer,CBO)</h5><h5 id=\"select\"><a href=\"#select\" class=\"headerlink\" title=\"- select\"></a>- select</h5><blockquote>\n<p><strong>From</strong><strong>From</strong><strong>FROM</strong></p>\n</blockquote>\n<h5 id=\"From\"><a href=\"#From\" class=\"headerlink\" title=\"- From\"></a>- From</h5><blockquote>\n<p></p>\n</blockquote>\n<h5 id=\"HAVING\"><a href=\"#HAVING\" class=\"headerlink\" title=\"- HAVING\"></a>- HAVING</h5><blockquote>\n<p>GROUP BY  HAVING GROUP BY </p>\n</blockquote>\n<h5 id=\"ORDER-BY\"><a href=\"#ORDER-BY\" class=\"headerlink\" title=\"- ORDER BY\"></a>- ORDER BY</h5><blockquote>\n<p>Oracle</p>\n</blockquote>\n<h4 id=\"2-INSERT-\"><a href=\"#2-INSERT-\" class=\"headerlink\" title=\"2. INSERT \"></a>2. INSERT </h4><h5 id=\"Insert\"><a href=\"#Insert\" class=\"headerlink\" title=\"Insert\"></a>Insert</h5><pre><code>INSERT ALL WHEN 1 THEN INTO table1\n           WHEN 2 THEN INTO table2\n           WHEN 3 THEN INTO table3\n            ...\n           SELECT ** FROM table4;\n</code></pre><blockquote>\n<p><strong>ALL</strong><strong>FIRST</strong><strong>WHEN</strong>    </p>\n</blockquote>\n<h4 id=\"3-UPDATE-\"><a href=\"#3-UPDATE-\" class=\"headerlink\" title=\"3. UPDATE \"></a>3. UPDATE </h4><h5 id=\"-UPDATESETWHERE-\"><a href=\"#-UPDATESETWHERE-\" class=\"headerlink\" title=\" UPDATESETWHERE \"></a> <strong>UPDATESETWHERE</strong> </h5><h4 id=\"4-DELETE-\"><a href=\"#4-DELETE-\" class=\"headerlink\" title=\"4. DELETE \"></a>4. DELETE </h4><h5 id=\"-DELETEWHEREFROM-\"><a href=\"#-DELETEWHEREFROM-\" class=\"headerlink\" title=\" DELETEWHEREFROM \"></a> DELETEWHEREFROM </h5><h4 id=\"5-MERGE-\"><a href=\"#5-MERGE-\" class=\"headerlink\" title=\"5. MERGE \"></a>5. MERGE </h4><h5 id=\"MERGE--1-\"><a href=\"#MERGE--1-\" class=\"headerlink\" title=\"MERGE  1 \"></a>MERGE  1 </h5>","site":{"data":{}},"excerpt":"","more":"<p>racle SQL</p>\n<h2 id=\"-SQL\"><a href=\"#-SQL\" class=\"headerlink\" title=\" SQL\"></a> SQL</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p>1.:<br>Oracle<strong>OCI</strong>,<strong>OCI</strong>  <strong>Oracle</strong><em>Oracle JDBC-OCIODD.NetOracle Oracle ODBCOracle C++ OCCI</em></p>\n</blockquote>\n<h3 id=\"SQL-Plus\"><a href=\"#SQL-Plus\" class=\"headerlink\" title=\"SQL*Plus\"></a>SQL*Plus</h3><blockquote>\n<p>$ORACLE_HOME/network/admin/tnsnames.ora </p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<ul>\n<li>sqlplus /nolog: sqlplus</li>\n</ul>\n</blockquote>\n<blockquote>\n<ul>\n<li>help index </li>\n</ul>\n</blockquote>\n<blockquote>\n<ul>\n<li>help set sqlpluslogin.sqlsqlplus</li>\n</ul>\n</blockquote>\n<h3 id=\"login-sql\"><a href=\"#login-sql\" class=\"headerlink\" title=\"login.sql\"></a>login.sql</h3><blockquote>\n<p>sql* plus1.<strong>$ORACLE_HOME/sqlplus/admin</strong>  <strong>glogin.sql</strong><strong>login.sql</strong> <strong>login.sql</strong>glogin.sqlOracle logsqlplussqlplusconnect</p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p>sql<em> plus<strong>sql</strong>  **SQL </em> Plus**</p>\n</blockquote>\n<blockquote>\n<p>SQL<strong></strong>  <strong>/</strong> </p>\n</blockquote>\n<ul>\n<li><ol>\n<li></li>\n</ol>\n</li>\n<li><ol start=\"2\">\n<li>/<blockquote>\n<p>sqlplus<br>sqlplus <em>.sql 1. </em>.sql,2.@START *</p>\n</blockquote>\n</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"SQL-SELECT-INSERT-UPDATE-DELETE-MERGE\"><a href=\"#SQL-SELECT-INSERT-UPDATE-DELETE-MERGE\" class=\"headerlink\" title=\"SQL(SELECT, INSERT, UPDATE, DELETE, MERGE)\"></a>SQL(SELECT, INSERT, UPDATE, DELETE, MERGE)</h3><h4 id=\"1-SELECT-\"><a href=\"#1-SELECT-\" class=\"headerlink\" title=\"1. SELECT \"></a>1. SELECT </h4><h5 id=\"Oracle-Cost-Based-Optimizer-CBO-\"><a href=\"#Oracle-Cost-Based-Optimizer-CBO-\" class=\"headerlink\" title=\"Oracle(Cost-Based Optimizer,CBO)\"></a>Oracle(Cost-Based Optimizer,CBO)</h5><h5 id=\"select\"><a href=\"#select\" class=\"headerlink\" title=\"- select\"></a>- select</h5><blockquote>\n<p><strong>From</strong><strong>From</strong><strong>FROM</strong></p>\n</blockquote>\n<h5 id=\"From\"><a href=\"#From\" class=\"headerlink\" title=\"- From\"></a>- From</h5><blockquote>\n<p></p>\n</blockquote>\n<h5 id=\"HAVING\"><a href=\"#HAVING\" class=\"headerlink\" title=\"- HAVING\"></a>- HAVING</h5><blockquote>\n<p>GROUP BY  HAVING GROUP BY </p>\n</blockquote>\n<h5 id=\"ORDER-BY\"><a href=\"#ORDER-BY\" class=\"headerlink\" title=\"- ORDER BY\"></a>- ORDER BY</h5><blockquote>\n<p>Oracle</p>\n</blockquote>\n<h4 id=\"2-INSERT-\"><a href=\"#2-INSERT-\" class=\"headerlink\" title=\"2. INSERT \"></a>2. INSERT </h4><h5 id=\"Insert\"><a href=\"#Insert\" class=\"headerlink\" title=\"Insert\"></a>Insert</h5><pre><code>INSERT ALL WHEN 1 THEN INTO table1\n           WHEN 2 THEN INTO table2\n           WHEN 3 THEN INTO table3\n            ...\n           SELECT ** FROM table4;\n</code></pre><blockquote>\n<p><strong>ALL</strong><strong>FIRST</strong><strong>WHEN</strong>    </p>\n</blockquote>\n<h4 id=\"3-UPDATE-\"><a href=\"#3-UPDATE-\" class=\"headerlink\" title=\"3. UPDATE \"></a>3. UPDATE </h4><h5 id=\"-UPDATESETWHERE-\"><a href=\"#-UPDATESETWHERE-\" class=\"headerlink\" title=\" UPDATESETWHERE \"></a> <strong>UPDATESETWHERE</strong> </h5><h4 id=\"4-DELETE-\"><a href=\"#4-DELETE-\" class=\"headerlink\" title=\"4. DELETE \"></a>4. DELETE </h4><h5 id=\"-DELETEWHEREFROM-\"><a href=\"#-DELETEWHEREFROM-\" class=\"headerlink\" title=\" DELETEWHEREFROM \"></a> DELETEWHEREFROM </h5><h4 id=\"5-MERGE-\"><a href=\"#5-MERGE-\" class=\"headerlink\" title=\"5. MERGE \"></a>5. MERGE </h4><h5 id=\"MERGE--1-\"><a href=\"#MERGE--1-\" class=\"headerlink\" title=\"MERGE  1 \"></a>MERGE  1 </h5>"},{"title":"Oracle SQL  -   SQL","date":"2017-08-17T13:58:59.000Z","_content":"\n# Oracle SQL\n##  SQL\n### \n> ****  \n\n> **  ** SGA(System Global Area)\n\n> **PGA** Process Global Area\n\n> **SGA** \n\n### SGA\n###### \n1. SQLSQLOracle\n2. Oracle \n###### \n- \n\n###### \n- LRU\n\n### SQL \n\n![SQL](http://img.blog.csdn.net/20170331085505286?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvenNkNDk4NTM3ODA2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n\n\n###  \n-  SQL****SQL:OracleSQL\n\n>    SQL> varible v_dept number  # v_dept  number \n\t\n>\t SQL> exec : v_dept = 10\n\n>    SQL> SELECT * FROM employees WHERE departent_id = :v_dept;    \n### \n- Oracle\n### \n- \n\n      **1.** \n\n      **2.** \n### SGA\n![SGA](http://img.blog.csdn.net/20170331085311877?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvenNkNDk4NTM3ODA2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n\n- **:** Oracle4KB8KB16KB\n\n- ****\n\n![SGA](http://img.blog.csdn.net/20170331085413757?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvenNkNDk4NTM3ODA2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n\n- \n> SQL> alter system flush buffer_cache;\n\n> SQL> alter system flush shared_pool;\n\n- \n\n### \n- SELECT \n- \n##### \n-  Oracle  **QB_NAME** \n- **V$SQL_PLAN** SQL \n#####   \n- \n- UNION  INTERSECT MINUSORDER BY ROWNUMMERGE \n#####  \n- WHERE \n#####   \n- Oracle \n  1.   \n  2.   \n- \n- \n  1. \n  2. \n#####   \n- \n-  ORDEY BY \n##### \n- \n- \n##### \n- \n- \n\n##### \n- Oracle\n","source":"_posts/2019-03-25-oracle-sql-seconds-notes-sec-2-sql-exec.md","raw":"---\ntitle: Oracle SQL  -   SQL\ndate: 2017-08-17 13:58:59\ntags:\n  - Oracle\ncategories:\n  - Oracle\n---\n\n# Oracle SQL\n##  SQL\n### \n> ****  \n\n> **  ** SGA(System Global Area)\n\n> **PGA** Process Global Area\n\n> **SGA** \n\n### SGA\n###### \n1. SQLSQLOracle\n2. Oracle \n###### \n- \n\n###### \n- LRU\n\n### SQL \n\n![SQL](http://img.blog.csdn.net/20170331085505286?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvenNkNDk4NTM3ODA2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n\n\n###  \n-  SQL****SQL:OracleSQL\n\n>    SQL> varible v_dept number  # v_dept  number \n\t\n>\t SQL> exec : v_dept = 10\n\n>    SQL> SELECT * FROM employees WHERE departent_id = :v_dept;    \n### \n- Oracle\n### \n- \n\n      **1.** \n\n      **2.** \n### SGA\n![SGA](http://img.blog.csdn.net/20170331085311877?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvenNkNDk4NTM3ODA2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n\n- **:** Oracle4KB8KB16KB\n\n- ****\n\n![SGA](http://img.blog.csdn.net/20170331085413757?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvenNkNDk4NTM3ODA2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n\n- \n> SQL> alter system flush buffer_cache;\n\n> SQL> alter system flush shared_pool;\n\n- \n\n### \n- SELECT \n- \n##### \n-  Oracle  **QB_NAME** \n- **V$SQL_PLAN** SQL \n#####   \n- \n- UNION  INTERSECT MINUSORDER BY ROWNUMMERGE \n#####  \n- WHERE \n#####   \n- Oracle \n  1.   \n  2.   \n- \n- \n  1. \n  2. \n#####   \n- \n-  ORDEY BY \n##### \n- \n- \n##### \n- \n- \n\n##### \n- Oracle\n","slug":"oracle-sql-seconds-notes-sec-2-sql-exec","published":1,"updated":"2019-03-25T06:00:05.626Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjto6rqlg000ihqxummhupr3v","content":"<h1 id=\"Oracle-SQL\"><a href=\"#Oracle-SQL\" class=\"headerlink\" title=\"Oracle SQL\"></a>Oracle SQL</h1><h2 id=\"-SQL\"><a href=\"#-SQL\" class=\"headerlink\" title=\" SQL\"></a> SQL</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p><strong></strong>  </p>\n</blockquote>\n<blockquote>\n<p><strong>  </strong> SGA(System Global Area)</p>\n</blockquote>\n<blockquote>\n<p><strong>PGA</strong> Process Global Area</p>\n</blockquote>\n<blockquote>\n<p><strong>SGA</strong> </p>\n</blockquote>\n<h3 id=\"SGA\"><a href=\"#SGA\" class=\"headerlink\" title=\"SGA\"></a>SGA</h3><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ol>\n<li>SQLSQLOracle</li>\n<li>Oracle <h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6></li>\n</ol>\n<ul>\n<li></li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li>LRU</li>\n</ul>\n<h3 id=\"SQL\"><a href=\"#SQL\" class=\"headerlink\" title=\"SQL\"></a>SQL</h3><p><img src=\"http://img.blog.csdn.net/20170331085505286?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvenNkNDk4NTM3ODA2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"SQL\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>SQL<strong></strong>SQL:OracleSQL</li>\n</ul>\n<blockquote>\n<p>   SQL&gt; varible v_dept number  # v_dept  number </p>\n</blockquote>\n<blockquote>\n<pre><code>SQL&gt; exec : v_dept = 10\n</code></pre></blockquote>\n<blockquote>\n<p>   SQL&gt; SELECT * FROM employees WHERE departent_id = :v_dept;    </p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>Oracle<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3></li>\n<li><p></p>\n<pre><code>**1.** \n\n**2.** \n</code></pre><h3 id=\"SGA\"><a href=\"#SGA\" class=\"headerlink\" title=\"SGA\"></a>SGA</h3><p><img src=\"http://img.blog.csdn.net/20170331085311877?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvenNkNDk4NTM3ODA2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"SGA\"></p>\n</li>\n<li><p><strong>:</strong> Oracle4KB8KB16KB</p>\n</li>\n<li><p><strong></strong></p>\n</li>\n</ul>\n<p><img src=\"http://img.blog.csdn.net/20170331085413757?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvenNkNDk4NTM3ODA2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"SGA\"></p>\n<ul>\n<li><blockquote>\n<p>SQL&gt; alter system flush buffer_cache;</p>\n</blockquote>\n</li>\n</ul>\n<blockquote>\n<p>SQL&gt; alter system flush shared_pool;</p>\n</blockquote>\n<ul>\n<li></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>SELECT </li>\n<li><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5></li>\n<li> Oracle  <strong>QB_NAME</strong> </li>\n<li><strong>V$SQL_PLAN</strong> SQL <h5 id=\"--\"><a href=\"#--\" class=\"headerlink\" title=\"  \"></a>  </h5></li>\n<li></li>\n<li>UNION  INTERSECT MINUSORDER BY ROWNUMMERGE <h5 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h5></li>\n<li>WHERE <h5 id=\"--\"><a href=\"#--\" class=\"headerlink\" title=\"  \"></a>  </h5></li>\n<li>Oracle <ol>\n<li>  </li>\n<li>  </li>\n</ol>\n</li>\n<li></li>\n<li><ol>\n<li></li>\n<li><h5 id=\"--\"><a href=\"#--\" class=\"headerlink\" title=\"  \"></a>  </h5></li>\n</ol>\n</li>\n<li></li>\n<li> ORDEY BY <h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5></li>\n<li></li>\n<li><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5></li>\n<li></li>\n<li></li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li>Oracle</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"Oracle-SQL\"><a href=\"#Oracle-SQL\" class=\"headerlink\" title=\"Oracle SQL\"></a>Oracle SQL</h1><h2 id=\"-SQL\"><a href=\"#-SQL\" class=\"headerlink\" title=\" SQL\"></a> SQL</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p><strong></strong>  </p>\n</blockquote>\n<blockquote>\n<p><strong>  </strong> SGA(System Global Area)</p>\n</blockquote>\n<blockquote>\n<p><strong>PGA</strong> Process Global Area</p>\n</blockquote>\n<blockquote>\n<p><strong>SGA</strong> </p>\n</blockquote>\n<h3 id=\"SGA\"><a href=\"#SGA\" class=\"headerlink\" title=\"SGA\"></a>SGA</h3><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ol>\n<li>SQLSQLOracle</li>\n<li>Oracle <h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6></li>\n</ol>\n<ul>\n<li></li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li>LRU</li>\n</ul>\n<h3 id=\"SQL\"><a href=\"#SQL\" class=\"headerlink\" title=\"SQL\"></a>SQL</h3><p><img src=\"http://img.blog.csdn.net/20170331085505286?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvenNkNDk4NTM3ODA2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"SQL\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>SQL<strong></strong>SQL:OracleSQL</li>\n</ul>\n<blockquote>\n<p>   SQL&gt; varible v_dept number  # v_dept  number </p>\n</blockquote>\n<blockquote>\n<pre><code>SQL&gt; exec : v_dept = 10\n</code></pre></blockquote>\n<blockquote>\n<p>   SQL&gt; SELECT * FROM employees WHERE departent_id = :v_dept;    </p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>Oracle<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3></li>\n<li><p></p>\n<pre><code>**1.** \n\n**2.** \n</code></pre><h3 id=\"SGA\"><a href=\"#SGA\" class=\"headerlink\" title=\"SGA\"></a>SGA</h3><p><img src=\"http://img.blog.csdn.net/20170331085311877?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvenNkNDk4NTM3ODA2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"SGA\"></p>\n</li>\n<li><p><strong>:</strong> Oracle4KB8KB16KB</p>\n</li>\n<li><p><strong></strong></p>\n</li>\n</ul>\n<p><img src=\"http://img.blog.csdn.net/20170331085413757?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvenNkNDk4NTM3ODA2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"SGA\"></p>\n<ul>\n<li><blockquote>\n<p>SQL&gt; alter system flush buffer_cache;</p>\n</blockquote>\n</li>\n</ul>\n<blockquote>\n<p>SQL&gt; alter system flush shared_pool;</p>\n</blockquote>\n<ul>\n<li></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>SELECT </li>\n<li><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5></li>\n<li> Oracle  <strong>QB_NAME</strong> </li>\n<li><strong>V$SQL_PLAN</strong> SQL <h5 id=\"--\"><a href=\"#--\" class=\"headerlink\" title=\"  \"></a>  </h5></li>\n<li></li>\n<li>UNION  INTERSECT MINUSORDER BY ROWNUMMERGE <h5 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h5></li>\n<li>WHERE <h5 id=\"--\"><a href=\"#--\" class=\"headerlink\" title=\"  \"></a>  </h5></li>\n<li>Oracle <ol>\n<li>  </li>\n<li>  </li>\n</ol>\n</li>\n<li></li>\n<li><ol>\n<li></li>\n<li><h5 id=\"--\"><a href=\"#--\" class=\"headerlink\" title=\"  \"></a>  </h5></li>\n</ol>\n</li>\n<li></li>\n<li> ORDEY BY <h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5></li>\n<li></li>\n<li><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5></li>\n<li></li>\n<li></li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li>Oracle</li>\n</ul>\n"},{"title":"CentosDocker, Registry","date":"2018-09-13T13:47:14.000Z","author":"weshzhu","_content":"\n\ndocker\n[CENTOS7DOCKER-CE](http://www.weshzhu.com/2019/01/03/binary-install-docker-ce-on-centos7/)\n[CENTOS7 DOCKER-CE ALIYUN ](http://www.weshzhu.com/2019/03/25/install-docker-yum/)\n\n1. /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem ** Dockerhttps**\n\tcp /home/zsd/tls-ca-bundle.pem /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem\n\n2. openssl.cnf\n\tvi /etc/pki/tls/openssl.cnf\n\t[v3_ca] subjectAltName = IP:192.168.0.11\n\t\n3. openssl\n\topenssl req [-subj \"/C=CN/ST=BeiJing/L=Dongcheng/CN=192.168.0.11\"] -newkey rsa:2048 -new -nodes -x509 -days 3650 -keyout registry.key -out registry.crt\n\topenssl req -newkey rsa:2048 -new -nodes -x509 -days 3650 -keyout registry.key -out registry.crt\n\t\n4. \n\tcat /certs/registry.crt >> /etc/pki/tls/certs/ca-bundle.crt\n\t\n5. docker\n\tsystemctl restart docker\n\n6. registry\n\tdocker run -d -p 443:443 --name registry -v /deploy/certs:/certs -e REGISTRY_HTTP_ADDR=0.0.0.0:443 -e REGISTRY_HTTP_TLS_CERTIFICATE=/certs/registry.crt -e REGISTRY_HTTP_TLS_KEY=/certs/registry.key registry:2\n\t\n7. pushregistry\n\tdocker push 192.168.0.11/nginx\n\t\n\ta. Get https://192.168.0.11/v2/: x509: cannot validate certificate for 192.168.0.11 because it doesn't contain any IP SANs  4\n\tb. Get https://<IpAddress>/v2/: x509: certificate signed by unknown authority  #6\n\n[x509: cannot validate certificate because of not containing any IP SANs](http://blog.csdn.net/zsd498537806/article/details/79290732)\n","source":"_posts/2019-03-25-private-registry-docker.md","raw":"---\ntitle: CentosDocker, Registry\ndate: 2018-09-13 13:47:14\ntags:\n  - docker\ncategories:\n  - \n  - docker\nauthor: weshzhu\n\n---\n\n\ndocker\n[CENTOS7DOCKER-CE](http://www.weshzhu.com/2019/01/03/binary-install-docker-ce-on-centos7/)\n[CENTOS7 DOCKER-CE ALIYUN ](http://www.weshzhu.com/2019/03/25/install-docker-yum/)\n\n1. /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem ** Dockerhttps**\n\tcp /home/zsd/tls-ca-bundle.pem /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem\n\n2. openssl.cnf\n\tvi /etc/pki/tls/openssl.cnf\n\t[v3_ca] subjectAltName = IP:192.168.0.11\n\t\n3. openssl\n\topenssl req [-subj \"/C=CN/ST=BeiJing/L=Dongcheng/CN=192.168.0.11\"] -newkey rsa:2048 -new -nodes -x509 -days 3650 -keyout registry.key -out registry.crt\n\topenssl req -newkey rsa:2048 -new -nodes -x509 -days 3650 -keyout registry.key -out registry.crt\n\t\n4. \n\tcat /certs/registry.crt >> /etc/pki/tls/certs/ca-bundle.crt\n\t\n5. docker\n\tsystemctl restart docker\n\n6. registry\n\tdocker run -d -p 443:443 --name registry -v /deploy/certs:/certs -e REGISTRY_HTTP_ADDR=0.0.0.0:443 -e REGISTRY_HTTP_TLS_CERTIFICATE=/certs/registry.crt -e REGISTRY_HTTP_TLS_KEY=/certs/registry.key registry:2\n\t\n7. pushregistry\n\tdocker push 192.168.0.11/nginx\n\t\n\ta. Get https://192.168.0.11/v2/: x509: cannot validate certificate for 192.168.0.11 because it doesn't contain any IP SANs  4\n\tb. Get https://<IpAddress>/v2/: x509: certificate signed by unknown authority  #6\n\n[x509: cannot validate certificate because of not containing any IP SANs](http://blog.csdn.net/zsd498537806/article/details/79290732)\n","slug":"private-registry-docker","published":1,"updated":"2019-03-25T05:50:39.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjto6rqlh000khqxuzvx9rcd4","content":"<p>docker<br><a href=\"http://www.weshzhu.com/2019/01/03/binary-install-docker-ce-on-centos7/\" target=\"_blank\" rel=\"noopener\">CENTOS7DOCKER-CE</a><br><a href=\"http://www.weshzhu.com/2019/03/25/install-docker-yum/\" target=\"_blank\" rel=\"noopener\">CENTOS7 DOCKER-CE ALIYUN </a></p>\n<ol>\n<li><p>/etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem <strong> Dockerhttps</strong><br> cp /home/zsd/tls-ca-bundle.pem /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem</p>\n</li>\n<li><p>openssl.cnf<br> vi /etc/pki/tls/openssl.cnf<br> [v3_ca] subjectAltName = IP:192.168.0.11</p>\n</li>\n<li><p>openssl<br> openssl req [-subj /C=CN/ST=BeiJing/L=Dongcheng/CN=192.168.0.11] -newkey rsa:2048 -new -nodes -x509 -days 3650 -keyout registry.key -out registry.crt<br> openssl req -newkey rsa:2048 -new -nodes -x509 -days 3650 -keyout registry.key -out registry.crt</p>\n</li>\n<li><p><br> cat /certs/registry.crt &gt;&gt; /etc/pki/tls/certs/ca-bundle.crt</p>\n</li>\n<li><p>docker<br> systemctl restart docker</p>\n</li>\n<li><p>registry<br> docker run -d -p 443:443 name registry -v /deploy/certs:/certs -e REGISTRY_HTTP_ADDR=0.0.0.0:443 -e REGISTRY_HTTP_TLS_CERTIFICATE=/certs/registry.crt -e REGISTRY_HTTP_TLS_KEY=/certs/registry.key registry:2</p>\n</li>\n<li><p>pushregistry<br> docker push 192.168.0.11/nginx<br> <br> a. Get <a href=\"https://192.168.0.11/v2/\" target=\"_blank\" rel=\"noopener\">https://192.168.0.11/v2/</a>: x509: cannot validate certificate for 192.168.0.11 because it doesnt contain any IP SANs  4<br> b. Get https://<ipaddress>/v2/: x509: certificate signed by unknown authority  #6</ipaddress></p>\n</li>\n</ol>\n<p><a href=\"http://blog.csdn.net/zsd498537806/article/details/79290732\" target=\"_blank\" rel=\"noopener\">x509: cannot validate certificate because of not containing any IP SANs</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>docker<br><a href=\"http://www.weshzhu.com/2019/01/03/binary-install-docker-ce-on-centos7/\" target=\"_blank\" rel=\"noopener\">CENTOS7DOCKER-CE</a><br><a href=\"http://www.weshzhu.com/2019/03/25/install-docker-yum/\" target=\"_blank\" rel=\"noopener\">CENTOS7 DOCKER-CE ALIYUN </a></p>\n<ol>\n<li><p>/etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem <strong> Dockerhttps</strong><br> cp /home/zsd/tls-ca-bundle.pem /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem</p>\n</li>\n<li><p>openssl.cnf<br> vi /etc/pki/tls/openssl.cnf<br> [v3_ca] subjectAltName = IP:192.168.0.11</p>\n</li>\n<li><p>openssl<br> openssl req [-subj /C=CN/ST=BeiJing/L=Dongcheng/CN=192.168.0.11] -newkey rsa:2048 -new -nodes -x509 -days 3650 -keyout registry.key -out registry.crt<br> openssl req -newkey rsa:2048 -new -nodes -x509 -days 3650 -keyout registry.key -out registry.crt</p>\n</li>\n<li><p><br> cat /certs/registry.crt &gt;&gt; /etc/pki/tls/certs/ca-bundle.crt</p>\n</li>\n<li><p>docker<br> systemctl restart docker</p>\n</li>\n<li><p>registry<br> docker run -d -p 443:443 name registry -v /deploy/certs:/certs -e REGISTRY_HTTP_ADDR=0.0.0.0:443 -e REGISTRY_HTTP_TLS_CERTIFICATE=/certs/registry.crt -e REGISTRY_HTTP_TLS_KEY=/certs/registry.key registry:2</p>\n</li>\n<li><p>pushregistry<br> docker push 192.168.0.11/nginx<br> <br> a. Get <a href=\"https://192.168.0.11/v2/\" target=\"_blank\" rel=\"noopener\">https://192.168.0.11/v2/</a>: x509: cannot validate certificate for 192.168.0.11 because it doesnt contain any IP SANs  4<br> b. Get https://<ipaddress>/v2/: x509: certificate signed by unknown authority  #6</ipaddress></p>\n</li>\n</ol>\n<p><a href=\"http://blog.csdn.net/zsd498537806/article/details/79290732\" target=\"_blank\" rel=\"noopener\">x509: cannot validate certificate because of not containing any IP SANs</a></p>\n"},{"title":"docker--overlay","date":"2019-03-21T20:23:46.000Z","_content":"\n\n\n>`docker overlay`docker`swarm``containers``overlay`\n\n#### `swarm`\n\n`overlay`[`swarm`](https://docs.docker.com/engine/swarm/)`swarm`:\n\n- `swarm`\n\n  `docker swarm init [OPTIONS]``[OPTIONS]`\n  \n  \n\n  |||||\n  |-----|-----|-----|-----|\n  |`--advertise-addr`| string ||IP|\n  |`--data-path-addr`|string||IP`eth0`|\n  |`--listen-addr`|node-addr|0.0.0.0:2377||\n\n\n  **`swarm`**\n \n  nodenode\n\n   ```\n   node1 : 192.168.0.190  (manager & worker)\n   node2 : 192.168.0.191 (worker)\n   ```\n   \n   ![swarm](/images/swarmcluster.png)\n   \n   - `swarm`\n\n     ```\n     $ docker swarm init --advertise-addr 192.168.0.190\n     Swarm initialized: current node      (se5tsje7l9oibpsx54bbe7nuf) is now amanager.\n     To add a worker to this swarm, run the following      command:\n       docker swarm join      --tokenSWMTKN-1-45ffvnn83wrl0aprynpcs0cogtg951kns  t fq  n7ok98hizonw9s-e5p7e5yjfit5tx6l1kp3e6d9      192.168.0.190:2377\n     To add a manager to this swarm, run 'docker swarm      join-tokenmanager' and follow the instructions.\n   \n     ```\n \n     `swarm`node `swarm`\n \n     ```\n     docker swarm join --token xxxx <manager-ip>:<port>\n     ```\n     \n     `swarm`Node[join]   (https://docs.docker.   com/engine/reference/commandline/swarm_join/)\n   \n     docker\n   \n     ```\n     $docker network ls\n     NETWORK ID          NAME                DRIVER                 SCOPE\n     ba18dbad1160        bridge              bridge                 local\n     58886c346808        docker_gwbridge     bridge                 local\n     7966432ad37e        host                host                   local\n     yryhkokko1tk        ingress             overlay                swarm\n     d1ab833f3555        none                null                   local\n     ```\n \n     docker`ingress` `docker_gwbridge`\n   \n     - `ingress`\n\n       ingress`swarm`   `swarm`      `ingress`\n\n        `docker network inspect ingress`   `ingress`\n     \n       ```\n       $ docker inspect ingress\n       [\n           {\n               \"Name\": \"ingress\",\n               \"Id\": \"yryhkokko1tkpkhx0pf0e1zm3\",\n               \"Created\": \"2019-01-08T17:05:50.511486192+08:00\",\n               \"Scope\": \"swarm\",\n               \"Driver\": \"overlay\",\n               \"EnableIPv6\": false,\n               \"IPAM\": {\n                   \"Driver\": \"default\",\n                   \"Options\": null,\n                   \"Config\": [\n                       {\n                           \"Subnet\": \"10.255.0.0/16\",\n                           \"Gateway\": \"10.255.0.1\"\n                       }\n                   ]\n               },\n               \"Internal\": false,\n               \"Attachable\": false,\n               \"Ingress\": true,\n               \"ConfigFrom\": {\n                   \"Network\": \"\"\n               },\n               \"ConfigOnly\": false,\n               \"Containers\": {\n                   \"ingress-sbox\": {\n                       \"Name\": \"ingress-endpoint\",\n                       \"EndpointID\": \"75df50d1f8228ff64d65a6801bc2a93e31de3f72adaec01e147abd266d3d64eb\",\n                       \"MacAddress\": \"02:42:0a:ff:00:03\",\n                       \"IPv4Address\": \"10.255.0.3/16\",\n                       \"IPv6Address\": \"\"\n                   }\n               },\n               \"Options\": {\n                   \"com.docker.network.driver.overlay.vxlanid_list\": \"4096\"\n               },\n               \"Labels\": {},\n               \"Peers\": [\n                   {\n                       \"Name\": \"5e8427535708\",\n                       \"IP\": \"192.168.0.190\"\n                   },\n                   {\n                       \"Name\": \"42c5607b0c46\",\n                       \"IP\": \"192.168.0.191\"\n                   }\n               ]\n           }\n       ]\n       ```\n\n     - `docker_gwbridge`\n\n       `docker_gwbridge`  `swarm`node\n     \n       ```\n       $ docker inspect docker_gwbridge\n       [\n           {\n               \"Name\": \"docker_gwbridge\",\n               \"Id\": \"2c7254c25f765b28833668e060246a813d69b8936a5db1a8cd2bc7237dfc7df4\",\n               \"Created\": \"2019-01-08T17:05:51.263715613+08:00\",\n               \"Scope\": \"local\",\n               \"Driver\": \"bridge\",\n               \"EnableIPv6\": false,\n               \"IPAM\": {\n                   \"Driver\": \"default\",\n                   \"Options\": null,\n                   \"Config\": [\n                       {\n                           \"Subnet\": \"172.18.0.0/16\",\n                           \"Gateway\": \"172.18.0.1\"\n                       }\n                   ]\n               },\n               \"Internal\": false,\n               \"Attachable\": false,\n               \"Ingress\": false,\n               \"ConfigFrom\": {\n                   \"Network\": \"\"\n               },\n               \"ConfigOnly\": false,\n               \"Containers\": {\n                   \"ingress-sbox\": {\n                       \"Name\": \"gateway_ingress-sbox\",\n                       \"EndpointID\": \"4f6821a4096104af4f04aea5caab7a5a3419a2b6469b31ea7a52f4c92b9023af\",\n                       \"MacAddress\": \"02:42:ac:12:00:02\",\n                       \"IPv4Address\": \"172.18.0.2/16\",\n                       \"IPv6Address\": \"\"\n                   }\n               },\n               \"Options\": {\n                   \"com.docker.network.bridge.enable_icc\": \"false\",\n                   \"com.docker.network.bridge.enable_ip_masquerade\": \"true\",\n                   \"com.docker.network.bridge.name\": \"docker_gwbridge\"\n               },\n               \"Labels\": {}\n           }\n       ]\n       ```\n\n- `worker`\n   \n    node2(192.168.0.191)`swarm`\n\n    ```\n    $ docker swarm join --token \\\n      SWMTKN-1-45ffvnn83wrl0aprynpcs0cogtg951knstfqn7ok98hizonw9s-e5p7e50yjfit5tx6l1kp3e6d9  \\\n      192.168.0.190:2377\n\n      This node joined a swarm as a worker.\n    ```\n\n    node\n\n    ```\n    $ docker node ls\n      ID                            HOSTNAME             STATUS              AVAILABILITY        MANAGER STATUS      ENGINE VERSION\n      se5tsje7l9oibpsx54bbe7nuf *   host1                 Ready               Active              Leader              18.03.1-ce\n      timpbicei0sxbsuv9rq1625eh     host2                 Ready               Active                                  18.03.1-ce\n    ```\n   \n     ****docker\n   \n     ```\n     $ docker network ls \n       NETWORK ID          NAME                DRIVER                    SCOPE\n       e39a5d50e807        bridge              bridge                    local\n       2c7254c25f76        docker_gwbridge     bridge                    local\n       a284efd6e1f2        host                host                      local\n       yryhkokko1tk        ingress             overlay                   swarm\n       13bd88a34632        none                null                  local\n     ```\n\n#### `overlay`\n \n - `overlay`\n\n   `overlay``swarm``swarm`\n\n   swarm\n   \n   ```\n   $ docker network create -d overlay my-overlay\n   ```\n\n   Docker`overlay``--attachable`\n\n   ```\n   $ docker network create -d overlay --attachable my-attachable-overlay\n   ```\n\n   IPdocker network create --help\n  \n - `overlay`windows\n   \n   `swarm``GCM-AES``--opt encrypted`Docker`IPSEC`\n\n\n - `ingress`\n\n   Docker 17.05`ingress``low-level`MTU\n\n   - `ingress`\n\n     --ingress  MTU120010.11.0.0/1610.11.0.2\n\n     ```\n     $ docker network create \\\n       --driver overlay \\\n       --ingress \\\n       --subnet=10.11.0.0/16 \\\n       --gateway=10.11.0.2 \\\n       --opt com.docker.network.driver.mtu=1200 \\\n       my-ingress\n     ```\n     `ingress``ingress`\n\n   - `ingress`\n\n     `ingress`\n\n     ```\n     $ docker network rm ingress\n \n       WARNING! Before removing the routing-mesh   network, make sure all the nodes\n       in your swarm run the same docker engine   version. Otherwise, removal may not\n       be effective and functionality of newly created   ingress networks will be\n       impaired.\n       Are you sure you want to continue? [y/N]\n     ```\n\n- `docker_gwbridge`\n\n  `docker_gwbridge``ingress`DockerDocker\n\n  ```\n  $ ip addr | grep docker_gwbridge\n    docker_gwbridge: <BROADCAST,MULTICAST,UP,LOWER_UP>   mtu 1500 qdisc noqueue state UP \n      inet 172.18.0.1/16 brd 172.18.255.255 scope   global docker_gwbridge\n  ```\n  \n  1. Stop Docker service\n     \n     ```\n     $ systemctl stop docker\n     ```\n  \n  2. `docker_gwbridge`\n  \n     ```\n     $ ip link set  docker_gwbridge down\n     $ ip link del dev docker_gwbridge\n     ```\n  3. Docker`swarm``swarm`  \n  \n     ```\n     $ systemctl start docker\n     ```\n  4. `docker network create`  `docker_gwbridge`  10.11.0.0/16[Bridge  ]  (https://docs.docker.com/engine/reference/commandline/  network_create/#bridge-driver-options)\n     \n     ```\n     $ docker network create  \\\n       --subnet 10.11.0.0/16 \\\n       --opt    com.docker.network.bridge.name=docker_gwbridge \\\n       --opt com.docker.network.bridge.enable_icc=false  \\\n       --opt    com.docker.network.bridge.enable_ip_masquerade=true \\\n       docker_gwbridge\n     ```\n  5. `swarm``docker_gwbridge`Docker\n\n#### `swarm``overlay`\n\n- `overlay`\n\n  `docker service create``docker service update``-p``--publish`\n\n  ```\n  $ docker service create \n  ```\n\n  `swarm`(`routing mesh`)swarmworker\n\n- `swram``swarm service``routing mesh`\n\n  `swarm` `swarm``worker`Docker`load balancer` `routing mesh`IPVIP `--mode global``routing mesh`DockerDNSDNSRR`--endpoint-mode``dnsrr``dnsrr``nginx``HAproxy`DNS`swarm`IP\n  \n  >`routing mesh`  `service` \n\n- \n  \n  `swarm`Docker`swarm``--advertise-addr``--data-path-addr`\n\n#### `overlay`\n\n- \n\n  `ingress``--attachable``swarm``swarm``ingress``swarm``ingress`--attachableDockerDocker\n\n\n- \n\n  tasks`DNS lookup` `tasks.<service-name>`\n\n\n","source":"_posts/2019-03-21-docker-network-overlay.md","raw":"---\ntitle: docker--overlay\ndate: 2019-03-21 20:23:46\ntags: \n  - docker\ncategories:\n  - \n  - docker\n---\n\n\n\n>`docker overlay`docker`swarm``containers``overlay`\n\n#### `swarm`\n\n`overlay`[`swarm`](https://docs.docker.com/engine/swarm/)`swarm`:\n\n- `swarm`\n\n  `docker swarm init [OPTIONS]``[OPTIONS]`\n  \n  \n\n  |||||\n  |-----|-----|-----|-----|\n  |`--advertise-addr`| string ||IP|\n  |`--data-path-addr`|string||IP`eth0`|\n  |`--listen-addr`|node-addr|0.0.0.0:2377||\n\n\n  **`swarm`**\n \n  nodenode\n\n   ```\n   node1 : 192.168.0.190  (manager & worker)\n   node2 : 192.168.0.191 (worker)\n   ```\n   \n   ![swarm](/images/swarmcluster.png)\n   \n   - `swarm`\n\n     ```\n     $ docker swarm init --advertise-addr 192.168.0.190\n     Swarm initialized: current node      (se5tsje7l9oibpsx54bbe7nuf) is now amanager.\n     To add a worker to this swarm, run the following      command:\n       docker swarm join      --tokenSWMTKN-1-45ffvnn83wrl0aprynpcs0cogtg951kns  t fq  n7ok98hizonw9s-e5p7e5yjfit5tx6l1kp3e6d9      192.168.0.190:2377\n     To add a manager to this swarm, run 'docker swarm      join-tokenmanager' and follow the instructions.\n   \n     ```\n \n     `swarm`node `swarm`\n \n     ```\n     docker swarm join --token xxxx <manager-ip>:<port>\n     ```\n     \n     `swarm`Node[join]   (https://docs.docker.   com/engine/reference/commandline/swarm_join/)\n   \n     docker\n   \n     ```\n     $docker network ls\n     NETWORK ID          NAME                DRIVER                 SCOPE\n     ba18dbad1160        bridge              bridge                 local\n     58886c346808        docker_gwbridge     bridge                 local\n     7966432ad37e        host                host                   local\n     yryhkokko1tk        ingress             overlay                swarm\n     d1ab833f3555        none                null                   local\n     ```\n \n     docker`ingress` `docker_gwbridge`\n   \n     - `ingress`\n\n       ingress`swarm`   `swarm`      `ingress`\n\n        `docker network inspect ingress`   `ingress`\n     \n       ```\n       $ docker inspect ingress\n       [\n           {\n               \"Name\": \"ingress\",\n               \"Id\": \"yryhkokko1tkpkhx0pf0e1zm3\",\n               \"Created\": \"2019-01-08T17:05:50.511486192+08:00\",\n               \"Scope\": \"swarm\",\n               \"Driver\": \"overlay\",\n               \"EnableIPv6\": false,\n               \"IPAM\": {\n                   \"Driver\": \"default\",\n                   \"Options\": null,\n                   \"Config\": [\n                       {\n                           \"Subnet\": \"10.255.0.0/16\",\n                           \"Gateway\": \"10.255.0.1\"\n                       }\n                   ]\n               },\n               \"Internal\": false,\n               \"Attachable\": false,\n               \"Ingress\": true,\n               \"ConfigFrom\": {\n                   \"Network\": \"\"\n               },\n               \"ConfigOnly\": false,\n               \"Containers\": {\n                   \"ingress-sbox\": {\n                       \"Name\": \"ingress-endpoint\",\n                       \"EndpointID\": \"75df50d1f8228ff64d65a6801bc2a93e31de3f72adaec01e147abd266d3d64eb\",\n                       \"MacAddress\": \"02:42:0a:ff:00:03\",\n                       \"IPv4Address\": \"10.255.0.3/16\",\n                       \"IPv6Address\": \"\"\n                   }\n               },\n               \"Options\": {\n                   \"com.docker.network.driver.overlay.vxlanid_list\": \"4096\"\n               },\n               \"Labels\": {},\n               \"Peers\": [\n                   {\n                       \"Name\": \"5e8427535708\",\n                       \"IP\": \"192.168.0.190\"\n                   },\n                   {\n                       \"Name\": \"42c5607b0c46\",\n                       \"IP\": \"192.168.0.191\"\n                   }\n               ]\n           }\n       ]\n       ```\n\n     - `docker_gwbridge`\n\n       `docker_gwbridge`  `swarm`node\n     \n       ```\n       $ docker inspect docker_gwbridge\n       [\n           {\n               \"Name\": \"docker_gwbridge\",\n               \"Id\": \"2c7254c25f765b28833668e060246a813d69b8936a5db1a8cd2bc7237dfc7df4\",\n               \"Created\": \"2019-01-08T17:05:51.263715613+08:00\",\n               \"Scope\": \"local\",\n               \"Driver\": \"bridge\",\n               \"EnableIPv6\": false,\n               \"IPAM\": {\n                   \"Driver\": \"default\",\n                   \"Options\": null,\n                   \"Config\": [\n                       {\n                           \"Subnet\": \"172.18.0.0/16\",\n                           \"Gateway\": \"172.18.0.1\"\n                       }\n                   ]\n               },\n               \"Internal\": false,\n               \"Attachable\": false,\n               \"Ingress\": false,\n               \"ConfigFrom\": {\n                   \"Network\": \"\"\n               },\n               \"ConfigOnly\": false,\n               \"Containers\": {\n                   \"ingress-sbox\": {\n                       \"Name\": \"gateway_ingress-sbox\",\n                       \"EndpointID\": \"4f6821a4096104af4f04aea5caab7a5a3419a2b6469b31ea7a52f4c92b9023af\",\n                       \"MacAddress\": \"02:42:ac:12:00:02\",\n                       \"IPv4Address\": \"172.18.0.2/16\",\n                       \"IPv6Address\": \"\"\n                   }\n               },\n               \"Options\": {\n                   \"com.docker.network.bridge.enable_icc\": \"false\",\n                   \"com.docker.network.bridge.enable_ip_masquerade\": \"true\",\n                   \"com.docker.network.bridge.name\": \"docker_gwbridge\"\n               },\n               \"Labels\": {}\n           }\n       ]\n       ```\n\n- `worker`\n   \n    node2(192.168.0.191)`swarm`\n\n    ```\n    $ docker swarm join --token \\\n      SWMTKN-1-45ffvnn83wrl0aprynpcs0cogtg951knstfqn7ok98hizonw9s-e5p7e50yjfit5tx6l1kp3e6d9  \\\n      192.168.0.190:2377\n\n      This node joined a swarm as a worker.\n    ```\n\n    node\n\n    ```\n    $ docker node ls\n      ID                            HOSTNAME             STATUS              AVAILABILITY        MANAGER STATUS      ENGINE VERSION\n      se5tsje7l9oibpsx54bbe7nuf *   host1                 Ready               Active              Leader              18.03.1-ce\n      timpbicei0sxbsuv9rq1625eh     host2                 Ready               Active                                  18.03.1-ce\n    ```\n   \n     ****docker\n   \n     ```\n     $ docker network ls \n       NETWORK ID          NAME                DRIVER                    SCOPE\n       e39a5d50e807        bridge              bridge                    local\n       2c7254c25f76        docker_gwbridge     bridge                    local\n       a284efd6e1f2        host                host                      local\n       yryhkokko1tk        ingress             overlay                   swarm\n       13bd88a34632        none                null                  local\n     ```\n\n#### `overlay`\n \n - `overlay`\n\n   `overlay``swarm``swarm`\n\n   swarm\n   \n   ```\n   $ docker network create -d overlay my-overlay\n   ```\n\n   Docker`overlay``--attachable`\n\n   ```\n   $ docker network create -d overlay --attachable my-attachable-overlay\n   ```\n\n   IPdocker network create --help\n  \n - `overlay`windows\n   \n   `swarm``GCM-AES``--opt encrypted`Docker`IPSEC`\n\n\n - `ingress`\n\n   Docker 17.05`ingress``low-level`MTU\n\n   - `ingress`\n\n     --ingress  MTU120010.11.0.0/1610.11.0.2\n\n     ```\n     $ docker network create \\\n       --driver overlay \\\n       --ingress \\\n       --subnet=10.11.0.0/16 \\\n       --gateway=10.11.0.2 \\\n       --opt com.docker.network.driver.mtu=1200 \\\n       my-ingress\n     ```\n     `ingress``ingress`\n\n   - `ingress`\n\n     `ingress`\n\n     ```\n     $ docker network rm ingress\n \n       WARNING! Before removing the routing-mesh   network, make sure all the nodes\n       in your swarm run the same docker engine   version. Otherwise, removal may not\n       be effective and functionality of newly created   ingress networks will be\n       impaired.\n       Are you sure you want to continue? [y/N]\n     ```\n\n- `docker_gwbridge`\n\n  `docker_gwbridge``ingress`DockerDocker\n\n  ```\n  $ ip addr | grep docker_gwbridge\n    docker_gwbridge: <BROADCAST,MULTICAST,UP,LOWER_UP>   mtu 1500 qdisc noqueue state UP \n      inet 172.18.0.1/16 brd 172.18.255.255 scope   global docker_gwbridge\n  ```\n  \n  1. Stop Docker service\n     \n     ```\n     $ systemctl stop docker\n     ```\n  \n  2. `docker_gwbridge`\n  \n     ```\n     $ ip link set  docker_gwbridge down\n     $ ip link del dev docker_gwbridge\n     ```\n  3. Docker`swarm``swarm`  \n  \n     ```\n     $ systemctl start docker\n     ```\n  4. `docker network create`  `docker_gwbridge`  10.11.0.0/16[Bridge  ]  (https://docs.docker.com/engine/reference/commandline/  network_create/#bridge-driver-options)\n     \n     ```\n     $ docker network create  \\\n       --subnet 10.11.0.0/16 \\\n       --opt    com.docker.network.bridge.name=docker_gwbridge \\\n       --opt com.docker.network.bridge.enable_icc=false  \\\n       --opt    com.docker.network.bridge.enable_ip_masquerade=true \\\n       docker_gwbridge\n     ```\n  5. `swarm``docker_gwbridge`Docker\n\n#### `swarm``overlay`\n\n- `overlay`\n\n  `docker service create``docker service update``-p``--publish`\n\n  ```\n  $ docker service create \n  ```\n\n  `swarm`(`routing mesh`)swarmworker\n\n- `swram``swarm service``routing mesh`\n\n  `swarm` `swarm``worker`Docker`load balancer` `routing mesh`IPVIP `--mode global``routing mesh`DockerDNSDNSRR`--endpoint-mode``dnsrr``dnsrr``nginx``HAproxy`DNS`swarm`IP\n  \n  >`routing mesh`  `service` \n\n- \n  \n  `swarm`Docker`swarm``--advertise-addr``--data-path-addr`\n\n#### `overlay`\n\n- \n\n  `ingress``--attachable``swarm``swarm``ingress``swarm``ingress`--attachableDockerDocker\n\n\n- \n\n  tasks`DNS lookup` `tasks.<service-name>`\n\n\n","slug":"docker-network-overlay","published":1,"updated":"2019-03-21T12:25:46.633Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjto6rqsz001jhqxu71qp5kel","content":"<blockquote>\n<p><code>docker overlay</code>docker<code>swarm</code><code>containers</code><code>overlay</code></p>\n</blockquote>\n<h4 id=\"swarm\"><a href=\"#swarm\" class=\"headerlink\" title=\"swarm\"></a><code>swarm</code></h4><p><code>overlay</code><a href=\"https://docs.docker.com/engine/swarm/\" target=\"_blank\" rel=\"noopener\"><code>swarm</code></a><code>swarm</code>:</p>\n<ul>\n<li><p><code>swarm</code></p>\n<p><code>docker swarm init [OPTIONS]</code><code>[OPTIONS]</code></p>\n<p></p>\n<p>|||||<br>|||||<br>|<code>--advertise-addr</code>| string ||IP|<br>|<code>--data-path-addr</code>|string||IP<code>eth0</code>|<br>|<code>--listen-addr</code>|node-addr|0.0.0.0:2377||</p>\n</li>\n</ul>\n<p>  <strong><code>swarm</code></strong></p>\n<p>  nodenode</p>\n   <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">node1 : 192.168.0.190  (manager &amp; worker)</span><br><span class=\"line\">node2 : 192.168.0.191 (worker)</span><br></pre></td></tr></table></figure>\n<p>   <img src=\"/images/swarmcluster.png\" alt=\"swarm\"></p>\n<ul>\n<li><p><code>swarm</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker swarm init --advertise-addr 192.168.0.190</span><br><span class=\"line\">Swarm initialized: current node      (se5tsje7l9oibpsx54bbe7nuf) is now amanager.</span><br><span class=\"line\">To add a worker to this swarm, run the following      command:</span><br><span class=\"line\">  docker swarm join      --tokenSWMTKN-1-45ffvnn83wrl0aprynpcs0cogtg951kns  t fq  n7ok98hizonw9s-e5p7e5yjfit5tx6l1kp3e6d9      192.168.0.190:2377</span><br><span class=\"line\">To add a manager to this swarm, run &apos;docker swarm      join-tokenmanager&apos; and follow the instructions.</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<pre><code>`swarm`node `swarm`\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker swarm join --token xxxx &lt;manager-ip&gt;:&lt;port&gt;</span><br></pre></td></tr></table></figure>\n\n\n`swarm`Node[join]   (https://docs.docker.   com/engine/reference/commandline/swarm_join/)\n\ndocker\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$docker network ls</span><br><span class=\"line\">NETWORK ID          NAME                DRIVER                 SCOPE</span><br><span class=\"line\">ba18dbad1160        bridge              bridge                 local</span><br><span class=\"line\">58886c346808        docker_gwbridge     bridge                 local</span><br><span class=\"line\">7966432ad37e        host                host                   local</span><br><span class=\"line\">yryhkokko1tk        ingress             overlay                swarm</span><br><span class=\"line\">d1ab833f3555        none                null                   local</span><br></pre></td></tr></table></figure>\n\n\ndocker`ingress` `docker_gwbridge`\n\n- `ingress`\n\n  ingress`swarm`   `swarm`      `ingress`\n\n   `docker network inspect ingress`   `ingress`\n\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker inspect ingress</span><br><span class=\"line\">[</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        &quot;Name&quot;: &quot;ingress&quot;,</span><br><span class=\"line\">        &quot;Id&quot;: &quot;yryhkokko1tkpkhx0pf0e1zm3&quot;,</span><br><span class=\"line\">        &quot;Created&quot;: &quot;2019-01-08T17:05:50.511486192+08:00&quot;,</span><br><span class=\"line\">        &quot;Scope&quot;: &quot;swarm&quot;,</span><br><span class=\"line\">        &quot;Driver&quot;: &quot;overlay&quot;,</span><br><span class=\"line\">        &quot;EnableIPv6&quot;: false,</span><br><span class=\"line\">        &quot;IPAM&quot;: &#123;</span><br><span class=\"line\">            &quot;Driver&quot;: &quot;default&quot;,</span><br><span class=\"line\">            &quot;Options&quot;: null,</span><br><span class=\"line\">            &quot;Config&quot;: [</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    &quot;Subnet&quot;: &quot;10.255.0.0/16&quot;,</span><br><span class=\"line\">                    &quot;Gateway&quot;: &quot;10.255.0.1&quot;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            ]</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &quot;Internal&quot;: false,</span><br><span class=\"line\">        &quot;Attachable&quot;: false,</span><br><span class=\"line\">        &quot;Ingress&quot;: true,</span><br><span class=\"line\">        &quot;ConfigFrom&quot;: &#123;</span><br><span class=\"line\">            &quot;Network&quot;: &quot;&quot;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &quot;ConfigOnly&quot;: false,</span><br><span class=\"line\">        &quot;Containers&quot;: &#123;</span><br><span class=\"line\">            &quot;ingress-sbox&quot;: &#123;</span><br><span class=\"line\">                &quot;Name&quot;: &quot;ingress-endpoint&quot;,</span><br><span class=\"line\">                &quot;EndpointID&quot;: &quot;75df50d1f8228ff64d65a6801bc2a93e31de3f72adaec01e147abd266d3d64eb&quot;,</span><br><span class=\"line\">                &quot;MacAddress&quot;: &quot;02:42:0a:ff:00:03&quot;,</span><br><span class=\"line\">                &quot;IPv4Address&quot;: &quot;10.255.0.3/16&quot;,</span><br><span class=\"line\">                &quot;IPv6Address&quot;: &quot;&quot;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &quot;Options&quot;: &#123;</span><br><span class=\"line\">            &quot;com.docker.network.driver.overlay.vxlanid_list&quot;: &quot;4096&quot;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &quot;Labels&quot;: &#123;&#125;,</span><br><span class=\"line\">        &quot;Peers&quot;: [</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                &quot;Name&quot;: &quot;5e8427535708&quot;,</span><br><span class=\"line\">                &quot;IP&quot;: &quot;192.168.0.190&quot;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                &quot;Name&quot;: &quot;42c5607b0c46&quot;,</span><br><span class=\"line\">                &quot;IP&quot;: &quot;192.168.0.191&quot;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        ]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n- `docker_gwbridge`\n\n  `docker_gwbridge`  `swarm`node\n\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker inspect docker_gwbridge</span><br><span class=\"line\">[</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        &quot;Name&quot;: &quot;docker_gwbridge&quot;,</span><br><span class=\"line\">        &quot;Id&quot;: &quot;2c7254c25f765b28833668e060246a813d69b8936a5db1a8cd2bc7237dfc7df4&quot;,</span><br><span class=\"line\">        &quot;Created&quot;: &quot;2019-01-08T17:05:51.263715613+08:00&quot;,</span><br><span class=\"line\">        &quot;Scope&quot;: &quot;local&quot;,</span><br><span class=\"line\">        &quot;Driver&quot;: &quot;bridge&quot;,</span><br><span class=\"line\">        &quot;EnableIPv6&quot;: false,</span><br><span class=\"line\">        &quot;IPAM&quot;: &#123;</span><br><span class=\"line\">            &quot;Driver&quot;: &quot;default&quot;,</span><br><span class=\"line\">            &quot;Options&quot;: null,</span><br><span class=\"line\">            &quot;Config&quot;: [</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    &quot;Subnet&quot;: &quot;172.18.0.0/16&quot;,</span><br><span class=\"line\">                    &quot;Gateway&quot;: &quot;172.18.0.1&quot;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            ]</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &quot;Internal&quot;: false,</span><br><span class=\"line\">        &quot;Attachable&quot;: false,</span><br><span class=\"line\">        &quot;Ingress&quot;: false,</span><br><span class=\"line\">        &quot;ConfigFrom&quot;: &#123;</span><br><span class=\"line\">            &quot;Network&quot;: &quot;&quot;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &quot;ConfigOnly&quot;: false,</span><br><span class=\"line\">        &quot;Containers&quot;: &#123;</span><br><span class=\"line\">            &quot;ingress-sbox&quot;: &#123;</span><br><span class=\"line\">                &quot;Name&quot;: &quot;gateway_ingress-sbox&quot;,</span><br><span class=\"line\">                &quot;EndpointID&quot;: &quot;4f6821a4096104af4f04aea5caab7a5a3419a2b6469b31ea7a52f4c92b9023af&quot;,</span><br><span class=\"line\">                &quot;MacAddress&quot;: &quot;02:42:ac:12:00:02&quot;,</span><br><span class=\"line\">                &quot;IPv4Address&quot;: &quot;172.18.0.2/16&quot;,</span><br><span class=\"line\">                &quot;IPv6Address&quot;: &quot;&quot;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &quot;Options&quot;: &#123;</span><br><span class=\"line\">            &quot;com.docker.network.bridge.enable_icc&quot;: &quot;false&quot;,</span><br><span class=\"line\">            &quot;com.docker.network.bridge.enable_ip_masquerade&quot;: &quot;true&quot;,</span><br><span class=\"line\">            &quot;com.docker.network.bridge.name&quot;: &quot;docker_gwbridge&quot;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &quot;Labels&quot;: &#123;&#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n</code></pre><ul>\n<li><p><code>worker</code></p>\n<p>  node2(192.168.0.191)<code>swarm</code></p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker swarm join --token \\</span><br><span class=\"line\">  SWMTKN-1-45ffvnn83wrl0aprynpcs0cogtg951knstfqn7ok98hizonw9s-e5p7e50yjfit5tx6l1kp3e6d9  \\</span><br><span class=\"line\">  192.168.0.190:2377</span><br><span class=\"line\"></span><br><span class=\"line\">  This node joined a swarm as a worker.</span><br></pre></td></tr></table></figure>\n<p>  node</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker node ls</span><br><span class=\"line\">  ID                            HOSTNAME             STATUS              AVAILABILITY        MANAGER STATUS      ENGINE VERSION</span><br><span class=\"line\">  se5tsje7l9oibpsx54bbe7nuf *   host1                 Ready               Active              Leader              18.03.1-ce</span><br><span class=\"line\">  timpbicei0sxbsuv9rq1625eh     host2                 Ready               Active                                  18.03.1-ce</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<pre><code>****docker\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker network ls </span><br><span class=\"line\">  NETWORK ID          NAME                DRIVER                    SCOPE</span><br><span class=\"line\">  e39a5d50e807        bridge              bridge                    local</span><br><span class=\"line\">  2c7254c25f76        docker_gwbridge     bridge                    local</span><br><span class=\"line\">  a284efd6e1f2        host                host                      local</span><br><span class=\"line\">  yryhkokko1tk        ingress             overlay                   swarm</span><br><span class=\"line\">  13bd88a34632        none                null                  local</span><br></pre></td></tr></table></figure>\n</code></pre><h4 id=\"overlay\"><a href=\"#overlay\" class=\"headerlink\" title=\"overlay\"></a><code>overlay</code></h4><ul>\n<li><p><code>overlay</code></p>\n<p><code>overlay</code><code>swarm</code><code>swarm</code></p>\n<p>swarm</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker network create -d overlay my-overlay</span><br></pre></td></tr></table></figure>\n<p>Docker<code>overlay</code><code>--attachable</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker network create -d overlay --attachable my-attachable-overlay</span><br></pre></td></tr></table></figure>\n<p>IPdocker network create help</p>\n</li>\n<li><p><code>overlay</code>windows</p>\n<p><code>swarm</code><code>GCM-AES</code><code>--opt encrypted</code>Docker<code>IPSEC</code></p>\n</li>\n</ul>\n<ul>\n<li><p><code>ingress</code></p>\n<p>Docker 17.05<code>ingress</code><code>low-level</code>MTU</p>\n<ul>\n<li><p><code>ingress</code></p>\n<p>ingress  MTU120010.11.0.0/1610.11.0.2</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker network create \\</span><br><span class=\"line\">  --driver overlay \\</span><br><span class=\"line\">  --ingress \\</span><br><span class=\"line\">  --subnet=10.11.0.0/16 \\</span><br><span class=\"line\">  --gateway=10.11.0.2 \\</span><br><span class=\"line\">  --opt com.docker.network.driver.mtu=1200 \\</span><br><span class=\"line\">  my-ingress</span><br></pre></td></tr></table></figure>\n<p><code>ingress</code><code>ingress</code></p>\n</li>\n<li><p><code>ingress</code></p>\n<p><code>ingress</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker network rm ingress</span><br><span class=\"line\"> </span><br><span class=\"line\">  WARNING! Before removing the routing-mesh   network, make sure all the nodes</span><br><span class=\"line\">  in your swarm run the same docker engine   version. Otherwise, removal may not</span><br><span class=\"line\">  be effective and functionality of newly created   ingress networks will be</span><br><span class=\"line\">  impaired.</span><br><span class=\"line\">  Are you sure you want to continue? [y/N]</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li><p><code>docker_gwbridge</code></p>\n<p><code>docker_gwbridge</code><code>ingress</code>DockerDocker</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ip addr | grep docker_gwbridge</span><br><span class=\"line\">  docker_gwbridge: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt;   mtu 1500 qdisc noqueue state UP </span><br><span class=\"line\">    inet 172.18.0.1/16 brd 172.18.255.255 scope   global docker_gwbridge</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<ol>\n<li><p>Stop Docker service</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ systemctl stop docker</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<ol start=\"2\">\n<li><p><code>docker_gwbridge</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ip link set  docker_gwbridge down</span><br><span class=\"line\">$ ip link del dev docker_gwbridge</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Docker<code>swarm</code><code>swarm</code>  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ systemctl start docker</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>docker network create</code>  <code>docker_gwbridge</code>  10.11.0.0/16[Bridge  ]  (<a href=\"https://docs.docker.com/engine/reference/commandline/\" target=\"_blank\" rel=\"noopener\">https://docs.docker.com/engine/reference/commandline/</a>  network_create/#bridge-driver-options)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker network create  \\</span><br><span class=\"line\">  --subnet 10.11.0.0/16 \\</span><br><span class=\"line\">  --opt    com.docker.network.bridge.name=docker_gwbridge \\</span><br><span class=\"line\">  --opt com.docker.network.bridge.enable_icc=false  \\</span><br><span class=\"line\">  --opt    com.docker.network.bridge.enable_ip_masquerade=true \\</span><br><span class=\"line\">  docker_gwbridge</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>swarm</code><code>docker_gwbridge</code>Docker</p>\n</li>\n</ol>\n<h4 id=\"swarmoverlay\"><a href=\"#swarmoverlay\" class=\"headerlink\" title=\"swarmoverlay\"></a><code>swarm</code><code>overlay</code></h4><ul>\n<li><p><code>overlay</code></p>\n<p><code>docker service create</code><code>docker service update</code><code>-p</code><code>--publish</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker service create</span><br></pre></td></tr></table></figure>\n<p><code>swarm</code>(<code>routing mesh</code>)swarmworker</p>\n</li>\n<li><p><code>swram</code><code>swarm service</code><code>routing mesh</code></p>\n<p><code>swarm</code> <code>swarm</code><code>worker</code>Docker<code>load balancer</code> <code>routing mesh</code>IPVIP <code>--mode global</code><code>routing mesh</code>DockerDNSDNSRR<code>--endpoint-mode</code><code>dnsrr</code><code>dnsrr</code><code>nginx</code><code>HAproxy</code>DNS<code>swarm</code>IP</p>\n<blockquote>\n<p><code>routing mesh</code>  <code>service</code> </p>\n</blockquote>\n</li>\n<li><p></p>\n<p><code>swarm</code>Docker<code>swarm</code><code>--advertise-addr</code><code>--data-path-addr</code></p>\n</li>\n</ul>\n<h4 id=\"overlay\"><a href=\"#overlay\" class=\"headerlink\" title=\"overlay\"></a><code>overlay</code></h4><ul>\n<li><p></p>\n<p><code>ingress</code><code>--attachable</code><code>swarm</code><code>swarm</code><code>ingress</code><code>swarm</code><code>ingress</code>attachableDockerDocker</p>\n</li>\n</ul>\n<ul>\n<li><p></p>\n<p>tasks<code>DNS lookup</code> <code>tasks.&lt;service-name&gt;</code></p>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p><code>docker overlay</code>docker<code>swarm</code><code>containers</code><code>overlay</code></p>\n</blockquote>\n<h4 id=\"swarm\"><a href=\"#swarm\" class=\"headerlink\" title=\"swarm\"></a><code>swarm</code></h4><p><code>overlay</code><a href=\"https://docs.docker.com/engine/swarm/\" target=\"_blank\" rel=\"noopener\"><code>swarm</code></a><code>swarm</code>:</p>\n<ul>\n<li><p><code>swarm</code></p>\n<p><code>docker swarm init [OPTIONS]</code><code>[OPTIONS]</code></p>\n<p></p>\n<p>|||||<br>|||||<br>|<code>--advertise-addr</code>| string ||IP|<br>|<code>--data-path-addr</code>|string||IP<code>eth0</code>|<br>|<code>--listen-addr</code>|node-addr|0.0.0.0:2377||</p>\n</li>\n</ul>\n<p>  <strong><code>swarm</code></strong></p>\n<p>  nodenode</p>\n   <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">node1 : 192.168.0.190  (manager &amp; worker)</span><br><span class=\"line\">node2 : 192.168.0.191 (worker)</span><br></pre></td></tr></table></figure>\n<p>   <img src=\"/images/swarmcluster.png\" alt=\"swarm\"></p>\n<ul>\n<li><p><code>swarm</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker swarm init --advertise-addr 192.168.0.190</span><br><span class=\"line\">Swarm initialized: current node      (se5tsje7l9oibpsx54bbe7nuf) is now amanager.</span><br><span class=\"line\">To add a worker to this swarm, run the following      command:</span><br><span class=\"line\">  docker swarm join      --tokenSWMTKN-1-45ffvnn83wrl0aprynpcs0cogtg951kns  t fq  n7ok98hizonw9s-e5p7e5yjfit5tx6l1kp3e6d9      192.168.0.190:2377</span><br><span class=\"line\">To add a manager to this swarm, run &apos;docker swarm      join-tokenmanager&apos; and follow the instructions.</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<pre><code>`swarm`node `swarm`\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker swarm join --token xxxx &lt;manager-ip&gt;:&lt;port&gt;</span><br></pre></td></tr></table></figure>\n\n\n`swarm`Node[join]   (https://docs.docker.   com/engine/reference/commandline/swarm_join/)\n\ndocker\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$docker network ls</span><br><span class=\"line\">NETWORK ID          NAME                DRIVER                 SCOPE</span><br><span class=\"line\">ba18dbad1160        bridge              bridge                 local</span><br><span class=\"line\">58886c346808        docker_gwbridge     bridge                 local</span><br><span class=\"line\">7966432ad37e        host                host                   local</span><br><span class=\"line\">yryhkokko1tk        ingress             overlay                swarm</span><br><span class=\"line\">d1ab833f3555        none                null                   local</span><br></pre></td></tr></table></figure>\n\n\ndocker`ingress` `docker_gwbridge`\n\n- `ingress`\n\n  ingress`swarm`   `swarm`      `ingress`\n\n   `docker network inspect ingress`   `ingress`\n\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker inspect ingress</span><br><span class=\"line\">[</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        &quot;Name&quot;: &quot;ingress&quot;,</span><br><span class=\"line\">        &quot;Id&quot;: &quot;yryhkokko1tkpkhx0pf0e1zm3&quot;,</span><br><span class=\"line\">        &quot;Created&quot;: &quot;2019-01-08T17:05:50.511486192+08:00&quot;,</span><br><span class=\"line\">        &quot;Scope&quot;: &quot;swarm&quot;,</span><br><span class=\"line\">        &quot;Driver&quot;: &quot;overlay&quot;,</span><br><span class=\"line\">        &quot;EnableIPv6&quot;: false,</span><br><span class=\"line\">        &quot;IPAM&quot;: &#123;</span><br><span class=\"line\">            &quot;Driver&quot;: &quot;default&quot;,</span><br><span class=\"line\">            &quot;Options&quot;: null,</span><br><span class=\"line\">            &quot;Config&quot;: [</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    &quot;Subnet&quot;: &quot;10.255.0.0/16&quot;,</span><br><span class=\"line\">                    &quot;Gateway&quot;: &quot;10.255.0.1&quot;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            ]</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &quot;Internal&quot;: false,</span><br><span class=\"line\">        &quot;Attachable&quot;: false,</span><br><span class=\"line\">        &quot;Ingress&quot;: true,</span><br><span class=\"line\">        &quot;ConfigFrom&quot;: &#123;</span><br><span class=\"line\">            &quot;Network&quot;: &quot;&quot;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &quot;ConfigOnly&quot;: false,</span><br><span class=\"line\">        &quot;Containers&quot;: &#123;</span><br><span class=\"line\">            &quot;ingress-sbox&quot;: &#123;</span><br><span class=\"line\">                &quot;Name&quot;: &quot;ingress-endpoint&quot;,</span><br><span class=\"line\">                &quot;EndpointID&quot;: &quot;75df50d1f8228ff64d65a6801bc2a93e31de3f72adaec01e147abd266d3d64eb&quot;,</span><br><span class=\"line\">                &quot;MacAddress&quot;: &quot;02:42:0a:ff:00:03&quot;,</span><br><span class=\"line\">                &quot;IPv4Address&quot;: &quot;10.255.0.3/16&quot;,</span><br><span class=\"line\">                &quot;IPv6Address&quot;: &quot;&quot;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &quot;Options&quot;: &#123;</span><br><span class=\"line\">            &quot;com.docker.network.driver.overlay.vxlanid_list&quot;: &quot;4096&quot;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &quot;Labels&quot;: &#123;&#125;,</span><br><span class=\"line\">        &quot;Peers&quot;: [</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                &quot;Name&quot;: &quot;5e8427535708&quot;,</span><br><span class=\"line\">                &quot;IP&quot;: &quot;192.168.0.190&quot;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                &quot;Name&quot;: &quot;42c5607b0c46&quot;,</span><br><span class=\"line\">                &quot;IP&quot;: &quot;192.168.0.191&quot;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        ]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n- `docker_gwbridge`\n\n  `docker_gwbridge`  `swarm`node\n\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker inspect docker_gwbridge</span><br><span class=\"line\">[</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        &quot;Name&quot;: &quot;docker_gwbridge&quot;,</span><br><span class=\"line\">        &quot;Id&quot;: &quot;2c7254c25f765b28833668e060246a813d69b8936a5db1a8cd2bc7237dfc7df4&quot;,</span><br><span class=\"line\">        &quot;Created&quot;: &quot;2019-01-08T17:05:51.263715613+08:00&quot;,</span><br><span class=\"line\">        &quot;Scope&quot;: &quot;local&quot;,</span><br><span class=\"line\">        &quot;Driver&quot;: &quot;bridge&quot;,</span><br><span class=\"line\">        &quot;EnableIPv6&quot;: false,</span><br><span class=\"line\">        &quot;IPAM&quot;: &#123;</span><br><span class=\"line\">            &quot;Driver&quot;: &quot;default&quot;,</span><br><span class=\"line\">            &quot;Options&quot;: null,</span><br><span class=\"line\">            &quot;Config&quot;: [</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    &quot;Subnet&quot;: &quot;172.18.0.0/16&quot;,</span><br><span class=\"line\">                    &quot;Gateway&quot;: &quot;172.18.0.1&quot;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            ]</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &quot;Internal&quot;: false,</span><br><span class=\"line\">        &quot;Attachable&quot;: false,</span><br><span class=\"line\">        &quot;Ingress&quot;: false,</span><br><span class=\"line\">        &quot;ConfigFrom&quot;: &#123;</span><br><span class=\"line\">            &quot;Network&quot;: &quot;&quot;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &quot;ConfigOnly&quot;: false,</span><br><span class=\"line\">        &quot;Containers&quot;: &#123;</span><br><span class=\"line\">            &quot;ingress-sbox&quot;: &#123;</span><br><span class=\"line\">                &quot;Name&quot;: &quot;gateway_ingress-sbox&quot;,</span><br><span class=\"line\">                &quot;EndpointID&quot;: &quot;4f6821a4096104af4f04aea5caab7a5a3419a2b6469b31ea7a52f4c92b9023af&quot;,</span><br><span class=\"line\">                &quot;MacAddress&quot;: &quot;02:42:ac:12:00:02&quot;,</span><br><span class=\"line\">                &quot;IPv4Address&quot;: &quot;172.18.0.2/16&quot;,</span><br><span class=\"line\">                &quot;IPv6Address&quot;: &quot;&quot;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &quot;Options&quot;: &#123;</span><br><span class=\"line\">            &quot;com.docker.network.bridge.enable_icc&quot;: &quot;false&quot;,</span><br><span class=\"line\">            &quot;com.docker.network.bridge.enable_ip_masquerade&quot;: &quot;true&quot;,</span><br><span class=\"line\">            &quot;com.docker.network.bridge.name&quot;: &quot;docker_gwbridge&quot;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &quot;Labels&quot;: &#123;&#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n</code></pre><ul>\n<li><p><code>worker</code></p>\n<p>  node2(192.168.0.191)<code>swarm</code></p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker swarm join --token \\</span><br><span class=\"line\">  SWMTKN-1-45ffvnn83wrl0aprynpcs0cogtg951knstfqn7ok98hizonw9s-e5p7e50yjfit5tx6l1kp3e6d9  \\</span><br><span class=\"line\">  192.168.0.190:2377</span><br><span class=\"line\"></span><br><span class=\"line\">  This node joined a swarm as a worker.</span><br></pre></td></tr></table></figure>\n<p>  node</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker node ls</span><br><span class=\"line\">  ID                            HOSTNAME             STATUS              AVAILABILITY        MANAGER STATUS      ENGINE VERSION</span><br><span class=\"line\">  se5tsje7l9oibpsx54bbe7nuf *   host1                 Ready               Active              Leader              18.03.1-ce</span><br><span class=\"line\">  timpbicei0sxbsuv9rq1625eh     host2                 Ready               Active                                  18.03.1-ce</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<pre><code>****docker\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker network ls </span><br><span class=\"line\">  NETWORK ID          NAME                DRIVER                    SCOPE</span><br><span class=\"line\">  e39a5d50e807        bridge              bridge                    local</span><br><span class=\"line\">  2c7254c25f76        docker_gwbridge     bridge                    local</span><br><span class=\"line\">  a284efd6e1f2        host                host                      local</span><br><span class=\"line\">  yryhkokko1tk        ingress             overlay                   swarm</span><br><span class=\"line\">  13bd88a34632        none                null                  local</span><br></pre></td></tr></table></figure>\n</code></pre><h4 id=\"overlay\"><a href=\"#overlay\" class=\"headerlink\" title=\"overlay\"></a><code>overlay</code></h4><ul>\n<li><p><code>overlay</code></p>\n<p><code>overlay</code><code>swarm</code><code>swarm</code></p>\n<p>swarm</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker network create -d overlay my-overlay</span><br></pre></td></tr></table></figure>\n<p>Docker<code>overlay</code><code>--attachable</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker network create -d overlay --attachable my-attachable-overlay</span><br></pre></td></tr></table></figure>\n<p>IPdocker network create help</p>\n</li>\n<li><p><code>overlay</code>windows</p>\n<p><code>swarm</code><code>GCM-AES</code><code>--opt encrypted</code>Docker<code>IPSEC</code></p>\n</li>\n</ul>\n<ul>\n<li><p><code>ingress</code></p>\n<p>Docker 17.05<code>ingress</code><code>low-level</code>MTU</p>\n<ul>\n<li><p><code>ingress</code></p>\n<p>ingress  MTU120010.11.0.0/1610.11.0.2</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker network create \\</span><br><span class=\"line\">  --driver overlay \\</span><br><span class=\"line\">  --ingress \\</span><br><span class=\"line\">  --subnet=10.11.0.0/16 \\</span><br><span class=\"line\">  --gateway=10.11.0.2 \\</span><br><span class=\"line\">  --opt com.docker.network.driver.mtu=1200 \\</span><br><span class=\"line\">  my-ingress</span><br></pre></td></tr></table></figure>\n<p><code>ingress</code><code>ingress</code></p>\n</li>\n<li><p><code>ingress</code></p>\n<p><code>ingress</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker network rm ingress</span><br><span class=\"line\"> </span><br><span class=\"line\">  WARNING! Before removing the routing-mesh   network, make sure all the nodes</span><br><span class=\"line\">  in your swarm run the same docker engine   version. Otherwise, removal may not</span><br><span class=\"line\">  be effective and functionality of newly created   ingress networks will be</span><br><span class=\"line\">  impaired.</span><br><span class=\"line\">  Are you sure you want to continue? [y/N]</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li><p><code>docker_gwbridge</code></p>\n<p><code>docker_gwbridge</code><code>ingress</code>DockerDocker</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ip addr | grep docker_gwbridge</span><br><span class=\"line\">  docker_gwbridge: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt;   mtu 1500 qdisc noqueue state UP </span><br><span class=\"line\">    inet 172.18.0.1/16 brd 172.18.255.255 scope   global docker_gwbridge</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<ol>\n<li><p>Stop Docker service</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ systemctl stop docker</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<ol start=\"2\">\n<li><p><code>docker_gwbridge</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ip link set  docker_gwbridge down</span><br><span class=\"line\">$ ip link del dev docker_gwbridge</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Docker<code>swarm</code><code>swarm</code>  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ systemctl start docker</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>docker network create</code>  <code>docker_gwbridge</code>  10.11.0.0/16[Bridge  ]  (<a href=\"https://docs.docker.com/engine/reference/commandline/\" target=\"_blank\" rel=\"noopener\">https://docs.docker.com/engine/reference/commandline/</a>  network_create/#bridge-driver-options)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker network create  \\</span><br><span class=\"line\">  --subnet 10.11.0.0/16 \\</span><br><span class=\"line\">  --opt    com.docker.network.bridge.name=docker_gwbridge \\</span><br><span class=\"line\">  --opt com.docker.network.bridge.enable_icc=false  \\</span><br><span class=\"line\">  --opt    com.docker.network.bridge.enable_ip_masquerade=true \\</span><br><span class=\"line\">  docker_gwbridge</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>swarm</code><code>docker_gwbridge</code>Docker</p>\n</li>\n</ol>\n<h4 id=\"swarmoverlay\"><a href=\"#swarmoverlay\" class=\"headerlink\" title=\"swarmoverlay\"></a><code>swarm</code><code>overlay</code></h4><ul>\n<li><p><code>overlay</code></p>\n<p><code>docker service create</code><code>docker service update</code><code>-p</code><code>--publish</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker service create</span><br></pre></td></tr></table></figure>\n<p><code>swarm</code>(<code>routing mesh</code>)swarmworker</p>\n</li>\n<li><p><code>swram</code><code>swarm service</code><code>routing mesh</code></p>\n<p><code>swarm</code> <code>swarm</code><code>worker</code>Docker<code>load balancer</code> <code>routing mesh</code>IPVIP <code>--mode global</code><code>routing mesh</code>DockerDNSDNSRR<code>--endpoint-mode</code><code>dnsrr</code><code>dnsrr</code><code>nginx</code><code>HAproxy</code>DNS<code>swarm</code>IP</p>\n<blockquote>\n<p><code>routing mesh</code>  <code>service</code> </p>\n</blockquote>\n</li>\n<li><p></p>\n<p><code>swarm</code>Docker<code>swarm</code><code>--advertise-addr</code><code>--data-path-addr</code></p>\n</li>\n</ul>\n<h4 id=\"overlay\"><a href=\"#overlay\" class=\"headerlink\" title=\"overlay\"></a><code>overlay</code></h4><ul>\n<li><p></p>\n<p><code>ingress</code><code>--attachable</code><code>swarm</code><code>swarm</code><code>ingress</code><code>swarm</code><code>ingress</code>attachableDockerDocker</p>\n</li>\n</ul>\n<ul>\n<li><p></p>\n<p>tasks<code>DNS lookup</code> <code>tasks.&lt;service-name&gt;</code></p>\n</li>\n</ul>\n"},{"title":"docker","date":"2019-03-21T08:46:02.000Z","_content":"\nDocker\n---\n\n>Docker`docker volume`()  `docker storage driver``docker storage driver`\n\n\n\nOS: centos 7.4 (kernel version > 3.10.514 )\n\nDocker: docker-ce 18.03.1 ( [docker-ce](http://www.weshzhu.com/2019/01/03/binary-install-docker-ce-on-centos7/))\n\n\n#### Docker \n\n`Docker storage driver`DockerDocker`docker volume` + \n\n   ![](/images/container-layers.jpg)\n\nhigh-level(low-level)host`/var/lib/docker/<storage-driver>/``docker run`\n\n - \n   Docker`layer``layer`Dockerfile\n   \n   ```\n   FROM ubuntu:15.04\n   COPY . /app\n   RUN mkdir -p /app/conf/\n   CMD python /app/app.py\n   ```\n\n   `docker build -t `\n  \n   ```\n   $ docker build -t my-ubuntu:test -f Dockerfile .\n     \n     Sending build context to Docker daemon  3.584kB\n     Step 1/4 : FROM ubuntu:15.04\n     ---> d1b55fd07600\n     Step 2/4 : COPY . /app\n     ---> 6e3fe23e82f3\n     Step 3/4 : RUN mkdir -p /app/conf/\n     ---> Running in 3a9b550d957b\n     Removing intermediate container 3a9b550d957b\n     ---> 038a1543c273\n     Step 4/4 : CMD python /app/app.py\n     ---> Running in 9b56a922b87f\n     Removing intermediate container 9b56a922b87f\n     ---> 58866642a2af\n     Successfully built 58866642a2af\n     Successfully tagged my-ubuntu:test\n   ```\n   \n\n   ```\n   $ docker images\n     REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\n     my-ubuntu           test                58866642a2af        5 minutes ago       131MB\n     ubuntu              15.04               d1b55fd07600        2 years ago         131MB\n   ```\n\n   \n\n   ```\n   $ docker history 58866642a2af\n     \n     IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT\n   58866642a2af        49 seconds ago      /bin/sh -c #(nop)     CMD [\"/bin/sh\" \"-c\" \"pyth   0B                  \n   038a1543c273        51 seconds ago      /bin/sh -c mkdir -p    /app/conf/                  0B                  \n   6e3fe23e82f3        53 seconds ago      /bin/sh -c #(nop)    COPY dir:3f69c750361eacc36   101B                \n   d1b55fd07600        2 years ago         /bin/sh -c #(nop)    CMD [\"/bin/bash\"]             0B                  \n   <missing>           2 years ago         /bin/sh -c sed -i    's/^#\\s*\\(deb.*universe\\)$   1.88kB              \n   <missing>           2 years ago         /bin/sh -c echo    '#!/bin/sh' > /usr/sbin/poli   701B                \n   <missing>           2 years ago         /bin/sh -c #(nop)    ADD file:3f4708cf445dc1b53   131MB\n   ```\n\n   `58866642a2af` `038a1543c273` `6e3fe23e82f3` Dockerfile`d1b55fd07600``missing`\n   \n   `docker pull``registry`DockerhostLinux`/var/lib/docker`\n\n   ```\n   $ docker pull ubuntu:15.04\n     15.04: Pulling from library/ubuntu\n     9502adfba7f1: Pull complete \n     4332ffb06e4b: Pull complete \n     2f937cc07b5f: Pull complete \n     a3ed95caeb02: Pull complete \n     Digest:      sha256:2fb27e433b3ecccea2a14e794875b086711f5d49953ef173d8a03e8707f1510   f\n     Status: Downloaded newer image for ubuntu:15.04\n   ```\n\n   `/var/lib/docker/<storage-driver>/``overlay2`Docker version > 1.10ID\n\n   ```\n   $ ls -l /var/lib/docker/overlay2/\n     drwx------. 4 root root     55 Jan 12 10:19    1e72c036bc24730abff4e3eed803c5d9c3ba67d61cc4dc0da62e880a5b23d7a9\n     drwx------. 4 root root     55 Jan 12 10:14      1fd044fc33c05db1b7fddf37992788befb6e5bd5dfa6ab0f4a72f281d68b5d8c\n     drwx------. 4 root root     55 Jan 12 10:20      2205c9e9efbd435b968dba2beb2390e2ddc49b5cd4efedae5a6a08a5a6d2634b\n     drwx------. 4 root root     55 Jan 12 10:18      25e720a5f2d95330556d5f99268217045654002d0c47cc77342342c2ba4af226\n     drwx------. 4 root root     55 Jan 12 10:18      277b95e43bbeb2f13ec6b7dd636b774d5e9ea56bad1414c6f1fe6c3178970172\n   ```\n\n - \n   \n   CoW`low-level`\n   `docker volume`\n\n  ![](/images/sharing-layers.jpg)\n\n   Dockerhost`/var/lib/docker/containers`\n\n   ```\n   $ ls -l /var/lib/docker/containers\n   drwx------. 4 root root 165 Jan 12 10:25    025030ca0a6d5383346d4cf5471108e5cfad22d74c3411a606baf3a902c99a28\n   drwx------. 4 root root 165 Jan 12 10:26    0a19a162a971fb9364907e9d2e8d39baf47d588d9e18fc6c47f16f4bca56d569\n   drwx------. 4 root root 237 Jan 12 10:25    1058890a8138eafaf5b7d84d3d708c0169fcba024e27697c01952465d0fdb78a\n   drwx------. 4 root root 165 Jan 12 10:25    152da522924bf4ebebf960c3f93897f7d582f53ba98239922bf56baec7876eea\n   drwx------. 4 root root 165 Jan 12 10:25    1ee87d5bc8e9a58d137cbe3f98e5fd85c7ac360e03de77d69e5fa27d315fb509   \n   ```\n\n#### CoW\n\nCoW`low-level` I/O\n\naufsoverlayoverlay2\n\n1. \n2. `copy_up`\n3. \n\n\n\n\n\n\n\n","source":"_posts/2019-03-21-docker-storage.md","raw":"---\ntitle: docker\ndate: 2019-03-21 08:46:02\ntags:\n  - docker\n  - storage\ncategories:\n  - \n  - docker\n---\n\nDocker\n---\n\n>Docker`docker volume`()  `docker storage driver``docker storage driver`\n\n\n\nOS: centos 7.4 (kernel version > 3.10.514 )\n\nDocker: docker-ce 18.03.1 ( [docker-ce](http://www.weshzhu.com/2019/01/03/binary-install-docker-ce-on-centos7/))\n\n\n#### Docker \n\n`Docker storage driver`DockerDocker`docker volume` + \n\n   ![](/images/container-layers.jpg)\n\nhigh-level(low-level)host`/var/lib/docker/<storage-driver>/``docker run`\n\n - \n   Docker`layer``layer`Dockerfile\n   \n   ```\n   FROM ubuntu:15.04\n   COPY . /app\n   RUN mkdir -p /app/conf/\n   CMD python /app/app.py\n   ```\n\n   `docker build -t `\n  \n   ```\n   $ docker build -t my-ubuntu:test -f Dockerfile .\n     \n     Sending build context to Docker daemon  3.584kB\n     Step 1/4 : FROM ubuntu:15.04\n     ---> d1b55fd07600\n     Step 2/4 : COPY . /app\n     ---> 6e3fe23e82f3\n     Step 3/4 : RUN mkdir -p /app/conf/\n     ---> Running in 3a9b550d957b\n     Removing intermediate container 3a9b550d957b\n     ---> 038a1543c273\n     Step 4/4 : CMD python /app/app.py\n     ---> Running in 9b56a922b87f\n     Removing intermediate container 9b56a922b87f\n     ---> 58866642a2af\n     Successfully built 58866642a2af\n     Successfully tagged my-ubuntu:test\n   ```\n   \n\n   ```\n   $ docker images\n     REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\n     my-ubuntu           test                58866642a2af        5 minutes ago       131MB\n     ubuntu              15.04               d1b55fd07600        2 years ago         131MB\n   ```\n\n   \n\n   ```\n   $ docker history 58866642a2af\n     \n     IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT\n   58866642a2af        49 seconds ago      /bin/sh -c #(nop)     CMD [\"/bin/sh\" \"-c\" \"pyth   0B                  \n   038a1543c273        51 seconds ago      /bin/sh -c mkdir -p    /app/conf/                  0B                  \n   6e3fe23e82f3        53 seconds ago      /bin/sh -c #(nop)    COPY dir:3f69c750361eacc36   101B                \n   d1b55fd07600        2 years ago         /bin/sh -c #(nop)    CMD [\"/bin/bash\"]             0B                  \n   <missing>           2 years ago         /bin/sh -c sed -i    's/^#\\s*\\(deb.*universe\\)$   1.88kB              \n   <missing>           2 years ago         /bin/sh -c echo    '#!/bin/sh' > /usr/sbin/poli   701B                \n   <missing>           2 years ago         /bin/sh -c #(nop)    ADD file:3f4708cf445dc1b53   131MB\n   ```\n\n   `58866642a2af` `038a1543c273` `6e3fe23e82f3` Dockerfile`d1b55fd07600``missing`\n   \n   `docker pull``registry`DockerhostLinux`/var/lib/docker`\n\n   ```\n   $ docker pull ubuntu:15.04\n     15.04: Pulling from library/ubuntu\n     9502adfba7f1: Pull complete \n     4332ffb06e4b: Pull complete \n     2f937cc07b5f: Pull complete \n     a3ed95caeb02: Pull complete \n     Digest:      sha256:2fb27e433b3ecccea2a14e794875b086711f5d49953ef173d8a03e8707f1510   f\n     Status: Downloaded newer image for ubuntu:15.04\n   ```\n\n   `/var/lib/docker/<storage-driver>/``overlay2`Docker version > 1.10ID\n\n   ```\n   $ ls -l /var/lib/docker/overlay2/\n     drwx------. 4 root root     55 Jan 12 10:19    1e72c036bc24730abff4e3eed803c5d9c3ba67d61cc4dc0da62e880a5b23d7a9\n     drwx------. 4 root root     55 Jan 12 10:14      1fd044fc33c05db1b7fddf37992788befb6e5bd5dfa6ab0f4a72f281d68b5d8c\n     drwx------. 4 root root     55 Jan 12 10:20      2205c9e9efbd435b968dba2beb2390e2ddc49b5cd4efedae5a6a08a5a6d2634b\n     drwx------. 4 root root     55 Jan 12 10:18      25e720a5f2d95330556d5f99268217045654002d0c47cc77342342c2ba4af226\n     drwx------. 4 root root     55 Jan 12 10:18      277b95e43bbeb2f13ec6b7dd636b774d5e9ea56bad1414c6f1fe6c3178970172\n   ```\n\n - \n   \n   CoW`low-level`\n   `docker volume`\n\n  ![](/images/sharing-layers.jpg)\n\n   Dockerhost`/var/lib/docker/containers`\n\n   ```\n   $ ls -l /var/lib/docker/containers\n   drwx------. 4 root root 165 Jan 12 10:25    025030ca0a6d5383346d4cf5471108e5cfad22d74c3411a606baf3a902c99a28\n   drwx------. 4 root root 165 Jan 12 10:26    0a19a162a971fb9364907e9d2e8d39baf47d588d9e18fc6c47f16f4bca56d569\n   drwx------. 4 root root 237 Jan 12 10:25    1058890a8138eafaf5b7d84d3d708c0169fcba024e27697c01952465d0fdb78a\n   drwx------. 4 root root 165 Jan 12 10:25    152da522924bf4ebebf960c3f93897f7d582f53ba98239922bf56baec7876eea\n   drwx------. 4 root root 165 Jan 12 10:25    1ee87d5bc8e9a58d137cbe3f98e5fd85c7ac360e03de77d69e5fa27d315fb509   \n   ```\n\n#### CoW\n\nCoW`low-level` I/O\n\naufsoverlayoverlay2\n\n1. \n2. `copy_up`\n3. \n\n\n\n\n\n\n\n","slug":"docker-storage","published":1,"updated":"2019-03-21T12:19:28.918Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjto6rqt0001khqxuhy9r80b7","content":"<h2 id=\"Docker\"><a href=\"#Docker\" class=\"headerlink\" title=\"Docker\"></a>Docker</h2><blockquote>\n<p>Docker<code>docker volume</code>()  <code>docker storage driver</code><code>docker storage driver</code></p>\n</blockquote>\n<p></p>\n<p>OS: centos 7.4 (kernel version &gt; 3.10.514 )</p>\n<p>Docker: docker-ce 18.03.1 ( <a href=\"http://www.weshzhu.com/2019/01/03/binary-install-docker-ce-on-centos7/\" target=\"_blank\" rel=\"noopener\">docker-ce</a>)</p>\n<h4 id=\"Docker-\"><a href=\"#Docker-\" class=\"headerlink\" title=\"Docker \"></a>Docker </h4><p><code>Docker storage driver</code>DockerDocker<code>docker volume</code> + </p>\n<p>   <img src=\"/images/container-layers.jpg\" alt></p>\n<p>high-level(low-level)host<code>/var/lib/docker/&lt;storage-driver&gt;/</code><code>docker run</code></p>\n<ul>\n<li><p><br>Docker<code>layer</code><code>layer</code>Dockerfile</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FROM ubuntu:15.04</span><br><span class=\"line\">COPY . /app</span><br><span class=\"line\">RUN mkdir -p /app/conf/</span><br><span class=\"line\">CMD python /app/app.py</span><br></pre></td></tr></table></figure>\n<p><code>docker build -t</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker build -t my-ubuntu:test -f Dockerfile .</span><br><span class=\"line\">  </span><br><span class=\"line\">  Sending build context to Docker daemon  3.584kB</span><br><span class=\"line\">  Step 1/4 : FROM ubuntu:15.04</span><br><span class=\"line\">  ---&gt; d1b55fd07600</span><br><span class=\"line\">  Step 2/4 : COPY . /app</span><br><span class=\"line\">  ---&gt; 6e3fe23e82f3</span><br><span class=\"line\">  Step 3/4 : RUN mkdir -p /app/conf/</span><br><span class=\"line\">  ---&gt; Running in 3a9b550d957b</span><br><span class=\"line\">  Removing intermediate container 3a9b550d957b</span><br><span class=\"line\">  ---&gt; 038a1543c273</span><br><span class=\"line\">  Step 4/4 : CMD python /app/app.py</span><br><span class=\"line\">  ---&gt; Running in 9b56a922b87f</span><br><span class=\"line\">  Removing intermediate container 9b56a922b87f</span><br><span class=\"line\">  ---&gt; 58866642a2af</span><br><span class=\"line\">  Successfully built 58866642a2af</span><br><span class=\"line\">  Successfully tagged my-ubuntu:test</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker images</span><br><span class=\"line\">  REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class=\"line\">  my-ubuntu           test                58866642a2af        5 minutes ago       131MB</span><br><span class=\"line\">  ubuntu              15.04               d1b55fd07600        2 years ago         131MB</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker history 58866642a2af</span><br><span class=\"line\">  </span><br><span class=\"line\">  IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT</span><br><span class=\"line\">58866642a2af        49 seconds ago      /bin/sh -c #(nop)     CMD [&quot;/bin/sh&quot; &quot;-c&quot; &quot;pyth   0B                  </span><br><span class=\"line\">038a1543c273        51 seconds ago      /bin/sh -c mkdir -p    /app/conf/                  0B                  </span><br><span class=\"line\">6e3fe23e82f3        53 seconds ago      /bin/sh -c #(nop)    COPY dir:3f69c750361eacc36   101B                </span><br><span class=\"line\">d1b55fd07600        2 years ago         /bin/sh -c #(nop)    CMD [&quot;/bin/bash&quot;]             0B                  </span><br><span class=\"line\">&lt;missing&gt;           2 years ago         /bin/sh -c sed -i    &apos;s/^#\\s*\\(deb.*universe\\)$   1.88kB              </span><br><span class=\"line\">&lt;missing&gt;           2 years ago         /bin/sh -c echo    &apos;#!/bin/sh&apos; &gt; /usr/sbin/poli   701B                </span><br><span class=\"line\">&lt;missing&gt;           2 years ago         /bin/sh -c #(nop)    ADD file:3f4708cf445dc1b53   131MB</span><br></pre></td></tr></table></figure>\n<p><code>58866642a2af</code> <code>038a1543c273</code> <code>6e3fe23e82f3</code> Dockerfile<code>d1b55fd07600</code><code>missing</code></p>\n<p><code>docker pull</code><code>registry</code>DockerhostLinux<code>/var/lib/docker</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker pull ubuntu:15.04</span><br><span class=\"line\">  15.04: Pulling from library/ubuntu</span><br><span class=\"line\">  9502adfba7f1: Pull complete </span><br><span class=\"line\">  4332ffb06e4b: Pull complete </span><br><span class=\"line\">  2f937cc07b5f: Pull complete </span><br><span class=\"line\">  a3ed95caeb02: Pull complete </span><br><span class=\"line\">  Digest:      sha256:2fb27e433b3ecccea2a14e794875b086711f5d49953ef173d8a03e8707f1510   f</span><br><span class=\"line\">  Status: Downloaded newer image for ubuntu:15.04</span><br></pre></td></tr></table></figure>\n<p><code>/var/lib/docker/&lt;storage-driver&gt;/</code><code>overlay2</code>Docker version &gt; 1.10ID</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ls -l /var/lib/docker/overlay2/</span><br><span class=\"line\">  drwx------. 4 root root     55 Jan 12 10:19    1e72c036bc24730abff4e3eed803c5d9c3ba67d61cc4dc0da62e880a5b23d7a9</span><br><span class=\"line\">  drwx------. 4 root root     55 Jan 12 10:14      1fd044fc33c05db1b7fddf37992788befb6e5bd5dfa6ab0f4a72f281d68b5d8c</span><br><span class=\"line\">  drwx------. 4 root root     55 Jan 12 10:20      2205c9e9efbd435b968dba2beb2390e2ddc49b5cd4efedae5a6a08a5a6d2634b</span><br><span class=\"line\">  drwx------. 4 root root     55 Jan 12 10:18      25e720a5f2d95330556d5f99268217045654002d0c47cc77342342c2ba4af226</span><br><span class=\"line\">  drwx------. 4 root root     55 Jan 12 10:18      277b95e43bbeb2f13ec6b7dd636b774d5e9ea56bad1414c6f1fe6c3178970172</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<p>CoW<code>low-level</code><br><code>docker volume</code></p>\n<p><img src=\"/images/sharing-layers.jpg\" alt></p>\n<p>Dockerhost<code>/var/lib/docker/containers</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ls -l /var/lib/docker/containers</span><br><span class=\"line\">drwx------. 4 root root 165 Jan 12 10:25    025030ca0a6d5383346d4cf5471108e5cfad22d74c3411a606baf3a902c99a28</span><br><span class=\"line\">drwx------. 4 root root 165 Jan 12 10:26    0a19a162a971fb9364907e9d2e8d39baf47d588d9e18fc6c47f16f4bca56d569</span><br><span class=\"line\">drwx------. 4 root root 237 Jan 12 10:25    1058890a8138eafaf5b7d84d3d708c0169fcba024e27697c01952465d0fdb78a</span><br><span class=\"line\">drwx------. 4 root root 165 Jan 12 10:25    152da522924bf4ebebf960c3f93897f7d582f53ba98239922bf56baec7876eea</span><br><span class=\"line\">drwx------. 4 root root 165 Jan 12 10:25    1ee87d5bc8e9a58d137cbe3f98e5fd85c7ac360e03de77d69e5fa27d315fb509</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h4 id=\"CoW\"><a href=\"#CoW\" class=\"headerlink\" title=\"CoW\"></a>CoW</h4><p>CoW<code>low-level</code> I/O</p>\n<p>aufsoverlayoverlay2</p>\n<ol>\n<li></li>\n<li><code>copy_up</code></li>\n<li></li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"Docker\"><a href=\"#Docker\" class=\"headerlink\" title=\"Docker\"></a>Docker</h2><blockquote>\n<p>Docker<code>docker volume</code>()  <code>docker storage driver</code><code>docker storage driver</code></p>\n</blockquote>\n<p></p>\n<p>OS: centos 7.4 (kernel version &gt; 3.10.514 )</p>\n<p>Docker: docker-ce 18.03.1 ( <a href=\"http://www.weshzhu.com/2019/01/03/binary-install-docker-ce-on-centos7/\" target=\"_blank\" rel=\"noopener\">docker-ce</a>)</p>\n<h4 id=\"Docker-\"><a href=\"#Docker-\" class=\"headerlink\" title=\"Docker \"></a>Docker </h4><p><code>Docker storage driver</code>DockerDocker<code>docker volume</code> + </p>\n<p>   <img src=\"/images/container-layers.jpg\" alt></p>\n<p>high-level(low-level)host<code>/var/lib/docker/&lt;storage-driver&gt;/</code><code>docker run</code></p>\n<ul>\n<li><p><br>Docker<code>layer</code><code>layer</code>Dockerfile</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FROM ubuntu:15.04</span><br><span class=\"line\">COPY . /app</span><br><span class=\"line\">RUN mkdir -p /app/conf/</span><br><span class=\"line\">CMD python /app/app.py</span><br></pre></td></tr></table></figure>\n<p><code>docker build -t</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker build -t my-ubuntu:test -f Dockerfile .</span><br><span class=\"line\">  </span><br><span class=\"line\">  Sending build context to Docker daemon  3.584kB</span><br><span class=\"line\">  Step 1/4 : FROM ubuntu:15.04</span><br><span class=\"line\">  ---&gt; d1b55fd07600</span><br><span class=\"line\">  Step 2/4 : COPY . /app</span><br><span class=\"line\">  ---&gt; 6e3fe23e82f3</span><br><span class=\"line\">  Step 3/4 : RUN mkdir -p /app/conf/</span><br><span class=\"line\">  ---&gt; Running in 3a9b550d957b</span><br><span class=\"line\">  Removing intermediate container 3a9b550d957b</span><br><span class=\"line\">  ---&gt; 038a1543c273</span><br><span class=\"line\">  Step 4/4 : CMD python /app/app.py</span><br><span class=\"line\">  ---&gt; Running in 9b56a922b87f</span><br><span class=\"line\">  Removing intermediate container 9b56a922b87f</span><br><span class=\"line\">  ---&gt; 58866642a2af</span><br><span class=\"line\">  Successfully built 58866642a2af</span><br><span class=\"line\">  Successfully tagged my-ubuntu:test</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker images</span><br><span class=\"line\">  REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class=\"line\">  my-ubuntu           test                58866642a2af        5 minutes ago       131MB</span><br><span class=\"line\">  ubuntu              15.04               d1b55fd07600        2 years ago         131MB</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker history 58866642a2af</span><br><span class=\"line\">  </span><br><span class=\"line\">  IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT</span><br><span class=\"line\">58866642a2af        49 seconds ago      /bin/sh -c #(nop)     CMD [&quot;/bin/sh&quot; &quot;-c&quot; &quot;pyth   0B                  </span><br><span class=\"line\">038a1543c273        51 seconds ago      /bin/sh -c mkdir -p    /app/conf/                  0B                  </span><br><span class=\"line\">6e3fe23e82f3        53 seconds ago      /bin/sh -c #(nop)    COPY dir:3f69c750361eacc36   101B                </span><br><span class=\"line\">d1b55fd07600        2 years ago         /bin/sh -c #(nop)    CMD [&quot;/bin/bash&quot;]             0B                  </span><br><span class=\"line\">&lt;missing&gt;           2 years ago         /bin/sh -c sed -i    &apos;s/^#\\s*\\(deb.*universe\\)$   1.88kB              </span><br><span class=\"line\">&lt;missing&gt;           2 years ago         /bin/sh -c echo    &apos;#!/bin/sh&apos; &gt; /usr/sbin/poli   701B                </span><br><span class=\"line\">&lt;missing&gt;           2 years ago         /bin/sh -c #(nop)    ADD file:3f4708cf445dc1b53   131MB</span><br></pre></td></tr></table></figure>\n<p><code>58866642a2af</code> <code>038a1543c273</code> <code>6e3fe23e82f3</code> Dockerfile<code>d1b55fd07600</code><code>missing</code></p>\n<p><code>docker pull</code><code>registry</code>DockerhostLinux<code>/var/lib/docker</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker pull ubuntu:15.04</span><br><span class=\"line\">  15.04: Pulling from library/ubuntu</span><br><span class=\"line\">  9502adfba7f1: Pull complete </span><br><span class=\"line\">  4332ffb06e4b: Pull complete </span><br><span class=\"line\">  2f937cc07b5f: Pull complete </span><br><span class=\"line\">  a3ed95caeb02: Pull complete </span><br><span class=\"line\">  Digest:      sha256:2fb27e433b3ecccea2a14e794875b086711f5d49953ef173d8a03e8707f1510   f</span><br><span class=\"line\">  Status: Downloaded newer image for ubuntu:15.04</span><br></pre></td></tr></table></figure>\n<p><code>/var/lib/docker/&lt;storage-driver&gt;/</code><code>overlay2</code>Docker version &gt; 1.10ID</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ls -l /var/lib/docker/overlay2/</span><br><span class=\"line\">  drwx------. 4 root root     55 Jan 12 10:19    1e72c036bc24730abff4e3eed803c5d9c3ba67d61cc4dc0da62e880a5b23d7a9</span><br><span class=\"line\">  drwx------. 4 root root     55 Jan 12 10:14      1fd044fc33c05db1b7fddf37992788befb6e5bd5dfa6ab0f4a72f281d68b5d8c</span><br><span class=\"line\">  drwx------. 4 root root     55 Jan 12 10:20      2205c9e9efbd435b968dba2beb2390e2ddc49b5cd4efedae5a6a08a5a6d2634b</span><br><span class=\"line\">  drwx------. 4 root root     55 Jan 12 10:18      25e720a5f2d95330556d5f99268217045654002d0c47cc77342342c2ba4af226</span><br><span class=\"line\">  drwx------. 4 root root     55 Jan 12 10:18      277b95e43bbeb2f13ec6b7dd636b774d5e9ea56bad1414c6f1fe6c3178970172</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<p>CoW<code>low-level</code><br><code>docker volume</code></p>\n<p><img src=\"/images/sharing-layers.jpg\" alt></p>\n<p>Dockerhost<code>/var/lib/docker/containers</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ls -l /var/lib/docker/containers</span><br><span class=\"line\">drwx------. 4 root root 165 Jan 12 10:25    025030ca0a6d5383346d4cf5471108e5cfad22d74c3411a606baf3a902c99a28</span><br><span class=\"line\">drwx------. 4 root root 165 Jan 12 10:26    0a19a162a971fb9364907e9d2e8d39baf47d588d9e18fc6c47f16f4bca56d569</span><br><span class=\"line\">drwx------. 4 root root 237 Jan 12 10:25    1058890a8138eafaf5b7d84d3d708c0169fcba024e27697c01952465d0fdb78a</span><br><span class=\"line\">drwx------. 4 root root 165 Jan 12 10:25    152da522924bf4ebebf960c3f93897f7d582f53ba98239922bf56baec7876eea</span><br><span class=\"line\">drwx------. 4 root root 165 Jan 12 10:25    1ee87d5bc8e9a58d137cbe3f98e5fd85c7ac360e03de77d69e5fa27d315fb509</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h4 id=\"CoW\"><a href=\"#CoW\" class=\"headerlink\" title=\"CoW\"></a>CoW</h4><p>CoW<code>low-level</code> I/O</p>\n<p>aufsoverlayoverlay2</p>\n<ol>\n<li></li>\n<li><code>copy_up</code></li>\n<li></li>\n</ol>\n"},{"title":"Docker(network driver)(bridge)","date":"2019-03-25T13:33:15.000Z","_content":"\nDocker(network driver)(bridge)\n>****MACkernel\n\nDocker****`bridge network`********`Docker daemon``docker`)****`bridge network`:`bridge`host`docker0``Docker network`\n\n\n```\n$ ip addr \n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n    inet6 ::1/128 scope host \n       valid_lft forever preferred_lft forever\n2: enp0s3: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000\n    link/ether 08:00:27:eb:89:b8 brd ff:ff:ff:ff:ff:ff\n    inet 10.0.2.15/24 brd 10.0.2.255 scope global noprefixroute dynamic enp0s3\n       valid_lft 84147sec preferred_lft 84147sec\n    inet6 fe80::eef9:c7e0:7365:65b6/64 scope link noprefixroute \n       valid_lft forever preferred_lft forever\n3: enp0s8: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000\n    link/ether 08:00:27:22:76:1d brd ff:ff:ff:ff:ff:ff\n    inet 192.168.56.102/24 brd 192.168.56.255 scope global noprefixroute dynamic enp0s8\n       valid_lft 996sec preferred_lft 996sec\n    inet6 fe80::a88:e4da:b641:f973/64 scope link noprefixroute \n       valid_lft forever preferred_lft forever\n4: docker0: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc noqueue state DOWN group default \n    link/ether 02:42:60:e0:e9:55 brd ff:ff:ff:ff:ff:ff\n    inet 172.17.0.1/16 brd 172.17.255.255 scope global docker0\n       valid_lft forever preferred_lft forever\n    inet6 fe80::42:60ff:fee0:e955/64 scope link \n       valid_lft forever preferred_lft forever\n```\ndocker\n```\n$ docker network ls\nNETWORK ID          NAME                DRIVER              SCOPE\nb549b06a92e7        bridge              bridge              local\nc5149e25deea        host                host                local\nbfa90bfc3dfe        none                null                local\n```\n\n****`bridge network`DockerDocker[`overlay`](https://docs.docker.com/network/overlay/)[`macvlan`](https://docs.docker.com/network/macvlan/) flannelweave  calico\n\n`container``self-defined bridge networks`\n****`bridge`\n\n#### \n\n - `container application`\n   \n\n   webdbweb80webdb3306webdb\n   webdbWeb803306-p--publish Dockerdb\n\n - DNS\n   IPIP:PORT`--link` \n   webdb`--link`\n   \n - \n   \n - \n   MTUiptables Docker `docker network create` \n   ```\n   $ docker network create my-net\n   ```\n\n - \n   --link   \n\n   - `Docker volume`\n\n   - `docker-compose`compose\n\n   - `swamp service`[`secrets`](https://docs.docker.com/engine/swarm/secrets/)[`configs`](https://docs.docker.com/engine/swarm/configs/)\n     ```\n\t docker service create \\\n     --name nginx \\\n     --secret site.key \\\n     --secret site.crt \\\n     --config source=site.conf,target=/etc/nginx/conf.d/site.conf,mode=0440 \\\n     --publish published=3000,target=443 \\\n     nginx:latest \\\n     sh -c \"exec nginx -g 'daemon off;'\"\n\t ```\n#### self-define \n\n- `docker network create ` \n   \n   `docker network create --help`  \n    ```\n    $ docker network create \\\n     --driver=bridge \\\n     --subnet=172.28.0.0/16 \\\n     --ip-range=172.28.5.0/24 \\\n     --gateway=172.28.5.254 \\\n        br0\n   ```\n\n- `docker network rm `\n   ```\n   $ docker network rm my-net\n   ```\n********`iptables`\n\n#### \n`--network`runing)\n\n - \n\n   `Nginx``my-net`\n   ```\n   $ docker create --name my-nginx \\\n      --network my-net \\\n      --publish 8080:80 \\\n      nginx:latest\n   ```\n   `my-nginx``my-net` 8080808080\n\n - `running`\n\n   `my-nignx`\n   ```\n   $ docker run --name my-nginx \\\n      --publish 8080:80 \\\n      nginx:latest\n   ```\n   `my-net`\n   ```\n   $ docker network connect my-net my-nginx\n   ```\n   dockerIP\n\n#### Docker\ndockerd  Dockerdaemon.json\n\n - dockerd\n\n   dockerd`/usr/lib/systemd/system/docker.service`\n   ```\n   ...\n   ExecStart=/usr/bin/dockerd -H unix:///var/run/docker.sock \\\n     -H tcp://0.0.0.0:2376 \\\n     --bip=10.2.54.1/24 \\ \n     --mtu=1450 \\ \n     --dns=[\"10.20.1.2\",\"10.20.1.3\"]\n   ...\n   ```\n\n - daemon.json\n   ```\n   {\n      \"bip\": \"192.168.1.5/24\",\n      \"fixed-cidr\": \"192.168.1.5/25\",\n      \"fixed-cidr-v6\": \"2001:db8::/64\",\n      \"mtu\": 1500,\n      \"default-gateway\": \"10.20.1.1\",\n      \"default-gateway-v6\": \"2001:db8:abcd::89\",\n      \"dns\": [\"10.20.1.2\",\"10.20.1.3\"]\n   }\n   ```\nDocker\n\n\n\n\n\n\n\n","source":"_posts/2019-03-25-docker-network-bridge.md","raw":"---\ntitle: Docker(network driver)(bridge) \ndate: 2019-03-25 13:33:15\ntags:\n  - docker\ncategories:\n  - \n  - docker\n---\n\nDocker(network driver)(bridge)\n>****MACkernel\n\nDocker****`bridge network`********`Docker daemon``docker`)****`bridge network`:`bridge`host`docker0``Docker network`\n\n\n```\n$ ip addr \n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n    inet6 ::1/128 scope host \n       valid_lft forever preferred_lft forever\n2: enp0s3: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000\n    link/ether 08:00:27:eb:89:b8 brd ff:ff:ff:ff:ff:ff\n    inet 10.0.2.15/24 brd 10.0.2.255 scope global noprefixroute dynamic enp0s3\n       valid_lft 84147sec preferred_lft 84147sec\n    inet6 fe80::eef9:c7e0:7365:65b6/64 scope link noprefixroute \n       valid_lft forever preferred_lft forever\n3: enp0s8: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000\n    link/ether 08:00:27:22:76:1d brd ff:ff:ff:ff:ff:ff\n    inet 192.168.56.102/24 brd 192.168.56.255 scope global noprefixroute dynamic enp0s8\n       valid_lft 996sec preferred_lft 996sec\n    inet6 fe80::a88:e4da:b641:f973/64 scope link noprefixroute \n       valid_lft forever preferred_lft forever\n4: docker0: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc noqueue state DOWN group default \n    link/ether 02:42:60:e0:e9:55 brd ff:ff:ff:ff:ff:ff\n    inet 172.17.0.1/16 brd 172.17.255.255 scope global docker0\n       valid_lft forever preferred_lft forever\n    inet6 fe80::42:60ff:fee0:e955/64 scope link \n       valid_lft forever preferred_lft forever\n```\ndocker\n```\n$ docker network ls\nNETWORK ID          NAME                DRIVER              SCOPE\nb549b06a92e7        bridge              bridge              local\nc5149e25deea        host                host                local\nbfa90bfc3dfe        none                null                local\n```\n\n****`bridge network`DockerDocker[`overlay`](https://docs.docker.com/network/overlay/)[`macvlan`](https://docs.docker.com/network/macvlan/) flannelweave  calico\n\n`container``self-defined bridge networks`\n****`bridge`\n\n#### \n\n - `container application`\n   \n\n   webdbweb80webdb3306webdb\n   webdbWeb803306-p--publish Dockerdb\n\n - DNS\n   IPIP:PORT`--link` \n   webdb`--link`\n   \n - \n   \n - \n   MTUiptables Docker `docker network create` \n   ```\n   $ docker network create my-net\n   ```\n\n - \n   --link   \n\n   - `Docker volume`\n\n   - `docker-compose`compose\n\n   - `swamp service`[`secrets`](https://docs.docker.com/engine/swarm/secrets/)[`configs`](https://docs.docker.com/engine/swarm/configs/)\n     ```\n\t docker service create \\\n     --name nginx \\\n     --secret site.key \\\n     --secret site.crt \\\n     --config source=site.conf,target=/etc/nginx/conf.d/site.conf,mode=0440 \\\n     --publish published=3000,target=443 \\\n     nginx:latest \\\n     sh -c \"exec nginx -g 'daemon off;'\"\n\t ```\n#### self-define \n\n- `docker network create ` \n   \n   `docker network create --help`  \n    ```\n    $ docker network create \\\n     --driver=bridge \\\n     --subnet=172.28.0.0/16 \\\n     --ip-range=172.28.5.0/24 \\\n     --gateway=172.28.5.254 \\\n        br0\n   ```\n\n- `docker network rm `\n   ```\n   $ docker network rm my-net\n   ```\n********`iptables`\n\n#### \n`--network`runing)\n\n - \n\n   `Nginx``my-net`\n   ```\n   $ docker create --name my-nginx \\\n      --network my-net \\\n      --publish 8080:80 \\\n      nginx:latest\n   ```\n   `my-nginx``my-net` 8080808080\n\n - `running`\n\n   `my-nignx`\n   ```\n   $ docker run --name my-nginx \\\n      --publish 8080:80 \\\n      nginx:latest\n   ```\n   `my-net`\n   ```\n   $ docker network connect my-net my-nginx\n   ```\n   dockerIP\n\n#### Docker\ndockerd  Dockerdaemon.json\n\n - dockerd\n\n   dockerd`/usr/lib/systemd/system/docker.service`\n   ```\n   ...\n   ExecStart=/usr/bin/dockerd -H unix:///var/run/docker.sock \\\n     -H tcp://0.0.0.0:2376 \\\n     --bip=10.2.54.1/24 \\ \n     --mtu=1450 \\ \n     --dns=[\"10.20.1.2\",\"10.20.1.3\"]\n   ...\n   ```\n\n - daemon.json\n   ```\n   {\n      \"bip\": \"192.168.1.5/24\",\n      \"fixed-cidr\": \"192.168.1.5/25\",\n      \"fixed-cidr-v6\": \"2001:db8::/64\",\n      \"mtu\": 1500,\n      \"default-gateway\": \"10.20.1.1\",\n      \"default-gateway-v6\": \"2001:db8:abcd::89\",\n      \"dns\": [\"10.20.1.2\",\"10.20.1.3\"]\n   }\n   ```\nDocker\n\n\n\n\n\n\n\n","slug":"docker-network-bridge","published":1,"updated":"2019-03-25T05:45:06.757Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjto6rqt3001mhqxudwebylac","content":"<p>Docker(network driver)(bridge)</p>\n<blockquote>\n<p><strong></strong>MACkernel</p>\n</blockquote>\n<p>Docker<strong></strong><code>bridge network</code><strong></strong><strong></strong><code>Docker daemon</code><code>docker</code>)<strong></strong><code>bridge network</code>:<code>bridge</code>host<code>docker0</code><code>Docker network</code></p>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ip addr </span><br><span class=\"line\">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000</span><br><span class=\"line\">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class=\"line\">    inet 127.0.0.1/8 scope host lo</span><br><span class=\"line\">       valid_lft forever preferred_lft forever</span><br><span class=\"line\">    inet6 ::1/128 scope host </span><br><span class=\"line\">       valid_lft forever preferred_lft forever</span><br><span class=\"line\">2: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000</span><br><span class=\"line\">    link/ether 08:00:27:eb:89:b8 brd ff:ff:ff:ff:ff:ff</span><br><span class=\"line\">    inet 10.0.2.15/24 brd 10.0.2.255 scope global noprefixroute dynamic enp0s3</span><br><span class=\"line\">       valid_lft 84147sec preferred_lft 84147sec</span><br><span class=\"line\">    inet6 fe80::eef9:c7e0:7365:65b6/64 scope link noprefixroute </span><br><span class=\"line\">       valid_lft forever preferred_lft forever</span><br><span class=\"line\">3: enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000</span><br><span class=\"line\">    link/ether 08:00:27:22:76:1d brd ff:ff:ff:ff:ff:ff</span><br><span class=\"line\">    inet 192.168.56.102/24 brd 192.168.56.255 scope global noprefixroute dynamic enp0s8</span><br><span class=\"line\">       valid_lft 996sec preferred_lft 996sec</span><br><span class=\"line\">    inet6 fe80::a88:e4da:b641:f973/64 scope link noprefixroute </span><br><span class=\"line\">       valid_lft forever preferred_lft forever</span><br><span class=\"line\">4: docker0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN group default </span><br><span class=\"line\">    link/ether 02:42:60:e0:e9:55 brd ff:ff:ff:ff:ff:ff</span><br><span class=\"line\">    inet 172.17.0.1/16 brd 172.17.255.255 scope global docker0</span><br><span class=\"line\">       valid_lft forever preferred_lft forever</span><br><span class=\"line\">    inet6 fe80::42:60ff:fee0:e955/64 scope link </span><br><span class=\"line\">       valid_lft forever preferred_lft forever</span><br></pre></td></tr></table></figure></p>\n<p>docker<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker network ls</span><br><span class=\"line\">NETWORK ID          NAME                DRIVER              SCOPE</span><br><span class=\"line\">b549b06a92e7        bridge              bridge              local</span><br><span class=\"line\">c5149e25deea        host                host                local</span><br><span class=\"line\">bfa90bfc3dfe        none                null                local</span><br></pre></td></tr></table></figure></p>\n<p><strong></strong><code>bridge network</code>DockerDocker<a href=\"https://docs.docker.com/network/overlay/\" target=\"_blank\" rel=\"noopener\"><code>overlay</code></a><a href=\"https://docs.docker.com/network/macvlan/\" target=\"_blank\" rel=\"noopener\"><code>macvlan</code></a> flannelweave  calico</p>\n<p><code>container</code><code>self-defined bridge networks</code><br><strong></strong><code>bridge</code></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><p><code>container application</code><br></p>\n<p>webdbweb80webdb3306webdb<br>webdbWeb803306-ppublish Dockerdb</p>\n</li>\n<li><p>DNS<br>IPIP:PORT<code>--link</code> <br>webdb<code>--link</code></p>\n</li>\n<li><p></p>\n</li>\n<li><p><br>MTUiptables Docker <code>docker network create</code> </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker network create my-net</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><br>link   </p>\n<ul>\n<li><p><code>Docker volume</code></p>\n</li>\n<li><p><code>docker-compose</code>compose</p>\n</li>\n<li><p><code>swamp service</code><a href=\"https://docs.docker.com/engine/swarm/secrets/\" target=\"_blank\" rel=\"noopener\"><code>secrets</code></a><a href=\"https://docs.docker.com/engine/swarm/configs/\" target=\"_blank\" rel=\"noopener\"><code>configs</code></a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker service create \\</span><br><span class=\"line\">   --name nginx \\</span><br><span class=\"line\">   --secret site.key \\</span><br><span class=\"line\">   --secret site.crt \\</span><br><span class=\"line\">   --config source=site.conf,target=/etc/nginx/conf.d/site.conf,mode=0440 \\</span><br><span class=\"line\">   --publish published=3000,target=443 \\</span><br><span class=\"line\">   nginx:latest \\</span><br><span class=\"line\">   sh -c &quot;exec nginx -g &apos;daemon off;&apos;&quot;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"self-define-\"><a href=\"#self-define-\" class=\"headerlink\" title=\"self-define \"></a>self-define </h4><ul>\n<li><p><code>docker network create</code> </p>\n<p> <code>docker network create --help</code>  </p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker network create \\</span><br><span class=\"line\"> --driver=bridge \\</span><br><span class=\"line\"> --subnet=172.28.0.0/16 \\</span><br><span class=\"line\"> --ip-range=172.28.5.0/24 \\</span><br><span class=\"line\"> --gateway=172.28.5.254 \\</span><br><span class=\"line\">    br0</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>docker network rm</code></p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker network rm my-net</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><strong></strong><strong></strong><code>iptables</code></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><code>--network</code>runing)</p>\n<ul>\n<li><p></p>\n<p><code>Nginx</code><code>my-net</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker create --name my-nginx \\</span><br><span class=\"line\">   --network my-net \\</span><br><span class=\"line\">   --publish 8080:80 \\</span><br><span class=\"line\">   nginx:latest</span><br></pre></td></tr></table></figure>\n<p><code>my-nginx</code><code>my-net</code> 8080808080</p>\n</li>\n<li><p><code>running</code></p>\n<p><code>my-nignx</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker run --name my-nginx \\</span><br><span class=\"line\">   --publish 8080:80 \\</span><br><span class=\"line\">   nginx:latest</span><br></pre></td></tr></table></figure>\n<p><code>my-net</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker network connect my-net my-nginx</span><br></pre></td></tr></table></figure>\n<p>dockerIP</p>\n</li>\n</ul>\n<h4 id=\"Docker\"><a href=\"#Docker\" class=\"headerlink\" title=\"Docker\"></a>Docker</h4><p>dockerd  Dockerdaemon.json</p>\n<ul>\n<li><p>dockerd</p>\n<p>dockerd<code>/usr/lib/systemd/system/docker.service</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\">ExecStart=/usr/bin/dockerd -H unix:///var/run/docker.sock \\</span><br><span class=\"line\">  -H tcp://0.0.0.0:2376 \\</span><br><span class=\"line\">  --bip=10.2.54.1/24 \\ </span><br><span class=\"line\">  --mtu=1450 \\ </span><br><span class=\"line\">  --dns=[&quot;10.20.1.2&quot;,&quot;10.20.1.3&quot;]</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>daemon.json</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">   &quot;bip&quot;: &quot;192.168.1.5/24&quot;,</span><br><span class=\"line\">   &quot;fixed-cidr&quot;: &quot;192.168.1.5/25&quot;,</span><br><span class=\"line\">   &quot;fixed-cidr-v6&quot;: &quot;2001:db8::/64&quot;,</span><br><span class=\"line\">   &quot;mtu&quot;: 1500,</span><br><span class=\"line\">   &quot;default-gateway&quot;: &quot;10.20.1.1&quot;,</span><br><span class=\"line\">   &quot;default-gateway-v6&quot;: &quot;2001:db8:abcd::89&quot;,</span><br><span class=\"line\">   &quot;dns&quot;: [&quot;10.20.1.2&quot;,&quot;10.20.1.3&quot;]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>Docker</p>\n","site":{"data":{}},"excerpt":"","more":"<p>Docker(network driver)(bridge)</p>\n<blockquote>\n<p><strong></strong>MACkernel</p>\n</blockquote>\n<p>Docker<strong></strong><code>bridge network</code><strong></strong><strong></strong><code>Docker daemon</code><code>docker</code>)<strong></strong><code>bridge network</code>:<code>bridge</code>host<code>docker0</code><code>Docker network</code></p>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ip addr </span><br><span class=\"line\">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000</span><br><span class=\"line\">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class=\"line\">    inet 127.0.0.1/8 scope host lo</span><br><span class=\"line\">       valid_lft forever preferred_lft forever</span><br><span class=\"line\">    inet6 ::1/128 scope host </span><br><span class=\"line\">       valid_lft forever preferred_lft forever</span><br><span class=\"line\">2: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000</span><br><span class=\"line\">    link/ether 08:00:27:eb:89:b8 brd ff:ff:ff:ff:ff:ff</span><br><span class=\"line\">    inet 10.0.2.15/24 brd 10.0.2.255 scope global noprefixroute dynamic enp0s3</span><br><span class=\"line\">       valid_lft 84147sec preferred_lft 84147sec</span><br><span class=\"line\">    inet6 fe80::eef9:c7e0:7365:65b6/64 scope link noprefixroute </span><br><span class=\"line\">       valid_lft forever preferred_lft forever</span><br><span class=\"line\">3: enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000</span><br><span class=\"line\">    link/ether 08:00:27:22:76:1d brd ff:ff:ff:ff:ff:ff</span><br><span class=\"line\">    inet 192.168.56.102/24 brd 192.168.56.255 scope global noprefixroute dynamic enp0s8</span><br><span class=\"line\">       valid_lft 996sec preferred_lft 996sec</span><br><span class=\"line\">    inet6 fe80::a88:e4da:b641:f973/64 scope link noprefixroute </span><br><span class=\"line\">       valid_lft forever preferred_lft forever</span><br><span class=\"line\">4: docker0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN group default </span><br><span class=\"line\">    link/ether 02:42:60:e0:e9:55 brd ff:ff:ff:ff:ff:ff</span><br><span class=\"line\">    inet 172.17.0.1/16 brd 172.17.255.255 scope global docker0</span><br><span class=\"line\">       valid_lft forever preferred_lft forever</span><br><span class=\"line\">    inet6 fe80::42:60ff:fee0:e955/64 scope link </span><br><span class=\"line\">       valid_lft forever preferred_lft forever</span><br></pre></td></tr></table></figure></p>\n<p>docker<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker network ls</span><br><span class=\"line\">NETWORK ID          NAME                DRIVER              SCOPE</span><br><span class=\"line\">b549b06a92e7        bridge              bridge              local</span><br><span class=\"line\">c5149e25deea        host                host                local</span><br><span class=\"line\">bfa90bfc3dfe        none                null                local</span><br></pre></td></tr></table></figure></p>\n<p><strong></strong><code>bridge network</code>DockerDocker<a href=\"https://docs.docker.com/network/overlay/\" target=\"_blank\" rel=\"noopener\"><code>overlay</code></a><a href=\"https://docs.docker.com/network/macvlan/\" target=\"_blank\" rel=\"noopener\"><code>macvlan</code></a> flannelweave  calico</p>\n<p><code>container</code><code>self-defined bridge networks</code><br><strong></strong><code>bridge</code></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><p><code>container application</code><br></p>\n<p>webdbweb80webdb3306webdb<br>webdbWeb803306-ppublish Dockerdb</p>\n</li>\n<li><p>DNS<br>IPIP:PORT<code>--link</code> <br>webdb<code>--link</code></p>\n</li>\n<li><p></p>\n</li>\n<li><p><br>MTUiptables Docker <code>docker network create</code> </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker network create my-net</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><br>link   </p>\n<ul>\n<li><p><code>Docker volume</code></p>\n</li>\n<li><p><code>docker-compose</code>compose</p>\n</li>\n<li><p><code>swamp service</code><a href=\"https://docs.docker.com/engine/swarm/secrets/\" target=\"_blank\" rel=\"noopener\"><code>secrets</code></a><a href=\"https://docs.docker.com/engine/swarm/configs/\" target=\"_blank\" rel=\"noopener\"><code>configs</code></a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker service create \\</span><br><span class=\"line\">   --name nginx \\</span><br><span class=\"line\">   --secret site.key \\</span><br><span class=\"line\">   --secret site.crt \\</span><br><span class=\"line\">   --config source=site.conf,target=/etc/nginx/conf.d/site.conf,mode=0440 \\</span><br><span class=\"line\">   --publish published=3000,target=443 \\</span><br><span class=\"line\">   nginx:latest \\</span><br><span class=\"line\">   sh -c &quot;exec nginx -g &apos;daemon off;&apos;&quot;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"self-define-\"><a href=\"#self-define-\" class=\"headerlink\" title=\"self-define \"></a>self-define </h4><ul>\n<li><p><code>docker network create</code> </p>\n<p> <code>docker network create --help</code>  </p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker network create \\</span><br><span class=\"line\"> --driver=bridge \\</span><br><span class=\"line\"> --subnet=172.28.0.0/16 \\</span><br><span class=\"line\"> --ip-range=172.28.5.0/24 \\</span><br><span class=\"line\"> --gateway=172.28.5.254 \\</span><br><span class=\"line\">    br0</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>docker network rm</code></p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker network rm my-net</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><strong></strong><strong></strong><code>iptables</code></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><code>--network</code>runing)</p>\n<ul>\n<li><p></p>\n<p><code>Nginx</code><code>my-net</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker create --name my-nginx \\</span><br><span class=\"line\">   --network my-net \\</span><br><span class=\"line\">   --publish 8080:80 \\</span><br><span class=\"line\">   nginx:latest</span><br></pre></td></tr></table></figure>\n<p><code>my-nginx</code><code>my-net</code> 8080808080</p>\n</li>\n<li><p><code>running</code></p>\n<p><code>my-nignx</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker run --name my-nginx \\</span><br><span class=\"line\">   --publish 8080:80 \\</span><br><span class=\"line\">   nginx:latest</span><br></pre></td></tr></table></figure>\n<p><code>my-net</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker network connect my-net my-nginx</span><br></pre></td></tr></table></figure>\n<p>dockerIP</p>\n</li>\n</ul>\n<h4 id=\"Docker\"><a href=\"#Docker\" class=\"headerlink\" title=\"Docker\"></a>Docker</h4><p>dockerd  Dockerdaemon.json</p>\n<ul>\n<li><p>dockerd</p>\n<p>dockerd<code>/usr/lib/systemd/system/docker.service</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\">ExecStart=/usr/bin/dockerd -H unix:///var/run/docker.sock \\</span><br><span class=\"line\">  -H tcp://0.0.0.0:2376 \\</span><br><span class=\"line\">  --bip=10.2.54.1/24 \\ </span><br><span class=\"line\">  --mtu=1450 \\ </span><br><span class=\"line\">  --dns=[&quot;10.20.1.2&quot;,&quot;10.20.1.3&quot;]</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>daemon.json</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">   &quot;bip&quot;: &quot;192.168.1.5/24&quot;,</span><br><span class=\"line\">   &quot;fixed-cidr&quot;: &quot;192.168.1.5/25&quot;,</span><br><span class=\"line\">   &quot;fixed-cidr-v6&quot;: &quot;2001:db8::/64&quot;,</span><br><span class=\"line\">   &quot;mtu&quot;: 1500,</span><br><span class=\"line\">   &quot;default-gateway&quot;: &quot;10.20.1.1&quot;,</span><br><span class=\"line\">   &quot;default-gateway-v6&quot;: &quot;2001:db8:abcd::89&quot;,</span><br><span class=\"line\">   &quot;dns&quot;: [&quot;10.20.1.2&quot;,&quot;10.20.1.3&quot;]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>Docker</p>\n"},{"title":"NGINX Ingress Controller","date":"2019-01-25T16:26:10.000Z","_content":"\n## NGINX Ingress Controller\n[TOC]\n### Bare-metal considerations\n - MetalLB\n`MetalLB``kubernetes` LoadBalancer \n[ **Layer 2 configuration mode**](https://metallb.universe.tf/tutorial/layer2/) [**MetalLB**](https://metallb.universe.tf/)`NGINX Ingress controller``ingress-nginx`IP\n**MetalLB:Layer2**\n![MetalLB:Layer2](/images/metallb.jpg)\nGiven the following 3-node Kubernetes cluster (the external IP is added as an example, in most bare-metal environments this value is <None>)\n```\n$ kubectl describe node\nNAME     STATUS   ROLES    EXTERNAL-IP\nhost-1   Ready    master   203.0.113.1\nhost-2   Ready    node     203.0.113.2\nhost-3   Ready    node     203.0.113.3\n```\n`yaml``ComfigMap`, MetalLBIP`ingress-nginx``loadBalancer IP`.\n```\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  namespace: metallb-system\n  name: config\ndata:\n  config: |\n    address-pools:\n    - name: default\n      protocol: layer2\n      addresses:\n      - 203.0.113.2-203.0.113.3\n```\n```\n$ kubectl -n ingress-nginx get svc\nNAME                   TYPE          CLUSTER-IP     EXTERNAL-IP  PORT(S)\ndefault-http-backend   ClusterIP     10.0.64.249    <none>       80/TCP\ningress-nginx          LoadBalancer  10.0.220.217   203.0.113.3  80:30100/TCP,443:30101/TCP\n```\n----\n - ##### Over a NodePort Service\n NGINX HTTP80443.Internet80443Ingress`ingress-nginx service``Type``Nodeport`\n ![Over a NodePort Service](/images/nodeport.jpg)\n Given the NodePort 30100 allocated to the ingress-nginx Service\n ```\n$ kubectl get svc -n ingress-nginx\nNAME                   TYPE        CLUSTER-IP     PORT(S)\ndefault-http-backend   ClusterIP   10.0.64.249    80/TCP\ningress-nginx          NodePort    10.0.220.217   80:30100/TCP,443:30101/TCP\n ```\n `Node`IP203.0.113.2 (`external IP`,  bare-metal`<None>`)\n```\n$ kubectl describe node\nNAME     STATUS   ROLES    EXTERNAL-IP\nhost-1   Ready    master   203.0.113.1\nhost-2   Ready    node     203.0.113.2\nhost-3   Ready    node     203.0.113.3\n```\n`http://myapp.example.com:30100``host`:`myapp.example.com``Ingress`` myapp.example.com` 203.0.113.2\n\n  - **Source IP address**\n    Services of type NodePort perform source address translation by defaultHTTP`source IP`NGINXKubernetesIP\n\t`ingress-nginx Service``spec.externalTrafficPolicy``local`[](https://github.com/kubernetes/ingress-nginx/blob/nginx-0.19.0/deploy/provider/aws/service-nlb.yaml#L12-L14)`source IP`\n\t```yaml\n\tkind: Service\n\tapiVersion: v1\n\tmetadata:\n\t  name: ingress-nginx\n\t  namespace: ingress-nginx\n\t  ...\n\tspec:\n\t  # this setting is t make sure the source IP address is preserved.\n\t  externalTrafficPolicy: Local\n\t  type: LoadBalancer\n\t  ...\n\t  ports:\n\t  - name: http\n\t\tport: 80\n\t\ttargetPort: http\n\t  ...\n\t```\n\t`Node`(`external IP`,  bare-metal`<None>`)\n\t```\n\t$ kubectl describe node\n\tNAME     STATUS   ROLES    EXTERNAL-IP\n\thost-1   Ready    master   203.0.113.1\n\thost-2   Ready    node     203.0.113.2\n\thost-3   Ready    node     203.0.113.3\n\t```\n\tnginx-ingress-controllerDeployment `replicas`\n\t```\n\t$ kubectl get pod -o wide -n ingress-nginx\n\tNAME                                       READY   STATUS    IP           NODE\n\tdefault-http-backend-7c5bc89cc9-p86md      1/1     Running   172.17.1.1   host-2\n\tnginx-ingress-controller-cf9ff8c96-8vvf8   1/1     Running   172.17.0.3   host-3\n\tnginx-ingress-controller-cf9ff8c96-pxsds   1/1     Running   172.17.1.4   host-2\n\t```\n\t`host-2``host-3` `NGINX`IP`host-1``Node``Node``NGINX`\n\t\n  - **Ingress status**\n    `NodePort``Service``LoadBalancerIP``NGINX Ingress controller``Ingress`\n\t```\n\t$ kubectl get ingress\n    NAME           HOSTS               ADDRESS   PORTS\n    test-ingress   myapp.example.com             80\n\t```\n\t`NGINX Ingress Controller`IP`ingress-nginx Service``externalIPs`Ingress\n\t`Node`(`external IP`,  bare-metal`<None>`)\n\t```\n\t$ kubectl describe node\n\tNAME     STATUS   ROLES    EXTERNAL-IP\n\thost-1   Ready    master   203.0.113.1\n\thost-2   Ready    node     203.0.113.2\n\thost-3   Ready    node     203.0.113.3\n\t```\n\t`ingress-nginx Service` `spec`\n\t```\n\t...\n\tspec:\n\t  externalIPs:\n\t  - 203.0.113.1\n\t  - 203.0.113.2\n\t  - 203.0.113.3\n\t...\n\t```\n\t`Ingress`\n\t```\n\t$ kubectl get ingress -o wide\n\tNAME           HOSTS               ADDRESS                               PORTS\n\ttest-ingress   myapp.example.com   203.0.113.1,203.0.113.2,203.0.113.3   80\n\t```\n  - **Redirects**\n  > As NGINX is not aware of the port translation operated by the NodePort Service, backend applications are responsible for generating redirect URLs that take into account the URL used by external clients, including the NodePort.\n   \n    NGINXNodePortNodePortURLURL\n\tRedirects generated by NGINX, for instance HTTP to HTTPS or domain to www.domain, are generated without NodePort:\n\t```\n\t$ curl -D- http://myapp.example.com:30100\n\tHTTP/1.1 308 Permanent Redirect\n\tServer: nginx/1.15.2\n\tLocation: https://myapp.example.com/  #-> missing NodePort in HTTPS redirect\n\t```\n----\n - ##### Via the host network\n   `NodePorts``ingress-nginx`Pods****(`network namespace`)`NodePort Service``NGINX Ingress controller`k8s`Node`80443\n   Pods`template.spec``hostNetwork`\n   ```\n   template:\n\t  spec:\n\t\thostNetwork: true\n   ```\n   \n   `NGINX Ingress Controller`\n   `nginx-ingress-controller`Deployment`NGINX` PodsNIP Pod IP\n   ```\n   $ kubectl get pod -o wide -n ingress-nginx\n\tNAME                                       READY   STATUS    IP            NODE\n\tdefault-http-backend-7c5bc89cc9-p86md      1/1     Running   172.17.1.1    host-2\n\tnginx-ingress-controller-5b4cf5fc6-7lg6c   1/1     Running   203.0.113.3   host-3\n\tnginx-ingress-controller-5b4cf5fc6-lzrls   1/1     Running   203.0.113.2   host-2\n   ```\n   `NGINX Ingress Controller` Pod Pods \n   ```\n   $ kubectl -n ingress-nginx describe pod <unschedulable-nginx-ingress-controller-pod>\n\t...\n\tEvents:\n\t  Type     Reason            From               Message\n\t  ----     ------            ----               -------\n\t  Warning  FailedScheduling  default-scheduler  0/3 nodes are available: 3 node(s) didn't have free ports for the requested pod ports.\n   ```\n   Pod`NGINX Ingress Controller``DaemonSet``Deployment`\n   ![hostnetwork](/images/hostnetwork.jpg)\n   NodePorts\n     - **DNS resolution**\n     Pods`hostNetwork: true`DNS(`kube-dns``CoreDns`)Pods`spec.dnsPolicy``ClusterFirstWithHostNet`\n\t \n     - **Ingress status**\n     NGINX Ingress--publish-serviceIngress\n\t ```\n\t $ kubectl get ingress\n\tNAME           HOSTS               ADDRESS   PORTS\n\ttest-ingress   myapp.example.com             80\n\t ```\n\t `bare-metal`Node`Extral IP``--report-node-internal-ip-address`Ingress`NGINX Ingress Controller`IP\n\t Given a nginx-ingress-controller DaemonSet composed of 2 replicas\n\t ```\n\t $ kubectl -n ingress-nginx get pod -o wide\n\tNAME                                       READY   STATUS    IP            NODE\n\tdefault-http-backend-7c5bc89cc9-p86md      1/1     Running   172.17.1.1    host-2\n\tnginx-ingress-controller-5b4cf5fc6-7lg6c   1/1     Running   203.0.113.3   host-3\n\tnginx-ingress-controller-5b4cf5fc6-lzrls   1/1     Running   203.0.113.2   host-2\n\t ```\n\t Ingress\n\t ```\n\t $ kubectl get ingress -o wide\n\tNAME           HOSTS               ADDRESS                   PORTS\n\ttest-ingress   myapp.example.com   203.0.113.2,203.0.113.3   80\n\t ```\n - ##### Using a self-provisioned edge\n   edge network component KubernetesHAproxyKubernetes\n   Over NodePortNodePortIPKubernetes\n   IPHTTPKubernetes/ TCP80443HTTPHTTPS NodePort\n   ![Using a self-provisioned edge](/images/user_edge.jpg)\n   Kubernetes`externalIPs`kube-proxyIP`endpoints`IP(target node)\n   > `Node`(`external IP`,  bare-metal`<None>`)\n    ```\n\t$ kubectl describe node\n\tNAME     STATUS   ROLES    EXTERNAL-IP\n\thost-1   Ready    master   203.0.113.1\n\thost-2   Ready    node     203.0.113.2\n\thost-3   Ready    node     203.0.113.3\n    ```\n   and the following ingress-nginx NodePort Service\n   ```\n   $ kubectl -n ingress-nginx get svc\n   NAME                   TYPE        CLUSTER-IP     PORT(S)\n   ingress-nginx          NodePort    10.0.220.217   80:30100/TCP,443:30101/TCP\n   ```\n   `Service``spec.externalIPs`**externalIPs**, **NGINX**`NodePort``Service Port`\n   ```\n   spec:\n\t  externalIPs:\n\t  - 203.0.113.2\n\t  - 203.0.113.3\n   ```\n   ```\n   $ curl -D- http://myapp.example.com:30100\n   HTTP/1.1 200 OK\n   Server: nginx/1.15.2\n   $ curl -D- http://myapp.example.com\n   HTTP/1.1 200 OK\n   Server: nginx/1.15.2\n   ```\n    `myapp.example.com` IP203.0.113.2  203.0.113.3\n\n\n\n","source":"_posts/2019-03-25-nginx-ingress-controller-introduct.md","raw":"---\ntitle: NGINX Ingress Controller\ndate: 2019-01-25 16:26:10\ntags:\n  - kubernetes\ncategories:\n  - \n  - kubernetes\n\n---\n\n## NGINX Ingress Controller\n[TOC]\n### Bare-metal considerations\n - MetalLB\n`MetalLB``kubernetes` LoadBalancer \n[ **Layer 2 configuration mode**](https://metallb.universe.tf/tutorial/layer2/) [**MetalLB**](https://metallb.universe.tf/)`NGINX Ingress controller``ingress-nginx`IP\n**MetalLB:Layer2**\n![MetalLB:Layer2](/images/metallb.jpg)\nGiven the following 3-node Kubernetes cluster (the external IP is added as an example, in most bare-metal environments this value is <None>)\n```\n$ kubectl describe node\nNAME     STATUS   ROLES    EXTERNAL-IP\nhost-1   Ready    master   203.0.113.1\nhost-2   Ready    node     203.0.113.2\nhost-3   Ready    node     203.0.113.3\n```\n`yaml``ComfigMap`, MetalLBIP`ingress-nginx``loadBalancer IP`.\n```\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  namespace: metallb-system\n  name: config\ndata:\n  config: |\n    address-pools:\n    - name: default\n      protocol: layer2\n      addresses:\n      - 203.0.113.2-203.0.113.3\n```\n```\n$ kubectl -n ingress-nginx get svc\nNAME                   TYPE          CLUSTER-IP     EXTERNAL-IP  PORT(S)\ndefault-http-backend   ClusterIP     10.0.64.249    <none>       80/TCP\ningress-nginx          LoadBalancer  10.0.220.217   203.0.113.3  80:30100/TCP,443:30101/TCP\n```\n----\n - ##### Over a NodePort Service\n NGINX HTTP80443.Internet80443Ingress`ingress-nginx service``Type``Nodeport`\n ![Over a NodePort Service](/images/nodeport.jpg)\n Given the NodePort 30100 allocated to the ingress-nginx Service\n ```\n$ kubectl get svc -n ingress-nginx\nNAME                   TYPE        CLUSTER-IP     PORT(S)\ndefault-http-backend   ClusterIP   10.0.64.249    80/TCP\ningress-nginx          NodePort    10.0.220.217   80:30100/TCP,443:30101/TCP\n ```\n `Node`IP203.0.113.2 (`external IP`,  bare-metal`<None>`)\n```\n$ kubectl describe node\nNAME     STATUS   ROLES    EXTERNAL-IP\nhost-1   Ready    master   203.0.113.1\nhost-2   Ready    node     203.0.113.2\nhost-3   Ready    node     203.0.113.3\n```\n`http://myapp.example.com:30100``host`:`myapp.example.com``Ingress`` myapp.example.com` 203.0.113.2\n\n  - **Source IP address**\n    Services of type NodePort perform source address translation by defaultHTTP`source IP`NGINXKubernetesIP\n\t`ingress-nginx Service``spec.externalTrafficPolicy``local`[](https://github.com/kubernetes/ingress-nginx/blob/nginx-0.19.0/deploy/provider/aws/service-nlb.yaml#L12-L14)`source IP`\n\t```yaml\n\tkind: Service\n\tapiVersion: v1\n\tmetadata:\n\t  name: ingress-nginx\n\t  namespace: ingress-nginx\n\t  ...\n\tspec:\n\t  # this setting is t make sure the source IP address is preserved.\n\t  externalTrafficPolicy: Local\n\t  type: LoadBalancer\n\t  ...\n\t  ports:\n\t  - name: http\n\t\tport: 80\n\t\ttargetPort: http\n\t  ...\n\t```\n\t`Node`(`external IP`,  bare-metal`<None>`)\n\t```\n\t$ kubectl describe node\n\tNAME     STATUS   ROLES    EXTERNAL-IP\n\thost-1   Ready    master   203.0.113.1\n\thost-2   Ready    node     203.0.113.2\n\thost-3   Ready    node     203.0.113.3\n\t```\n\tnginx-ingress-controllerDeployment `replicas`\n\t```\n\t$ kubectl get pod -o wide -n ingress-nginx\n\tNAME                                       READY   STATUS    IP           NODE\n\tdefault-http-backend-7c5bc89cc9-p86md      1/1     Running   172.17.1.1   host-2\n\tnginx-ingress-controller-cf9ff8c96-8vvf8   1/1     Running   172.17.0.3   host-3\n\tnginx-ingress-controller-cf9ff8c96-pxsds   1/1     Running   172.17.1.4   host-2\n\t```\n\t`host-2``host-3` `NGINX`IP`host-1``Node``Node``NGINX`\n\t\n  - **Ingress status**\n    `NodePort``Service``LoadBalancerIP``NGINX Ingress controller``Ingress`\n\t```\n\t$ kubectl get ingress\n    NAME           HOSTS               ADDRESS   PORTS\n    test-ingress   myapp.example.com             80\n\t```\n\t`NGINX Ingress Controller`IP`ingress-nginx Service``externalIPs`Ingress\n\t`Node`(`external IP`,  bare-metal`<None>`)\n\t```\n\t$ kubectl describe node\n\tNAME     STATUS   ROLES    EXTERNAL-IP\n\thost-1   Ready    master   203.0.113.1\n\thost-2   Ready    node     203.0.113.2\n\thost-3   Ready    node     203.0.113.3\n\t```\n\t`ingress-nginx Service` `spec`\n\t```\n\t...\n\tspec:\n\t  externalIPs:\n\t  - 203.0.113.1\n\t  - 203.0.113.2\n\t  - 203.0.113.3\n\t...\n\t```\n\t`Ingress`\n\t```\n\t$ kubectl get ingress -o wide\n\tNAME           HOSTS               ADDRESS                               PORTS\n\ttest-ingress   myapp.example.com   203.0.113.1,203.0.113.2,203.0.113.3   80\n\t```\n  - **Redirects**\n  > As NGINX is not aware of the port translation operated by the NodePort Service, backend applications are responsible for generating redirect URLs that take into account the URL used by external clients, including the NodePort.\n   \n    NGINXNodePortNodePortURLURL\n\tRedirects generated by NGINX, for instance HTTP to HTTPS or domain to www.domain, are generated without NodePort:\n\t```\n\t$ curl -D- http://myapp.example.com:30100\n\tHTTP/1.1 308 Permanent Redirect\n\tServer: nginx/1.15.2\n\tLocation: https://myapp.example.com/  #-> missing NodePort in HTTPS redirect\n\t```\n----\n - ##### Via the host network\n   `NodePorts``ingress-nginx`Pods****(`network namespace`)`NodePort Service``NGINX Ingress controller`k8s`Node`80443\n   Pods`template.spec``hostNetwork`\n   ```\n   template:\n\t  spec:\n\t\thostNetwork: true\n   ```\n   \n   `NGINX Ingress Controller`\n   `nginx-ingress-controller`Deployment`NGINX` PodsNIP Pod IP\n   ```\n   $ kubectl get pod -o wide -n ingress-nginx\n\tNAME                                       READY   STATUS    IP            NODE\n\tdefault-http-backend-7c5bc89cc9-p86md      1/1     Running   172.17.1.1    host-2\n\tnginx-ingress-controller-5b4cf5fc6-7lg6c   1/1     Running   203.0.113.3   host-3\n\tnginx-ingress-controller-5b4cf5fc6-lzrls   1/1     Running   203.0.113.2   host-2\n   ```\n   `NGINX Ingress Controller` Pod Pods \n   ```\n   $ kubectl -n ingress-nginx describe pod <unschedulable-nginx-ingress-controller-pod>\n\t...\n\tEvents:\n\t  Type     Reason            From               Message\n\t  ----     ------            ----               -------\n\t  Warning  FailedScheduling  default-scheduler  0/3 nodes are available: 3 node(s) didn't have free ports for the requested pod ports.\n   ```\n   Pod`NGINX Ingress Controller``DaemonSet``Deployment`\n   ![hostnetwork](/images/hostnetwork.jpg)\n   NodePorts\n     - **DNS resolution**\n     Pods`hostNetwork: true`DNS(`kube-dns``CoreDns`)Pods`spec.dnsPolicy``ClusterFirstWithHostNet`\n\t \n     - **Ingress status**\n     NGINX Ingress--publish-serviceIngress\n\t ```\n\t $ kubectl get ingress\n\tNAME           HOSTS               ADDRESS   PORTS\n\ttest-ingress   myapp.example.com             80\n\t ```\n\t `bare-metal`Node`Extral IP``--report-node-internal-ip-address`Ingress`NGINX Ingress Controller`IP\n\t Given a nginx-ingress-controller DaemonSet composed of 2 replicas\n\t ```\n\t $ kubectl -n ingress-nginx get pod -o wide\n\tNAME                                       READY   STATUS    IP            NODE\n\tdefault-http-backend-7c5bc89cc9-p86md      1/1     Running   172.17.1.1    host-2\n\tnginx-ingress-controller-5b4cf5fc6-7lg6c   1/1     Running   203.0.113.3   host-3\n\tnginx-ingress-controller-5b4cf5fc6-lzrls   1/1     Running   203.0.113.2   host-2\n\t ```\n\t Ingress\n\t ```\n\t $ kubectl get ingress -o wide\n\tNAME           HOSTS               ADDRESS                   PORTS\n\ttest-ingress   myapp.example.com   203.0.113.2,203.0.113.3   80\n\t ```\n - ##### Using a self-provisioned edge\n   edge network component KubernetesHAproxyKubernetes\n   Over NodePortNodePortIPKubernetes\n   IPHTTPKubernetes/ TCP80443HTTPHTTPS NodePort\n   ![Using a self-provisioned edge](/images/user_edge.jpg)\n   Kubernetes`externalIPs`kube-proxyIP`endpoints`IP(target node)\n   > `Node`(`external IP`,  bare-metal`<None>`)\n    ```\n\t$ kubectl describe node\n\tNAME     STATUS   ROLES    EXTERNAL-IP\n\thost-1   Ready    master   203.0.113.1\n\thost-2   Ready    node     203.0.113.2\n\thost-3   Ready    node     203.0.113.3\n    ```\n   and the following ingress-nginx NodePort Service\n   ```\n   $ kubectl -n ingress-nginx get svc\n   NAME                   TYPE        CLUSTER-IP     PORT(S)\n   ingress-nginx          NodePort    10.0.220.217   80:30100/TCP,443:30101/TCP\n   ```\n   `Service``spec.externalIPs`**externalIPs**, **NGINX**`NodePort``Service Port`\n   ```\n   spec:\n\t  externalIPs:\n\t  - 203.0.113.2\n\t  - 203.0.113.3\n   ```\n   ```\n   $ curl -D- http://myapp.example.com:30100\n   HTTP/1.1 200 OK\n   Server: nginx/1.15.2\n   $ curl -D- http://myapp.example.com\n   HTTP/1.1 200 OK\n   Server: nginx/1.15.2\n   ```\n    `myapp.example.com` IP203.0.113.2  203.0.113.3\n\n\n\n","slug":"nginx-ingress-controller-introduct","published":1,"updated":"2019-03-25T08:37:21.935Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjto6rqt5001ohqxufu3os4ji","content":"<h2 id=\"NGINX-Ingress-Controller\"><a href=\"#NGINX-Ingress-Controller\" class=\"headerlink\" title=\"NGINX Ingress Controller\"></a>NGINX Ingress Controller</h2><p>[TOC]</p>\n<h3 id=\"Bare-metal-considerations\"><a href=\"#Bare-metal-considerations\" class=\"headerlink\" title=\"Bare-metal considerations\"></a>Bare-metal considerations</h3><ul>\n<li>MetalLB<br><code>MetalLB</code><code>kubernetes</code> LoadBalancer <br><a href=\"https://metallb.universe.tf/tutorial/layer2/\" target=\"_blank\" rel=\"noopener\"> <strong>Layer 2 configuration mode</strong></a> <a href=\"https://metallb.universe.tf/\" target=\"_blank\" rel=\"noopener\"><strong>MetalLB</strong></a><code>NGINX Ingress controller</code><code>ingress-nginx</code>IP<br><strong>MetalLB:Layer2</strong><br><img src=\"/images/metallb.jpg\" alt=\"MetalLB:Layer2\"><br>Given the following 3-node Kubernetes cluster (the external IP is added as an example, in most bare-metal environments this value is <none>)<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ kubectl describe node</span><br><span class=\"line\">NAME     STATUS   ROLES    EXTERNAL-IP</span><br><span class=\"line\">host-1   Ready    master   203.0.113.1</span><br><span class=\"line\">host-2   Ready    node     203.0.113.2</span><br><span class=\"line\">host-3   Ready    node     203.0.113.3</span><br></pre></td></tr></table></figure>\n</none></li>\n</ul>\n<p><code>yaml</code><code>ComfigMap</code>, MetalLBIP<code>ingress-nginx</code><code>loadBalancer IP</code>.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apiVersion: v1</span><br><span class=\"line\">kind: ConfigMap</span><br><span class=\"line\">metadata:</span><br><span class=\"line\">  namespace: metallb-system</span><br><span class=\"line\">  name: config</span><br><span class=\"line\">data:</span><br><span class=\"line\">  config: |</span><br><span class=\"line\">    address-pools:</span><br><span class=\"line\">    - name: default</span><br><span class=\"line\">      protocol: layer2</span><br><span class=\"line\">      addresses:</span><br><span class=\"line\">      - 203.0.113.2-203.0.113.3</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ kubectl -n ingress-nginx get svc</span><br><span class=\"line\">NAME                   TYPE          CLUSTER-IP     EXTERNAL-IP  PORT(S)</span><br><span class=\"line\">default-http-backend   ClusterIP     10.0.64.249    &lt;none&gt;       80/TCP</span><br><span class=\"line\">ingress-nginx          LoadBalancer  10.0.220.217   203.0.113.3  80:30100/TCP,443:30101/TCP</span><br></pre></td></tr></table></figure>\n<hr>\n<ul>\n<li><h5 id=\"Over-a-NodePort-Service\"><a href=\"#Over-a-NodePort-Service\" class=\"headerlink\" title=\"Over a NodePort Service\"></a>Over a NodePort Service</h5><p>NGINX HTTP80443.Internet80443Ingress<code>ingress-nginx service</code><code>Type</code><code>Nodeport</code><br><img src=\"/images/nodeport.jpg\" alt=\"Over a NodePort Service\"><br>Given the NodePort 30100 allocated to the ingress-nginx Service</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ kubectl get svc -n ingress-nginx</span><br><span class=\"line\">NAME                   TYPE        CLUSTER-IP     PORT(S)</span><br><span class=\"line\">default-http-backend   ClusterIP   10.0.64.249    80/TCP</span><br><span class=\"line\">ingress-nginx          NodePort    10.0.220.217   80:30100/TCP,443:30101/TCP</span><br></pre></td></tr></table></figure>\n<p><code>Node</code>IP203.0.113.2 (<code>external IP</code>,  bare-metal<code>&lt;None&gt;</code>)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ kubectl describe node</span><br><span class=\"line\">NAME     STATUS   ROLES    EXTERNAL-IP</span><br><span class=\"line\">host-1   Ready    master   203.0.113.1</span><br><span class=\"line\">host-2   Ready    node     203.0.113.2</span><br><span class=\"line\">host-3   Ready    node     203.0.113.3</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><code>http://myapp.example.com:30100</code><code>host</code>:<code>myapp.example.com</code><code>Ingress</code><code>myapp.example.com</code> 203.0.113.2<br></p>\n<ul>\n<li><p><strong>Source IP address</strong><br>Services of type NodePort perform source address translation by defaultHTTP<code>source IP</code>NGINXKubernetesIP<br><code>ingress-nginx Service</code><code>spec.externalTrafficPolicy</code><code>local</code><a href=\"https://github.com/kubernetes/ingress-nginx/blob/nginx-0.19.0/deploy/provider/aws/service-nlb.yaml#L12-L14\" target=\"_blank\" rel=\"noopener\"></a><code>source IP</code></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">Service</span></span><br><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">v1</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\"><span class=\"attr\">  name:</span> <span class=\"string\">ingress-nginx</span></span><br><span class=\"line\"><span class=\"attr\">  namespace:</span> <span class=\"string\">ingress-nginx</span></span><br><span class=\"line\">  <span class=\"string\">...</span></span><br><span class=\"line\"><span class=\"attr\">spec:</span></span><br><span class=\"line\">  <span class=\"comment\"># this setting is t make sure the source IP address is preserved.</span></span><br><span class=\"line\"><span class=\"attr\">  externalTrafficPolicy:</span> <span class=\"string\">Local</span></span><br><span class=\"line\"><span class=\"attr\">  type:</span> <span class=\"string\">LoadBalancer</span></span><br><span class=\"line\">  <span class=\"string\">...</span></span><br><span class=\"line\"><span class=\"attr\">  ports:</span></span><br><span class=\"line\"><span class=\"attr\">  - name:</span> <span class=\"string\">http</span></span><br><span class=\"line\">\t<span class=\"attr\">port:</span> <span class=\"number\">80</span></span><br><span class=\"line\">\t<span class=\"attr\">targetPort:</span> <span class=\"string\">http</span></span><br><span class=\"line\">  <span class=\"string\">...</span></span><br></pre></td></tr></table></figure>\n<p><code>Node</code>(<code>external IP</code>,  bare-metal<code>&lt;None&gt;</code>)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ kubectl describe node</span><br><span class=\"line\">NAME     STATUS   ROLES    EXTERNAL-IP</span><br><span class=\"line\">host-1   Ready    master   203.0.113.1</span><br><span class=\"line\">host-2   Ready    node     203.0.113.2</span><br><span class=\"line\">host-3   Ready    node     203.0.113.3</span><br></pre></td></tr></table></figure>\n<p>nginx-ingress-controllerDeployment <code>replicas</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ kubectl get pod -o wide -n ingress-nginx</span><br><span class=\"line\">NAME                                       READY   STATUS    IP           NODE</span><br><span class=\"line\">default-http-backend-7c5bc89cc9-p86md      1/1     Running   172.17.1.1   host-2</span><br><span class=\"line\">nginx-ingress-controller-cf9ff8c96-8vvf8   1/1     Running   172.17.0.3   host-3</span><br><span class=\"line\">nginx-ingress-controller-cf9ff8c96-pxsds   1/1     Running   172.17.1.4   host-2</span><br></pre></td></tr></table></figure>\n<p><code>host-2</code><code>host-3</code> <code>NGINX</code>IP<code>host-1</code><code>Node</code><code>Node</code><code>NGINX</code></p>\n</li>\n<li><p><strong>Ingress status</strong><br><code>NodePort</code><code>Service</code><code>LoadBalancerIP</code><code>NGINX Ingress controller</code><code>Ingress</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ kubectl get ingress</span><br><span class=\"line\">   NAME           HOSTS               ADDRESS   PORTS</span><br><span class=\"line\">   test-ingress   myapp.example.com             80</span><br></pre></td></tr></table></figure>\n<p><code>NGINX Ingress Controller</code>IP<code>ingress-nginx Service</code><code>externalIPs</code>Ingress<br><code>Node</code>(<code>external IP</code>,  bare-metal<code>&lt;None&gt;</code>)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ kubectl describe node</span><br><span class=\"line\">NAME     STATUS   ROLES    EXTERNAL-IP</span><br><span class=\"line\">host-1   Ready    master   203.0.113.1</span><br><span class=\"line\">host-2   Ready    node     203.0.113.2</span><br><span class=\"line\">host-3   Ready    node     203.0.113.3</span><br></pre></td></tr></table></figure>\n<p><code>ingress-nginx Service</code> <code>spec</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\">spec:</span><br><span class=\"line\">  externalIPs:</span><br><span class=\"line\">  - 203.0.113.1</span><br><span class=\"line\">  - 203.0.113.2</span><br><span class=\"line\">  - 203.0.113.3</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n<p><code>Ingress</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ kubectl get ingress -o wide</span><br><span class=\"line\">NAME           HOSTS               ADDRESS                               PORTS</span><br><span class=\"line\">test-ingress   myapp.example.com   203.0.113.1,203.0.113.2,203.0.113.3   80</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>Redirects</strong></p>\n<blockquote>\n<p>As NGINX is not aware of the port translation operated by the NodePort Service, backend applications are responsible for generating redirect URLs that take into account the URL used by external clients, including the NodePort.</p>\n</blockquote>\n<p>NGINXNodePortNodePortURLURL<br>Redirects generated by NGINX, for instance HTTP to HTTPS or domain to <a href=\"http://www.domain\" target=\"_blank\" rel=\"noopener\">www.domain</a>, are generated without NodePort:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ curl -D- http://myapp.example.com:30100</span><br><span class=\"line\">HTTP/1.1 308 Permanent Redirect</span><br><span class=\"line\">Server: nginx/1.15.2</span><br><span class=\"line\">Location: https://myapp.example.com/  #-&gt; missing NodePort in HTTPS redirect</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<ul>\n<li><h5 id=\"Via-the-host-network\"><a href=\"#Via-the-host-network\" class=\"headerlink\" title=\"Via the host network\"></a>Via the host network</h5><p><code>NodePorts</code><code>ingress-nginx</code>Pods<strong></strong>(<code>network namespace</code>)<code>NodePort Service</code><code>NGINX Ingress controller</code>k8s<code>Node</code>80443<br>Pods<code>template.spec</code><code>hostNetwork</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> template:</span><br><span class=\"line\"> spec:</span><br><span class=\"line\">hostNetwork: true</span><br></pre></td></tr></table></figure>\n<p><br><code>NGINX Ingress Controller</code><br><code>nginx-ingress-controller</code>Deployment<code>NGINX</code> PodsNIP Pod IP</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  $ kubectl get pod -o wide -n ingress-nginx</span><br><span class=\"line\">NAME                                       READY   STATUS    IP            NODE</span><br><span class=\"line\">default-http-backend-7c5bc89cc9-p86md      1/1     Running   172.17.1.1    host-2</span><br><span class=\"line\">nginx-ingress-controller-5b4cf5fc6-7lg6c   1/1     Running   203.0.113.3   host-3</span><br><span class=\"line\">nginx-ingress-controller-5b4cf5fc6-lzrls   1/1     Running   203.0.113.2   host-2</span><br></pre></td></tr></table></figure>\n<p><code>NGINX Ingress Controller</code> Pod Pods </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  $ kubectl -n ingress-nginx describe pod &lt;unschedulable-nginx-ingress-controller-pod&gt;</span><br><span class=\"line\">...</span><br><span class=\"line\">Events:</span><br><span class=\"line\">  Type     Reason            From               Message</span><br><span class=\"line\">  ----     ------            ----               -------</span><br><span class=\"line\">  Warning  FailedScheduling  default-scheduler  0/3 nodes are available: 3 node(s) didn&apos;t have free ports for the requested pod ports.</span><br></pre></td></tr></table></figure>\n<p>Pod<code>NGINX Ingress Controller</code><code>DaemonSet</code><code>Deployment</code><br><img src=\"/images/hostnetwork.jpg\" alt=\"hostnetwork\"><br>NodePorts</p>\n<ul>\n<li><p><strong>DNS resolution</strong><br>Pods<code>hostNetwork: true</code>DNS(<code>kube-dns</code><code>CoreDns</code>)Pods<code>spec.dnsPolicy</code><code>ClusterFirstWithHostNet</code></p>\n</li>\n<li><p><strong>Ingress status</strong><br>NGINX Ingresspublish-serviceIngress</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> $ kubectl get ingress</span><br><span class=\"line\">NAME           HOSTS               ADDRESS   PORTS</span><br><span class=\"line\">test-ingress   myapp.example.com             80</span><br></pre></td></tr></table></figure>\n<p><code>bare-metal</code>Node<code>Extral IP</code><code>--report-node-internal-ip-address</code>Ingress<code>NGINX Ingress Controller</code>IP<br>Given a nginx-ingress-controller DaemonSet composed of 2 replicas</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> $ kubectl -n ingress-nginx get pod -o wide</span><br><span class=\"line\">NAME                                       READY   STATUS    IP            NODE</span><br><span class=\"line\">default-http-backend-7c5bc89cc9-p86md      1/1     Running   172.17.1.1    host-2</span><br><span class=\"line\">nginx-ingress-controller-5b4cf5fc6-7lg6c   1/1     Running   203.0.113.3   host-3</span><br><span class=\"line\">nginx-ingress-controller-5b4cf5fc6-lzrls   1/1     Running   203.0.113.2   host-2</span><br></pre></td></tr></table></figure>\n<p>Ingress</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> $ kubectl get ingress -o wide</span><br><span class=\"line\">NAME           HOSTS               ADDRESS                   PORTS</span><br><span class=\"line\">test-ingress   myapp.example.com   203.0.113.2,203.0.113.3   80</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><h5 id=\"Using-a-self-provisioned-edge\"><a href=\"#Using-a-self-provisioned-edge\" class=\"headerlink\" title=\"Using a self-provisioned edge\"></a>Using a self-provisioned edge</h5><p>edge network component KubernetesHAproxyKubernetes<br>Over NodePortNodePortIPKubernetes<br>IPHTTPKubernetes/ TCP80443HTTPHTTPS NodePort<br><img src=\"/images/user_edge.jpg\" alt=\"Using a self-provisioned edge\"><br>Kubernetes<code>externalIPs</code>kube-proxyIP<code>endpoints</code>IP(target node)</p>\n<blockquote>\n<p><code>Node</code>(<code>external IP</code>,  bare-metal<code>&lt;None&gt;</code>)</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ kubectl describe node</span><br><span class=\"line\">NAME     STATUS   ROLES    EXTERNAL-IP</span><br><span class=\"line\">host-1   Ready    master   203.0.113.1</span><br><span class=\"line\">host-2   Ready    node     203.0.113.2</span><br><span class=\"line\">host-3   Ready    node     203.0.113.3</span><br></pre></td></tr></table></figure>\n</blockquote>\n<p>and the following ingress-nginx NodePort Service</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ kubectl -n ingress-nginx get svc</span><br><span class=\"line\">NAME                   TYPE        CLUSTER-IP     PORT(S)</span><br><span class=\"line\">ingress-nginx          NodePort    10.0.220.217   80:30100/TCP,443:30101/TCP</span><br></pre></td></tr></table></figure>\n<p><code>Service</code><code>spec.externalIPs</code><strong>externalIPs</strong>, <strong>NGINX</strong><code>NodePort</code><code>Service Port</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">spec:</span><br><span class=\"line\">externalIPs:</span><br><span class=\"line\">- 203.0.113.2</span><br><span class=\"line\">- 203.0.113.3</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ curl -D- http://myapp.example.com:30100</span><br><span class=\"line\">HTTP/1.1 200 OK</span><br><span class=\"line\">Server: nginx/1.15.2</span><br><span class=\"line\">$ curl -D- http://myapp.example.com</span><br><span class=\"line\">HTTP/1.1 200 OK</span><br><span class=\"line\">Server: nginx/1.15.2</span><br></pre></td></tr></table></figure>\n<p> <code>myapp.example.com</code> IP203.0.113.2  203.0.113.3</p>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"NGINX-Ingress-Controller\"><a href=\"#NGINX-Ingress-Controller\" class=\"headerlink\" title=\"NGINX Ingress Controller\"></a>NGINX Ingress Controller</h2><p>[TOC]</p>\n<h3 id=\"Bare-metal-considerations\"><a href=\"#Bare-metal-considerations\" class=\"headerlink\" title=\"Bare-metal considerations\"></a>Bare-metal considerations</h3><ul>\n<li>MetalLB<br><code>MetalLB</code><code>kubernetes</code> LoadBalancer <br><a href=\"https://metallb.universe.tf/tutorial/layer2/\" target=\"_blank\" rel=\"noopener\"> <strong>Layer 2 configuration mode</strong></a> <a href=\"https://metallb.universe.tf/\" target=\"_blank\" rel=\"noopener\"><strong>MetalLB</strong></a><code>NGINX Ingress controller</code><code>ingress-nginx</code>IP<br><strong>MetalLB:Layer2</strong><br><img src=\"/images/metallb.jpg\" alt=\"MetalLB:Layer2\"><br>Given the following 3-node Kubernetes cluster (the external IP is added as an example, in most bare-metal environments this value is <none>)<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ kubectl describe node</span><br><span class=\"line\">NAME     STATUS   ROLES    EXTERNAL-IP</span><br><span class=\"line\">host-1   Ready    master   203.0.113.1</span><br><span class=\"line\">host-2   Ready    node     203.0.113.2</span><br><span class=\"line\">host-3   Ready    node     203.0.113.3</span><br></pre></td></tr></table></figure>\n</none></li>\n</ul>\n<p><code>yaml</code><code>ComfigMap</code>, MetalLBIP<code>ingress-nginx</code><code>loadBalancer IP</code>.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apiVersion: v1</span><br><span class=\"line\">kind: ConfigMap</span><br><span class=\"line\">metadata:</span><br><span class=\"line\">  namespace: metallb-system</span><br><span class=\"line\">  name: config</span><br><span class=\"line\">data:</span><br><span class=\"line\">  config: |</span><br><span class=\"line\">    address-pools:</span><br><span class=\"line\">    - name: default</span><br><span class=\"line\">      protocol: layer2</span><br><span class=\"line\">      addresses:</span><br><span class=\"line\">      - 203.0.113.2-203.0.113.3</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ kubectl -n ingress-nginx get svc</span><br><span class=\"line\">NAME                   TYPE          CLUSTER-IP     EXTERNAL-IP  PORT(S)</span><br><span class=\"line\">default-http-backend   ClusterIP     10.0.64.249    &lt;none&gt;       80/TCP</span><br><span class=\"line\">ingress-nginx          LoadBalancer  10.0.220.217   203.0.113.3  80:30100/TCP,443:30101/TCP</span><br></pre></td></tr></table></figure>\n<hr>\n<ul>\n<li><h5 id=\"Over-a-NodePort-Service\"><a href=\"#Over-a-NodePort-Service\" class=\"headerlink\" title=\"Over a NodePort Service\"></a>Over a NodePort Service</h5><p>NGINX HTTP80443.Internet80443Ingress<code>ingress-nginx service</code><code>Type</code><code>Nodeport</code><br><img src=\"/images/nodeport.jpg\" alt=\"Over a NodePort Service\"><br>Given the NodePort 30100 allocated to the ingress-nginx Service</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ kubectl get svc -n ingress-nginx</span><br><span class=\"line\">NAME                   TYPE        CLUSTER-IP     PORT(S)</span><br><span class=\"line\">default-http-backend   ClusterIP   10.0.64.249    80/TCP</span><br><span class=\"line\">ingress-nginx          NodePort    10.0.220.217   80:30100/TCP,443:30101/TCP</span><br></pre></td></tr></table></figure>\n<p><code>Node</code>IP203.0.113.2 (<code>external IP</code>,  bare-metal<code>&lt;None&gt;</code>)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ kubectl describe node</span><br><span class=\"line\">NAME     STATUS   ROLES    EXTERNAL-IP</span><br><span class=\"line\">host-1   Ready    master   203.0.113.1</span><br><span class=\"line\">host-2   Ready    node     203.0.113.2</span><br><span class=\"line\">host-3   Ready    node     203.0.113.3</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><code>http://myapp.example.com:30100</code><code>host</code>:<code>myapp.example.com</code><code>Ingress</code><code>myapp.example.com</code> 203.0.113.2<br></p>\n<ul>\n<li><p><strong>Source IP address</strong><br>Services of type NodePort perform source address translation by defaultHTTP<code>source IP</code>NGINXKubernetesIP<br><code>ingress-nginx Service</code><code>spec.externalTrafficPolicy</code><code>local</code><a href=\"https://github.com/kubernetes/ingress-nginx/blob/nginx-0.19.0/deploy/provider/aws/service-nlb.yaml#L12-L14\" target=\"_blank\" rel=\"noopener\"></a><code>source IP</code></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">Service</span></span><br><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">v1</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\"><span class=\"attr\">  name:</span> <span class=\"string\">ingress-nginx</span></span><br><span class=\"line\"><span class=\"attr\">  namespace:</span> <span class=\"string\">ingress-nginx</span></span><br><span class=\"line\">  <span class=\"string\">...</span></span><br><span class=\"line\"><span class=\"attr\">spec:</span></span><br><span class=\"line\">  <span class=\"comment\"># this setting is t make sure the source IP address is preserved.</span></span><br><span class=\"line\"><span class=\"attr\">  externalTrafficPolicy:</span> <span class=\"string\">Local</span></span><br><span class=\"line\"><span class=\"attr\">  type:</span> <span class=\"string\">LoadBalancer</span></span><br><span class=\"line\">  <span class=\"string\">...</span></span><br><span class=\"line\"><span class=\"attr\">  ports:</span></span><br><span class=\"line\"><span class=\"attr\">  - name:</span> <span class=\"string\">http</span></span><br><span class=\"line\">\t<span class=\"attr\">port:</span> <span class=\"number\">80</span></span><br><span class=\"line\">\t<span class=\"attr\">targetPort:</span> <span class=\"string\">http</span></span><br><span class=\"line\">  <span class=\"string\">...</span></span><br></pre></td></tr></table></figure>\n<p><code>Node</code>(<code>external IP</code>,  bare-metal<code>&lt;None&gt;</code>)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ kubectl describe node</span><br><span class=\"line\">NAME     STATUS   ROLES    EXTERNAL-IP</span><br><span class=\"line\">host-1   Ready    master   203.0.113.1</span><br><span class=\"line\">host-2   Ready    node     203.0.113.2</span><br><span class=\"line\">host-3   Ready    node     203.0.113.3</span><br></pre></td></tr></table></figure>\n<p>nginx-ingress-controllerDeployment <code>replicas</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ kubectl get pod -o wide -n ingress-nginx</span><br><span class=\"line\">NAME                                       READY   STATUS    IP           NODE</span><br><span class=\"line\">default-http-backend-7c5bc89cc9-p86md      1/1     Running   172.17.1.1   host-2</span><br><span class=\"line\">nginx-ingress-controller-cf9ff8c96-8vvf8   1/1     Running   172.17.0.3   host-3</span><br><span class=\"line\">nginx-ingress-controller-cf9ff8c96-pxsds   1/1     Running   172.17.1.4   host-2</span><br></pre></td></tr></table></figure>\n<p><code>host-2</code><code>host-3</code> <code>NGINX</code>IP<code>host-1</code><code>Node</code><code>Node</code><code>NGINX</code></p>\n</li>\n<li><p><strong>Ingress status</strong><br><code>NodePort</code><code>Service</code><code>LoadBalancerIP</code><code>NGINX Ingress controller</code><code>Ingress</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ kubectl get ingress</span><br><span class=\"line\">   NAME           HOSTS               ADDRESS   PORTS</span><br><span class=\"line\">   test-ingress   myapp.example.com             80</span><br></pre></td></tr></table></figure>\n<p><code>NGINX Ingress Controller</code>IP<code>ingress-nginx Service</code><code>externalIPs</code>Ingress<br><code>Node</code>(<code>external IP</code>,  bare-metal<code>&lt;None&gt;</code>)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ kubectl describe node</span><br><span class=\"line\">NAME     STATUS   ROLES    EXTERNAL-IP</span><br><span class=\"line\">host-1   Ready    master   203.0.113.1</span><br><span class=\"line\">host-2   Ready    node     203.0.113.2</span><br><span class=\"line\">host-3   Ready    node     203.0.113.3</span><br></pre></td></tr></table></figure>\n<p><code>ingress-nginx Service</code> <code>spec</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\">spec:</span><br><span class=\"line\">  externalIPs:</span><br><span class=\"line\">  - 203.0.113.1</span><br><span class=\"line\">  - 203.0.113.2</span><br><span class=\"line\">  - 203.0.113.3</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n<p><code>Ingress</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ kubectl get ingress -o wide</span><br><span class=\"line\">NAME           HOSTS               ADDRESS                               PORTS</span><br><span class=\"line\">test-ingress   myapp.example.com   203.0.113.1,203.0.113.2,203.0.113.3   80</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>Redirects</strong></p>\n<blockquote>\n<p>As NGINX is not aware of the port translation operated by the NodePort Service, backend applications are responsible for generating redirect URLs that take into account the URL used by external clients, including the NodePort.</p>\n</blockquote>\n<p>NGINXNodePortNodePortURLURL<br>Redirects generated by NGINX, for instance HTTP to HTTPS or domain to <a href=\"http://www.domain\" target=\"_blank\" rel=\"noopener\">www.domain</a>, are generated without NodePort:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ curl -D- http://myapp.example.com:30100</span><br><span class=\"line\">HTTP/1.1 308 Permanent Redirect</span><br><span class=\"line\">Server: nginx/1.15.2</span><br><span class=\"line\">Location: https://myapp.example.com/  #-&gt; missing NodePort in HTTPS redirect</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<ul>\n<li><h5 id=\"Via-the-host-network\"><a href=\"#Via-the-host-network\" class=\"headerlink\" title=\"Via the host network\"></a>Via the host network</h5><p><code>NodePorts</code><code>ingress-nginx</code>Pods<strong></strong>(<code>network namespace</code>)<code>NodePort Service</code><code>NGINX Ingress controller</code>k8s<code>Node</code>80443<br>Pods<code>template.spec</code><code>hostNetwork</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> template:</span><br><span class=\"line\"> spec:</span><br><span class=\"line\">hostNetwork: true</span><br></pre></td></tr></table></figure>\n<p><br><code>NGINX Ingress Controller</code><br><code>nginx-ingress-controller</code>Deployment<code>NGINX</code> PodsNIP Pod IP</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  $ kubectl get pod -o wide -n ingress-nginx</span><br><span class=\"line\">NAME                                       READY   STATUS    IP            NODE</span><br><span class=\"line\">default-http-backend-7c5bc89cc9-p86md      1/1     Running   172.17.1.1    host-2</span><br><span class=\"line\">nginx-ingress-controller-5b4cf5fc6-7lg6c   1/1     Running   203.0.113.3   host-3</span><br><span class=\"line\">nginx-ingress-controller-5b4cf5fc6-lzrls   1/1     Running   203.0.113.2   host-2</span><br></pre></td></tr></table></figure>\n<p><code>NGINX Ingress Controller</code> Pod Pods </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  $ kubectl -n ingress-nginx describe pod &lt;unschedulable-nginx-ingress-controller-pod&gt;</span><br><span class=\"line\">...</span><br><span class=\"line\">Events:</span><br><span class=\"line\">  Type     Reason            From               Message</span><br><span class=\"line\">  ----     ------            ----               -------</span><br><span class=\"line\">  Warning  FailedScheduling  default-scheduler  0/3 nodes are available: 3 node(s) didn&apos;t have free ports for the requested pod ports.</span><br></pre></td></tr></table></figure>\n<p>Pod<code>NGINX Ingress Controller</code><code>DaemonSet</code><code>Deployment</code><br><img src=\"/images/hostnetwork.jpg\" alt=\"hostnetwork\"><br>NodePorts</p>\n<ul>\n<li><p><strong>DNS resolution</strong><br>Pods<code>hostNetwork: true</code>DNS(<code>kube-dns</code><code>CoreDns</code>)Pods<code>spec.dnsPolicy</code><code>ClusterFirstWithHostNet</code></p>\n</li>\n<li><p><strong>Ingress status</strong><br>NGINX Ingresspublish-serviceIngress</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> $ kubectl get ingress</span><br><span class=\"line\">NAME           HOSTS               ADDRESS   PORTS</span><br><span class=\"line\">test-ingress   myapp.example.com             80</span><br></pre></td></tr></table></figure>\n<p><code>bare-metal</code>Node<code>Extral IP</code><code>--report-node-internal-ip-address</code>Ingress<code>NGINX Ingress Controller</code>IP<br>Given a nginx-ingress-controller DaemonSet composed of 2 replicas</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> $ kubectl -n ingress-nginx get pod -o wide</span><br><span class=\"line\">NAME                                       READY   STATUS    IP            NODE</span><br><span class=\"line\">default-http-backend-7c5bc89cc9-p86md      1/1     Running   172.17.1.1    host-2</span><br><span class=\"line\">nginx-ingress-controller-5b4cf5fc6-7lg6c   1/1     Running   203.0.113.3   host-3</span><br><span class=\"line\">nginx-ingress-controller-5b4cf5fc6-lzrls   1/1     Running   203.0.113.2   host-2</span><br></pre></td></tr></table></figure>\n<p>Ingress</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> $ kubectl get ingress -o wide</span><br><span class=\"line\">NAME           HOSTS               ADDRESS                   PORTS</span><br><span class=\"line\">test-ingress   myapp.example.com   203.0.113.2,203.0.113.3   80</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><h5 id=\"Using-a-self-provisioned-edge\"><a href=\"#Using-a-self-provisioned-edge\" class=\"headerlink\" title=\"Using a self-provisioned edge\"></a>Using a self-provisioned edge</h5><p>edge network component KubernetesHAproxyKubernetes<br>Over NodePortNodePortIPKubernetes<br>IPHTTPKubernetes/ TCP80443HTTPHTTPS NodePort<br><img src=\"/images/user_edge.jpg\" alt=\"Using a self-provisioned edge\"><br>Kubernetes<code>externalIPs</code>kube-proxyIP<code>endpoints</code>IP(target node)</p>\n<blockquote>\n<p><code>Node</code>(<code>external IP</code>,  bare-metal<code>&lt;None&gt;</code>)</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ kubectl describe node</span><br><span class=\"line\">NAME     STATUS   ROLES    EXTERNAL-IP</span><br><span class=\"line\">host-1   Ready    master   203.0.113.1</span><br><span class=\"line\">host-2   Ready    node     203.0.113.2</span><br><span class=\"line\">host-3   Ready    node     203.0.113.3</span><br></pre></td></tr></table></figure>\n</blockquote>\n<p>and the following ingress-nginx NodePort Service</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ kubectl -n ingress-nginx get svc</span><br><span class=\"line\">NAME                   TYPE        CLUSTER-IP     PORT(S)</span><br><span class=\"line\">ingress-nginx          NodePort    10.0.220.217   80:30100/TCP,443:30101/TCP</span><br></pre></td></tr></table></figure>\n<p><code>Service</code><code>spec.externalIPs</code><strong>externalIPs</strong>, <strong>NGINX</strong><code>NodePort</code><code>Service Port</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">spec:</span><br><span class=\"line\">externalIPs:</span><br><span class=\"line\">- 203.0.113.2</span><br><span class=\"line\">- 203.0.113.3</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ curl -D- http://myapp.example.com:30100</span><br><span class=\"line\">HTTP/1.1 200 OK</span><br><span class=\"line\">Server: nginx/1.15.2</span><br><span class=\"line\">$ curl -D- http://myapp.example.com</span><br><span class=\"line\">HTTP/1.1 200 OK</span><br><span class=\"line\">Server: nginx/1.15.2</span><br></pre></td></tr></table></figure>\n<p> <code>myapp.example.com</code> IP203.0.113.2  203.0.113.3</p>\n</li>\n</ul>\n"}],"PostAsset":[{"_id":"source/_posts/2019-03-21-jenkins-docker-command-not-found/example.png","post":"cjto6rqkj0000hqxucsmeexuw","slug":"example.png","modified":1,"renderable":1}],"PostCategory":[{"post_id":"cjto6rqkv0008hqxubomg75xx","category_id":"cjto6rqle000fhqxup4x5rdrs","_id":"cjto6rqlk000phqxu8mcn36wk"},{"post_id":"cjto6rqkj0000hqxucsmeexuw","category_id":"cjto6rqkr0004hqxunbffcjgv","_id":"cjto6rqlk000thqxu8q3kpwzg"},{"post_id":"cjto6rqkj0000hqxucsmeexuw","category_id":"cjto6rqli000lhqxuwzld3nbc","_id":"cjto6rqll000whqxu0rxey2cz"},{"post_id":"cjto6rqky000ahqxu3sr1ye1u","category_id":"cjto6rqlk000qhqxuj0bh420y","_id":"cjto6rqlm0010hqxuuwu67p86"},{"post_id":"cjto6rql1000dhqxu6tyw14qu","category_id":"cjto6rqkr0004hqxunbffcjgv","_id":"cjto6rqlp0014hqxu1h7nk63d"},{"post_id":"cjto6rql1000dhqxu6tyw14qu","category_id":"cjto6rqli000lhqxuwzld3nbc","_id":"cjto6rqlq0016hqxubgxk93r6"},{"post_id":"cjto6rqko0002hqxuomxpid3y","category_id":"cjto6rqkr0004hqxunbffcjgv","_id":"cjto6rqlq0018hqxugkdrsfdf"},{"post_id":"cjto6rqko0002hqxuomxpid3y","category_id":"cjto6rqli000lhqxuwzld3nbc","_id":"cjto6rqlr001bhqxu5dbt1x77"},{"post_id":"cjto6rql3000ehqxuigyvaeu6","category_id":"cjto6rqlp0013hqxug51q5hdp","_id":"cjto6rqls001ehqxup6j4zfzx"},{"post_id":"cjto6rqlg000ihqxummhupr3v","category_id":"cjto6rqlp0013hqxug51q5hdp","_id":"cjto6rqlt001ghqxuy6fxmzqd"},{"post_id":"cjto6rqlh000khqxuzvx9rcd4","category_id":"cjto6rqkr0004hqxunbffcjgv","_id":"cjto6rqlt001hhqxuqckuv1ct"},{"post_id":"cjto6rqlh000khqxuzvx9rcd4","category_id":"cjto6rqli000lhqxuwzld3nbc","_id":"cjto6rqlu001ihqxuyqylkejz"},{"post_id":"cjto6rqsz001jhqxu71qp5kel","category_id":"cjto6rqkr0004hqxunbffcjgv","_id":"cjto6rqt5001phqxult63mfpz"},{"post_id":"cjto6rqsz001jhqxu71qp5kel","category_id":"cjto6rqli000lhqxuwzld3nbc","_id":"cjto6rqtc001rhqxubt9irxfv"},{"post_id":"cjto6rqt0001khqxuhy9r80b7","category_id":"cjto6rqkr0004hqxunbffcjgv","_id":"cjto6rqtd001uhqxuetj7nae5"},{"post_id":"cjto6rqt0001khqxuhy9r80b7","category_id":"cjto6rqli000lhqxuwzld3nbc","_id":"cjto6rqtd001whqxuua0mrvs0"},{"post_id":"cjto6rqt3001mhqxudwebylac","category_id":"cjto6rqkr0004hqxunbffcjgv","_id":"cjto6rqte001yhqxunk7x44tb"},{"post_id":"cjto6rqt3001mhqxudwebylac","category_id":"cjto6rqli000lhqxuwzld3nbc","_id":"cjto6rqte0020hqxut4x0nkrk"},{"post_id":"cjto6rqt5001ohqxufu3os4ji","category_id":"cjto6rqkr0004hqxunbffcjgv","_id":"cjto6rqte0021hqxu904o61vh"},{"post_id":"cjto6rqt5001ohqxufu3os4ji","category_id":"cjto6rqtd001shqxumd5pk0om","_id":"cjto6rqte0022hqxulfeyb1mn"}],"PostTag":[{"post_id":"cjto6rql1000dhqxu6tyw14qu","tag_id":"cjto6rqkt0005hqxugei2rvtv","_id":"cjto6rqlg000hhqxu0o0cdar3"},{"post_id":"cjto6rqkj0000hqxucsmeexuw","tag_id":"cjto6rqkt0005hqxugei2rvtv","_id":"cjto6rqlh000jhqxux4u1af8i"},{"post_id":"cjto6rqkj0000hqxucsmeexuw","tag_id":"cjto6rql0000chqxuioarl37g","_id":"cjto6rqlj000nhqxu5qwq95uo"},{"post_id":"cjto6rqko0002hqxuomxpid3y","tag_id":"cjto6rqkt0005hqxugei2rvtv","_id":"cjto6rqlj000ohqxuelz5z3g6"},{"post_id":"cjto6rqlh000khqxuzvx9rcd4","tag_id":"cjto6rqkt0005hqxugei2rvtv","_id":"cjto6rqlk000shqxusoc1osb7"},{"post_id":"cjto6rqkt0006hqxulpkpfwp0","tag_id":"cjto6rqli000mhqxuep33bzne","_id":"cjto6rqll000xhqxumoydc8pd"},{"post_id":"cjto6rqkt0006hqxulpkpfwp0","tag_id":"cjto6rqlk000rhqxunmqelvjm","_id":"cjto6rqlm000yhqxu6idfl7dm"},{"post_id":"cjto6rqkv0008hqxubomg75xx","tag_id":"cjto6rqll000vhqxuf76c05zz","_id":"cjto6rqln0012hqxukr19sqeu"},{"post_id":"cjto6rqky000ahqxu3sr1ye1u","tag_id":"cjto6rqlm0011hqxu4f4ig6cx","_id":"cjto6rqlq0017hqxudj32s4l9"},{"post_id":"cjto6rql3000ehqxuigyvaeu6","tag_id":"cjto6rqlq0015hqxuwfuqeth9","_id":"cjto6rqlr001chqxu6lzolddm"},{"post_id":"cjto6rqlg000ihqxummhupr3v","tag_id":"cjto6rqlq0015hqxuwfuqeth9","_id":"cjto6rqlt001fhqxuwsoiqpkx"},{"post_id":"cjto6rqsz001jhqxu71qp5kel","tag_id":"cjto6rqkt0005hqxugei2rvtv","_id":"cjto6rqt3001lhqxuycxldju0"},{"post_id":"cjto6rqt3001mhqxudwebylac","tag_id":"cjto6rqkt0005hqxugei2rvtv","_id":"cjto6rqt7001qhqxuakh3qcvm"},{"post_id":"cjto6rqt0001khqxuhy9r80b7","tag_id":"cjto6rqkt0005hqxugei2rvtv","_id":"cjto6rqtd001vhqxuuqov12bi"},{"post_id":"cjto6rqt0001khqxuhy9r80b7","tag_id":"cjto6rqt4001nhqxuunq1pwg3","_id":"cjto6rqtd001xhqxu0pi5q7o8"},{"post_id":"cjto6rqt5001ohqxufu3os4ji","tag_id":"cjto6rqtd001thqxu97dedrpc","_id":"cjto6rqte001zhqxuu7hy72z2"}],"Tag":[{"name":"docker","_id":"cjto6rqkt0005hqxugei2rvtv"},{"name":"jenkins","_id":"cjto6rql0000chqxuioarl37g"},{"name":"Python","_id":"cjto6rqli000mhqxuep33bzne"},{"name":"thread","_id":"cjto6rqlk000rhqxunmqelvjm"},{"name":"","_id":"cjto6rqll000vhqxuf76c05zz"},{"name":"gRPC","_id":"cjto6rqlm0011hqxu4f4ig6cx"},{"name":"Oracle","_id":"cjto6rqlq0015hqxuwfuqeth9"},{"name":"storage","_id":"cjto6rqt4001nhqxuunq1pwg3"},{"name":"kubernetes","_id":"cjto6rqtd001thqxu97dedrpc"}]}}